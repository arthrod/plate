(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7913,26529,41330,49002],{20221:(e,t,n)=>{"use strict";n.d(t,{MarkdownStreamDemo:()=>y});var s=n(99019),a=n(5147),i=n(15457),r=n(54568),o=n(99680),l=n(7620),d=n(46639),c=n(50357),u=n(48674),m=n(28268),f=n(93955),h=n(87536),p=n(87794),g=n(80604),x=n(26529),b=n(68377);let v=/([A-Z])/g,_=/(\n+)$/,k=/^./,w={columns:["paragraph\n\n<column","_group",">\n"," "," <","column"," width",'="',"33",".","333","333","333","333","336",'%">\n',"   "," ","1","\n"," "," </","column",">\n"," "," <","column"," width",'="',"33",".","333","333","333","333","336",'%">\n',"   "," ","2","\n"," "," </","column",">\n"," "," <","column"," width",'="',"33",".","333","333","333","333","336",'%">\n',"   "," ","3","\n"," "," </","column",">\n","</","column","_group",">\n\nparagraph"],links:["[Link ","to OpenA","I](https://www.openai.com)\n\n","[Link ","to Google","I](https://ww","w.google.com/1","11","22","xx","yy","zz","aa","bb","cc","dd","ee","33)\n\n","[False Positive","11","22","33","44","55","66","77","88","99","100"],lists:["1."," number 1\n","- ","List B\n","-"," [x] ","Task C"],listWithImage:["## ","Links ","and ","Images\n\n","- [Link ","to OpenA","I](https://www.openai.com)\n","- ![Sample Image](https://via.placeholder.com/150)\n\n"],nestedStructureBlock:["```","javascript","\n","import"," React"," from"," '","react","';\n","import"," {"," Plate"," }"," from"," '@","ud","ecode","/","plate","';\n\n","const"," Basic","Editor"," ="," ()"," =>"," {\n"," "," return"," (\n","   "," <","Plate",">\n","     "," {/*"," Add"," your"," plugins"," and"," components"," here"," */}\n","   "," </","Plate",">\n"," "," );\n","};\n\n","export"," default"," Basic","Editor",";\n","```"],table:["| Feature          |"," Plate",".js","                                     "," ","| Slate.js                                     "," ","|\n|------------------","|--------------------------------","---------------","|--------------------------------","---------------","|\n| Purpose         "," ","| Rich text editor framework","                   "," ","| Rich text editor framework","                   "," ","|\n| Flexibility     "," ","| Highly customizable"," with"," plugins","             "," ","| Highly customizable"," with"," plugins","             "," ","|\n| Community       "," ","| Growing community support","                    "," ","| Established community"," support","                "," ","|\n| Documentation   "," ","| Comprehensive documentation"," available","        "," ","| Comprehensive documentation"," available","        "," ","|\n| Performance     "," ","| Optimized for performance"," with"," large"," documents","| Good performance, but"," may"," require"," optimization","|\n| Integration     "," ","| Easy integration with"," React","                  "," ","| Easy integration with"," React","                  "," ","|\n| Use Cases       "," ","| Suitable for complex"," editing"," needs","           "," ","| Suitable for complex"," editing"," needs","           "," ","\n\n","Paragraph ","should ","exist ","from ","table"]},y=()=>{let[e,t]=(0,l.useState)("columns"),[n,s]=(0,l.useState)(0),[a,i]=(0,l.useState)(!1),o=(0,l.useRef)(!1),x=(0,l.useRef)(0),_=(0,m.FI)({plugins:[...g.CopilotKit,...p.EditorKit],value:[]},[]),y=w[e],z=C(y),B=(0,l.useCallback)(async()=>{x.current+=1;let e=x.current;i(!1),o.current=!1,s(0),_.setOption(d.WB,"streaming",!1),_.setOption(d.WB,"_blockChunks",""),_.setOption(d.WB,"_blockPath",null);for(let t=0;t<z.length;t++){for(;o.current;){if(e!==x.current)return;await new Promise(e=>setTimeout(e,100))}if(e!==x.current)return;s(t+1);let n=z[t];if((0,d.Fi)(_,n.chunk,{textProps:{[(0,c.Ht)(_,u.t.ai)]:!0}}),await new Promise(e=>setTimeout(e,n.delayInMs)),e!==x.current)return}},[_,z]);return(0,r.jsxs)("section",{className:"p-20",children:[(0,r.jsxs)("div",{className:"mb-10",children:[(0,r.jsxs)("div",{className:"mb-4",children:[(0,r.jsx)("span",{className:"mb-2 block font-medium text-sm",children:"Test Scenario:"}),(0,r.jsx)("select",{className:"w-64 rounded border px-3 py-2",value:e,onChange:e=>{t(e.target.value),s(0),_.tf.setValue([])},children:Object.entries(w).map(e=>{let[t]=e;return(0,r.jsx)("option",{value:t,children:t.replace(v," $1").replace(k,e=>e.toUpperCase())},t)})})]}),(0,r.jsxs)("div",{className:"mb-4 flex gap-2",children:[(0,r.jsx)(f.$,{onClick:B,children:"Start Streaming"}),(0,r.jsx)(f.$,{onClick:()=>{let e=!o.current;o.current=e,i(e)},children:a?"Resume":"Pause"}),(0,r.jsx)(f.$,{onClick:()=>{if(n>0){for(let e of(_.tf.setValue([]),_.setOption(d.WB,"streaming",!1),_.setOption(d.WB,"_blockChunks",""),_.setOption(d.WB,"_blockPath",null),z.slice(0,n-1)))(0,d.Fi)(_,e.chunk,{textProps:{[(0,c.Ht)(_,u.t.ai)]:!0}});s(e=>Math.max(0,e-1))}},children:"Prev"}),(0,r.jsx)(f.$,{onClick:()=>{if(n<z.length){for(let e of(_.tf.setValue([]),_.setOption(d.WB,"streaming",!1),_.setOption(d.WB,"_blockChunks",""),_.setOption(d.WB,"_blockPath",null),z.slice(0,n+1)))(0,d.Fi)(_,e.chunk,{textProps:{[(0,c.Ht)(_,u.t.ai)]:!0}});s(e=>Math.min(z.length,e+1))}},children:"Next"}),(0,r.jsx)(f.$,{onClick:()=>{_.setOption(d.WB,"streaming",!1),_.setOption(d.WB,"_blockChunks",""),_.setOption(d.WB,"_blockPath",null),(0,d.Fi)(_,"test",{textProps:{[(0,c.Ht)(_,u.t.ai)]:!0}})},children:"Test Button"})]})]}),(0,r.jsxs)("div",{className:"my-2 flex gap-10",children:[(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsxs)("h3",{className:"mb-2 font-semibold",children:["Transformed Chunks (",n,"/",z.length,")"]}),(0,r.jsx)(N,{activeIndex:n,chunks:j(z.map(e=>e.chunk))})]}),(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsx)("h3",{className:"mb-2 font-semibold",children:"Editor Output"}),(0,r.jsx)(m.T6,{editor:_,children:(0,r.jsx)(b.EditorContainer,{className:"h-[500px] overflow-y-auto rounded border",children:(0,r.jsx)(b.Editor,{variant:"demo",className:"pb-[20vh]",placeholder:"Type something...",spellCheck:!1})})})]})]}),(0,r.jsx)("h2",{className:"mt-8 mb-4 font-semibold text-xl",children:"Raw Token Comparison"}),(0,r.jsxs)("div",{className:"my-2 flex gap-10",children:[(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsx)("h3",{className:"mb-2 font-semibold",children:"Original Chunks"}),(0,r.jsx)(N,{activeIndex:0,chunks:j(y)})]}),(0,r.jsxs)("div",{className:"w-1/2",children:[(0,r.jsx)("h3",{className:"mb-2 font-semibold",children:"Raw Markdown Text"}),(0,r.jsx)("textarea",{className:(0,h.cn)("h-[500px] w-full overflow-y-auto rounded border p-4 font-mono text-sm"),readOnly:!0,value:y.join("")})]})]})]})};function j(e){let t=[],n=[];for(let s=0;s<e.length;s++){let a=e[s];n.push({index:s,text:a});let i=_.exec(a);if(i){let e=i[1].length;t.push({chunks:[...n],linebreaks:e}),n=[]}}return n.length>0&&t.push({chunks:[...n],linebreaks:0}),t}let C=e=>{let t=[],n=new x.MarkdownJoiner;for(let s of e){let e=n.processText(s);e&&t.push({chunk:e,delayInMs:n.delayInMs})}let s=n.flush();return s&&t.push({chunk:s,delayInMs:n.delayInMs}),t},N=e=>{let t,n,l,d,c,u=(0,o.c)(12);if(u[0]!==e?({activeIndex:t,chunks:n}=e,l=(0,i._)(e,["activeIndex","chunks"]),u[0]=e,u[1]=t,u[2]=n,u[3]=l):(t=u[1],n=u[2],l=u[3]),u[4]!==t||u[5]!==n){let e;u[7]!==t?(e=(e,n)=>(0,r.jsx)("div",{className:"py-1",children:e.chunks.map((e,n)=>{let s=e.text.replaceAll("\n","⤶").replaceAll(" ","␣");return(0,r.jsx)("span",{className:(0,h.cn)("mx-1 inline-block rounded border p-1",t&&e.index<t&&"bg-amber-500"),children:s},n)})},n),u[7]=t,u[8]=e):e=u[8],d=n.map(e),u[4]=t,u[5]=n,u[6]=d}else d=u[6];return u[9]!==l||u[10]!==d?(c=(0,r.jsx)("div",(0,a._)((0,s._)({className:"my-1 h-[500px] overflow-y-auto rounded bg-gray-100 p-4 font-mono"},l),{children:d})),u[9]=l,u[10]=d,u[11]=c):c=u[11],c}},26529:(e,t,n)=>{"use strict";n.r(t),n.d(t,{MarkdownJoiner:()=>h,markdownJoinerTransform:()=>i});var s=n(99019),a=n(5147);let i=()=>()=>{let e,t=new h,n=!1;return new TransformStream({async flush(s){if(!n){let n=t.flush();n&&e&&s.enqueue({id:e,text:n,type:"text-delta"})}},async transform(i,r){if("text-delta"===i.type){e=i.id;let n=t.processText(i.text);n&&(r.enqueue((0,a._)((0,s._)({},i),{text:n})),await p(t.delayInMs))}else if("text-end"===i.type){let s=t.flush();s&&e&&r.enqueue({id:e,text:s,type:"text-delta"}),n=!0,r.enqueue(i)}else r.enqueue(i)}})},r=/\*\*.*?\*\*/,o=/```[^\s]+/,l=/^\[.*?\]\(.*?\)$/,d=/^[*-]\s+.+/,c=/^[*-]\s+\[[ xX]\]\s+.+/,u=/^\d+\.\s+.+/,m=/<([A-Za-z][A-Za-z0-9\-_]*)>/,f=/^[0-9]$/;class h{clearBuffer(){this.buffer="",this.isBuffering=!1}isCompleteBold(){return r.test(this.buffer)}isCompleteCodeBlockEnd(){return"```"===this.buffer.trimEnd()}isCompleteCodeBlockStart(){return o.test(this.buffer)}isCompleteLink(){return l.test(this.buffer)}isCompleteList(){return d.test(this.buffer)&&this.buffer.includes("[")?c.test(this.buffer):d.test(this.buffer)||u.test(this.buffer)||c.test(this.buffer)}isCompleteMdxTag(){return m.test(this.buffer)}isCompleteTableStart(){return this.buffer.startsWith("|")&&this.buffer.endsWith("|")}isFalsePositive(e){return!(this.buffer.startsWith("[")&&this.buffer.includes("http"))&&("\n"===e||this.buffer.length>30)}isLargeDocumentStart(){return this.documentCharacterCount>2500}isListStartChar(e){return"-"===e||"*"===e||f.test(e)}isTableExisted(){return this.buffer.length>10&&!this.buffer.includes("|")}flush(){let e=this.buffer;return this.clearBuffer(),e}processText(e){let t="";for(let n of e)if(this.streamingCodeBlock||this.streamingTable||this.streamingLargeDocument)this.buffer+=n,"\n"===n&&(t+=this.buffer,this.clearBuffer()),this.isCompleteCodeBlockEnd()&&this.streamingCodeBlock&&(this.streamingCodeBlock=!1,this.delayInMs=10,t+=this.buffer,this.clearBuffer()),this.isTableExisted()&&this.streamingTable&&(this.streamingTable=!1,this.delayInMs=10,t+=this.buffer,this.clearBuffer());else if(this.isBuffering){if(this.buffer+=n,this.isCompleteCodeBlockStart()){this.delayInMs=100,this.streamingCodeBlock=!0;continue}if(this.isCompleteTableStart()){this.delayInMs=100,this.streamingTable=!0;continue}if(this.isLargeDocumentStart()){this.delayInMs=100,this.streamingLargeDocument=!0;continue}this.isCompleteBold()||this.isCompleteMdxTag()||this.isCompleteList()||this.isCompleteLink()?(t+=this.buffer,this.clearBuffer()):this.isFalsePositive(n)&&(t+=this.buffer,this.clearBuffer())}else"*"===n||"<"===n||"`"===n||"|"===n||"["===n||this.isListStartChar(n)?(this.buffer=n,this.isBuffering=!0):t+=n;return this.documentCharacterCount+=e.length,t}constructor(){this.delayInMs=10,this.buffer="",this.documentCharacterCount=0,this.isBuffering=!1,this.streamingCodeBlock=!1,this.streamingLargeDocument=!1,this.streamingTable=!1}}async function p(e){return null==e?Promise.resolve():new Promise(t=>setTimeout(t,e))}},26844:(e,t,n)=>{"use strict";n.d(t,{Hr:()=>k,Ht:()=>w,I:()=>b,M5:()=>z,SQ:()=>x,_2:()=>v,dc:()=>p,hO:()=>_,lp:()=>y,lv:()=>C,mB:()=>j,nV:()=>N,rI:()=>h,ty:()=>g});var s=n(98752),a=n(99019),i=n(5147),r=n(15457),o=n(54568),l=n(99680);n(7620);var d=n(9983),c=n(9851),u=n(81205),m=n(61215),f=n(87536);function h(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.bL,(0,a._)({"data-slot":"dropdown-menu"},t)),i[2]=t,i[3]=n):n=i[3],n}function p(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.ZL,(0,a._)({"data-slot":"dropdown-menu-portal"},t)),i[2]=t,i[3]=n):n=i[3],n}function g(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.l9,(0,a._)({"data-slot":"dropdown-menu-trigger"},t)),i[2]=t,i[3]=n):n=i[3],n}function x(e){let t,n,s,i,c,u=(0,l.c)(10);u[0]!==e?({className:t,sideOffset:s}=e,n=(0,r._)(e,["className","sideOffset"]),u[0]=e,u[1]=t,u[2]=n,u[3]=s):(t=u[1],n=u[2],s=u[3]);let m=void 0===s?4:s;return u[4]!==t?(i=(0,f.cn)("data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 z-50 max-h-(--radix-dropdown-menu-content-available-height) min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=closed]:animate-out data-[state=open]:animate-in",t),u[4]=t,u[5]=i):i=u[5],u[6]!==n||u[7]!==m||u[8]!==i?(c=(0,o.jsx)(d.ZL,{children:(0,o.jsx)(d.UC,(0,a._)({className:i,"data-slot":"dropdown-menu-content",sideOffset:m},n))}),u[6]=n,u[7]=m,u[8]=i,u[9]=c):c=u[9],c}function b(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.YJ,(0,a._)({"data-slot":"dropdown-menu-group"},t)),i[2]=t,i[3]=n):n=i[3],n}function v(e){let t,n,s,i,c,u,m=(0,l.c)(12);m[0]!==e?({className:t,inset:n,variant:i}=e,s=(0,r._)(e,["className","inset","variant"]),m[0]=e,m[1]=t,m[2]=n,m[3]=s,m[4]=i):(t=m[1],n=m[2],s=m[3],i=m[4]);let h=void 0===i?"default":i;return m[5]!==t?(c=(0,f.cn)("data-[variant=destructive]:*:[svg]:!text-destructive relative flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[inset]:pl-8 data-[variant=destructive]:text-destructive data-[disabled]:opacity-50 data-[variant=destructive]:focus:bg-destructive/10 data-[variant=destructive]:focus:text-destructive dark:data-[variant=destructive]:focus:bg-destructive/20 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",t),m[5]=t,m[6]=c):c=m[6],m[7]!==n||m[8]!==s||m[9]!==c||m[10]!==h?(u=(0,o.jsx)(d.q7,(0,a._)({className:c,"data-inset":n,"data-slot":"dropdown-menu-item","data-variant":h},s)),m[7]=n,m[8]=s,m[9]=c,m[10]=h,m[11]=u):u=m[11],u}function _(e){let t,n,s,u,m,h,p,g=(0,l.c)(13);return g[0]!==e?({checked:t,children:n,className:s}=e,u=(0,r._)(e,["checked","children","className"]),g[0]=e,g[1]=t,g[2]=n,g[3]=s,g[4]=u):(t=g[1],n=g[2],s=g[3],u=g[4]),g[5]!==s?(m=(0,f.cn)("relative flex cursor-pointer select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",s),g[5]=s,g[6]=m):m=g[6],g[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,o.jsx)(d.VF,{children:(0,o.jsx)(c.A,{className:"size-4"})})}),g[7]=h):h=g[7],g[8]!==t||g[9]!==n||g[10]!==u||g[11]!==m?(p=(0,o.jsxs)(d.H_,(0,i._)((0,a._)({className:m,checked:t,"data-slot":"dropdown-menu-checkbox-item"},u),{children:[h,n]})),g[8]=t,g[9]=n,g[10]=u,g[11]=m,g[12]=p):p=g[12],p}function k(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.z6,(0,a._)({"data-slot":"dropdown-menu-radio-group"},t)),i[2]=t,i[3]=n):n=i[3],n}function w(e){let t,n,s,c,m,h,p=(0,l.c)(11);return p[0]!==e?({children:t,className:n}=e,s=(0,r._)(e,["children","className"]),p[0]=e,p[1]=t,p[2]=n,p[3]=s):(t=p[1],n=p[2],s=p[3]),p[4]!==n?(c=(0,f.cn)("relative flex cursor-pointer select-none items-center gap-2 rounded-sm py-1.5 pr-2 pl-8 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",n),p[4]=n,p[5]=c):c=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(m=(0,o.jsx)("span",{className:"pointer-events-none absolute left-2 flex size-3.5 items-center justify-center",children:(0,o.jsx)(d.VF,{children:(0,o.jsx)(u.A,{className:"size-2 fill-current"})})}),p[6]=m):m=p[6],p[7]!==t||p[8]!==s||p[9]!==c?(h=(0,o.jsxs)(d.hN,(0,i._)((0,a._)({className:c,"data-slot":"dropdown-menu-radio-item"},s),{children:[m,t]})),p[7]=t,p[8]=s,p[9]=c,p[10]=h):h=p[10],h}function y(e){let t,n,s,i,c,u=(0,l.c)(10);return u[0]!==e?({className:t,inset:n}=e,s=(0,r._)(e,["className","inset"]),u[0]=e,u[1]=t,u[2]=n,u[3]=s):(t=u[1],n=u[2],s=u[3]),u[4]!==t?(i=(0,f.cn)("px-2 py-1.5 font-medium text-sm data-[inset]:pl-8",t),u[4]=t,u[5]=i):i=u[5],u[6]!==n||u[7]!==s||u[8]!==i?(c=(0,o.jsx)(d.JU,(0,a._)({className:i,"data-inset":n,"data-slot":"dropdown-menu-label"},s)),u[6]=n,u[7]=s,u[8]=i,u[9]=c):c=u[9],c}function j(e){let t,n,s,i,c=(0,l.c)(8);return c[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(s=(0,f.cn)("-mx-1 my-1 h-px bg-border",t),c[3]=t,c[4]=s):s=c[4],c[5]!==n||c[6]!==s?(i=(0,o.jsx)(d.wv,(0,a._)({className:s,"data-slot":"dropdown-menu-separator"},n)),c[5]=n,c[6]=s,c[7]=i):i=c[7],i}function C(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.Pb,(0,a._)({"data-slot":"dropdown-menu-sub"},t)),i[2]=t,i[3]=n):n=i[3],n}function N(e){let t,n,s,c,u,h,p,g=(0,l.c)(13);return g[0]!==e?({children:t,className:n,inset:s}=e,c=(0,r._)(e,["children","className","inset"]),g[0]=e,g[1]=t,g[2]=n,g[3]=s,g[4]=c):(t=g[1],n=g[2],s=g[3],c=g[4]),g[5]!==n?(u=(0,f.cn)("flex cursor-pointer select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[inset]:pl-8 data-[state=open]:text-accent-foreground",n),g[5]=n,g[6]=u):u=g[6],g[7]===Symbol.for("react.memo_cache_sentinel")?(h=(0,o.jsx)(m.A,{className:"ml-auto size-4"}),g[7]=h):h=g[7],g[8]!==t||g[9]!==s||g[10]!==c||g[11]!==u?(p=(0,o.jsxs)(d.ZP,(0,i._)((0,a._)({className:u,"data-inset":s,"data-slot":"dropdown-menu-sub-trigger"},c),{children:[t,h]})),g[8]=t,g[9]=s,g[10]=c,g[11]=u,g[12]=p):p=g[12],p}function z(e){let t,n,s,i,c=(0,l.c)(8);return c[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(s=(0,f.cn)("data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 z-50 min-w-[8rem] origin-(--radix-dropdown-menu-content-transform-origin) overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=closed]:animate-out data-[state=open]:animate-in",t),c[3]=t,c[4]=s):s=c[4],c[5]!==n||c[6]!==s?(i=(0,o.jsx)(d.G5,(0,a._)({className:s,"data-slot":"dropdown-menu-sub-content"},n)),c[5]=n,c[6]=s,c[7]=i):i=c[7],i}},37600:(e,t,n)=>{"use strict";n.d(t,{w:()=>d});var s=n(99019),a=n(15457),i=n(54568),r=n(99680);n(7620);var o=n(13567),l=n(87536);function d(e){let t,n,d,c,u,m,f=(0,r.c)(12);f[0]!==e?({className:t,decorative:d,orientation:c}=e,n=(0,a._)(e,["className","decorative","orientation"]),f[0]=e,f[1]=t,f[2]=n,f[3]=d,f[4]=c):(t=f[1],n=f[2],d=f[3],c=f[4]);let h=void 0===d||d,p=void 0===c?"horizontal":c;return f[5]!==t?(u=(0,l.cn)("shrink-0 bg-border data-[orientation=horizontal]:h-px data-[orientation=vertical]:h-full data-[orientation=horizontal]:w-full data-[orientation=vertical]:w-px",t),f[5]=t,f[6]=u):u=f[6],f[7]!==h||f[8]!==p||f[9]!==n||f[10]!==u?(m=(0,i.jsx)(o.b,(0,s._)({orientation:p,className:u,"data-slot":"separator-root",decorative:h},n)),f[7]=h,f[8]=p,f[9]=n,f[10]=u,f[11]=m):m=f[11],m}},41330:(e,t,n)=>{"use strict";n.r(t),n.d(t,{useMounted:()=>a});var s=n(7620);function a(){let[e,t]=s.useState(!1);return s.useEffect(()=>{t(!0)},[]),e}},45471:(e,t,n)=>{"use strict";n.d(t,{Cf:()=>g,L3:()=>b,c7:()=>x,lG:()=>m,rr:()=>v,zM:()=>f});var s=n(98752),a=n(99019),i=n(5147),r=n(15457),o=n(54568),l=n(99680);n(7620);var d=n(442),c=n(55447),u=n(87536);function m(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.bL,(0,a._)({"data-slot":"dialog"},t)),i[2]=t,i[3]=n):n=i[3],n}function f(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.l9,(0,a._)({"data-slot":"dialog-trigger"},t)),i[2]=t,i[3]=n):n=i[3],n}function h(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.ZL,(0,a._)({"data-slot":"dialog-portal"},t)),i[2]=t,i[3]=n):n=i[3],n}function p(e){let t,n,s,i,c=(0,l.c)(8);return c[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(s=(0,u.cn)("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in",t),c[3]=t,c[4]=s):s=c[4],c[5]!==n||c[6]!==s?(i=(0,o.jsx)(d.hJ,(0,a._)({className:s,"data-slot":"dialog-overlay"},n)),c[5]=n,c[6]=s,c[7]=i):i=c[7],i}function g(e){let t,n,s,m,f,g,x,b=(0,l.c)(12);return b[0]!==e?({children:t,className:n}=e,s=(0,r._)(e,["children","className"]),b[0]=e,b[1]=t,b[2]=n,b[3]=s):(t=b[1],n=b[2],s=b[3]),b[4]===Symbol.for("react.memo_cache_sentinel")?(m=(0,o.jsx)(p,{}),b[4]=m):m=b[4],b[5]!==n?(f=(0,u.cn)("data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg",n),b[5]=n,b[6]=f):f=b[6],b[7]===Symbol.for("react.memo_cache_sentinel")?(g=(0,o.jsxs)(d.bm,{className:"absolute top-4 right-4 rounded-xs opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",children:[(0,o.jsx)(c.A,{}),(0,o.jsx)("span",{className:"sr-only",children:"Close"})]}),b[7]=g):g=b[7],b[8]!==t||b[9]!==s||b[10]!==f?(x=(0,o.jsxs)(h,{"data-slot":"dialog-portal",children:[m,(0,o.jsxs)(d.UC,(0,i._)((0,a._)({className:f,"data-slot":"dialog-content"},s),{children:[t,g]}))]}),b[8]=t,b[9]=s,b[10]=f,b[11]=x):x=b[11],x}function x(e){let t,n,s,i,d=(0,l.c)(8);return d[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),d[0]=e,d[1]=t,d[2]=n):(t=d[1],n=d[2]),d[3]!==t?(s=(0,u.cn)("flex flex-col gap-2 text-center sm:text-left",t),d[3]=t,d[4]=s):s=d[4],d[5]!==n||d[6]!==s?(i=(0,o.jsx)("div",(0,a._)({className:s,"data-slot":"dialog-header"},n)),d[5]=n,d[6]=s,d[7]=i):i=d[7],i}function b(e){let t,n,s,i,c=(0,l.c)(8);return c[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(s=(0,u.cn)("font-semibold text-lg leading-none",t),c[3]=t,c[4]=s):s=c[4],c[5]!==n||c[6]!==s?(i=(0,o.jsx)(d.hE,(0,a._)({className:s,"data-slot":"dialog-title"},n)),c[5]=n,c[6]=s,c[7]=i):i=c[7],i}function v(e){let t,n,s,i,c=(0,l.c)(8);return c[0]!==e?({className:t}=e,n=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=n):(t=c[1],n=c[2]),c[3]!==t?(s=(0,u.cn)("text-muted-foreground text-sm",t),c[3]=t,c[4]=s):s=c[4],c[5]!==n||c[6]!==s?(i=(0,o.jsx)(d.VY,(0,a._)({className:s,"data-slot":"dialog-description"},n)),c[5]=n,c[6]=s,c[7]=i):i=c[7],i}},48933:(e,t,n)=>{"use strict";n.d(t,{p:()=>l});var s=n(99019),a=n(15457),i=n(54568),r=n(99680);n(7620);var o=n(87536);function l(e){let t,n,l,d,c,u=(0,r.c)(10);return u[0]!==e?({className:t,type:l}=e,n=(0,a._)(e,["className","type"]),u[0]=e,u[1]=t,u[2]=n,u[3]=l):(t=u[1],n=u[2],l=u[3]),u[4]!==t?(d=(0,o.cn)("flex h-9 w-full min-w-0 rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-xs outline-none transition-[color,box-shadow] file:inline-flex file:h-7 file:border-0 file:bg-transparent file:font-medium file:text-foreground file:text-sm placeholder:text-muted-foreground disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:bg-input/30","focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40",t),u[4]=t,u[5]=d):d=u[5],u[6]!==n||u[7]!==d||u[8]!==l?(c=(0,i.jsx)("input",(0,s._)({className:d,"data-slot":"input",type:l},n)),u[6]=n,u[7]=d,u[8]=l,u[9]=c):c=u[9],c}},69589:(e,t,n)=>{"use strict";n.r(t),n.d(t,{GhostText:()=>o});var s=n(54568),a=n(99680);n(7620);var i=n(46639),r=n(28268);function o(){let e,t=(0,a.c)(1),n=(0,r.iQ)();return(0,r.gO)(i.EF,"isSuggested",n.id)?(t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,s.jsx)(l,{}),t[0]=e):e=t[0],e):null}function l(){let e,t=(0,a.c)(2),n=(0,r.gO)(i.EF,"suggestionText"),o=n&&n;return t[0]!==o?(e=(0,s.jsx)("span",{className:"pointer-events-none text-muted-foreground/70 max-sm:hidden",contentEditable:!1,children:o}),t[0]=o,t[1]=e):e=t[1],e}},70414:(e,t,n)=>{"use strict";n.d(t,{a:()=>a});var s=n(7620);function a(){let[e,t]=s.useState();return s.useEffect(()=>{let e=window.matchMedia("(max-width: ".concat(767,"px)")),n=()=>{t(window.innerWidth<768)};return e.addEventListener("change",n),t(window.innerWidth<768),()=>e.removeEventListener("change",n)},[]),!!e}},80604:(e,t,n)=>{"use strict";n.r(t),n.d(t,{CopilotKit:()=>o});var s=n(16017),a=n(46639),i=n(45806),r=n(69589);let o=[...n(51661).MarkdownKit,a.EF.configure(e=>{let{api:t}=e;return{options:{completeOptions:{api:"/api/ai/copilot",body:{system:'You are an advanced AI writing assistant, similar to VSCode Copilot but for general text. Your task is to predict and generate the next part of the text based on the given context.\n  \n  Rules:\n  - Continue the text naturally up to the next punctuation mark (., ,, ;, :, ?, or !).\n  - Maintain style and tone. Don\'t repeat given text.\n  - For unclear context, provide the most likely continuation.\n  - Handle code snippets, lists, or structured text if needed.\n  - Don\'t include """ in your response.\n  - CRITICAL: Always end with a punctuation mark.\n  - CRITICAL: Avoid starting a new block. Do not use block formatting like >, #, 1., 2., -, etc. The suggestion should continue in the same block as the context.\n  - If no context is provided or you can\'t generate a continuation, return "0" without explanation.'},onError:()=>{t.copilot.setBlockSuggestion({text:(0,i.eA)(s.a.lorem.sentence())})},onFinish:(e,n)=>{"0"!==n&&t.copilot.setBlockSuggestion({text:(0,i.eA)(n)})}},debounceDelay:500,renderGhostText:r.GhostText,getPrompt:e=>{let{editor:t}=e,n=t.api.block({highest:!0});if(!n)return"";let s=(0,i.g$)(t,{value:[n[0]]});return'Continue the text up to the next punctuation mark:\n  """\n  '.concat(s,'\n  """')}},shortcuts:{accept:{keys:"tab"},acceptNextWord:{keys:"mod+right"},reject:{keys:"escape"},triggerSuggestion:{keys:"ctrl+space"}}}})]},80757:(e,t,n)=>{Promise.resolve().then(n.bind(n,20221))},87536:(e,t,n)=>{"use strict";n.d(t,{cn:()=>i});var s=n(85135),a=n(14874);function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.QP)((0,s.$)(t))}},92972:(e,t,n)=>{"use strict";n.d(t,{Bc:()=>u,ZI:()=>h,k$:()=>f,m_:()=>m});var s=n(98752),a=n(99019),i=n(5147),r=n(15457),o=n(54568),l=n(99680);n(7620);var d=n(54739),c=n(87536);function u(e){let t,n,s,i=(0,l.c)(6);i[0]!==e?({delayDuration:n}=e,t=(0,r._)(e,["delayDuration"]),i[0]=e,i[1]=t,i[2]=n):(t=i[1],n=i[2]);let c=void 0===n?0:n;return i[3]!==c||i[4]!==t?(s=(0,o.jsx)(d.Kq,(0,a._)({"data-slot":"tooltip-provider",delayDuration:c},t)),i[3]=c,i[4]=t,i[5]=s):s=i[5],s}function m(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(u,{children:(0,o.jsx)(d.bL,(0,a._)({"data-slot":"tooltip"},t))}),i[2]=t,i[3]=n):n=i[3],n}function f(e){let t,n,i=(0,l.c)(4);return i[0]!==e?(t=(0,s._)({},e),i[0]=e,i[1]=t):t=i[1],i[2]!==t?(n=(0,o.jsx)(d.l9,(0,a._)({"data-slot":"tooltip-trigger"},t)),i[2]=t,i[3]=n):n=i[3],n}function h(e){let t,n,s,u,m,f,h=(0,l.c)(12);h[0]!==e?({children:t,className:n,sideOffset:u}=e,s=(0,r._)(e,["children","className","sideOffset"]),h[0]=e,h[1]=t,h[2]=n,h[3]=s,h[4]=u):(t=h[1],n=h[2],s=h[3],u=h[4]);let p=void 0===u?4:u;return h[5]!==n?(m=(0,c.cn)("fade-in-0 zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 z-50 w-fit origin-(--radix-tooltip-content-transform-origin) animate-in text-balance rounded-md bg-primary px-3 py-1.5 text-primary-foreground text-xs data-[state=closed]:animate-out",n),h[5]=n,h[6]=m):m=h[6],h[7]!==t||h[8]!==s||h[9]!==p||h[10]!==m?(f=(0,o.jsx)(d.ZL,{children:(0,o.jsx)(d.UC,(0,i._)((0,a._)({className:m,"data-slot":"tooltip-content",sideOffset:p},s),{children:t}))}),h[7]=t,h[8]=s,h[9]=p,h[10]=m,h[11]=f):f=h[11],f}},93955:(e,t,n)=>{"use strict";n.d(t,{$:()=>u,r:()=>c});var s=n(99019),a=n(15457),i=n(54568),r=n(99680);n(7620);var o=n(81541),l=n(30507),d=n(87536);let c=(0,l.F)("inline-flex shrink-0 cursor-pointer items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm outline-none transition-all focus-visible:border-ring focus-visible:ring-[3px] focus-visible:ring-ring/50 disabled:pointer-events-none disabled:opacity-50 aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 [&_svg:not([class*='size-'])]:size-4 [&_svg]:pointer-events-none [&_svg]:shrink-0",{defaultVariants:{size:"default",variant:"default"},variants:{size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",icon:"size-9",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",sm:"h-8 gap-1.5 rounded-md px-3 has-[>svg]:px-2.5"},variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:bg-destructive/60 dark:focus-visible:ring-destructive/40",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:border-input dark:bg-input/30 dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80"}}});function u(e){let t,n,l,u,m,f,h,p=(0,r.c)(14);p[0]!==e?({asChild:u,className:t,size:l,variant:m}=e,n=(0,a._)(e,["asChild","className","size","variant"]),p[0]=e,p[1]=t,p[2]=n,p[3]=l,p[4]=u,p[5]=m):(t=p[1],n=p[2],l=p[3],u=p[4],m=p[5]);let g=void 0!==u&&u?o.DX:"button";return p[6]!==t||p[7]!==l||p[8]!==m?(f=(0,d.cn)(c({className:t,size:l,variant:m})),p[6]=t,p[7]=l,p[8]=m,p[9]=f):f=p[9],p[10]!==g||p[11]!==n||p[12]!==f?(h=(0,i.jsx)(g,(0,s._)({className:f,"data-slot":"button"},n)),p[10]=g,p[11]=n,p[12]=f,p[13]=h):h=p[13],h}}},e=>{e.O(0,[12395,39603,73189,17565,72916,72122,39249,22331,71040,18803,16409,51988,1971,48392,68562,15172,84136,91608,60763,45316,87029,94232,1551,98571,42717,51300,60811,91436,82271,25014,89514,58863,13921,48806,53421,76255,35651,48034,17511,71604,20508,24455,25758,73252,52473,14784,2868,76558,59996,97718,7241,43018,50357,28268,42697,30589,61883,45806,46639,93629,34327,80423,58289,12407,17258,60649,48119,49022,30899,61742,26891,21489,92803,87794,587,7730,77358],()=>e(e.s=80757)),_N_E=e.O()}]);