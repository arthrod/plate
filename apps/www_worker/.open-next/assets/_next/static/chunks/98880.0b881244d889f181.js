"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[98880],{76499:(e,r,n)=>{n.r(r),n.d(r,{default:()=>u});var t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(e,r){if(!(e instanceof r))throw TypeError("Cannot call a class as a function")},o=function(){function e(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}(),a=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var n=arguments[r];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e},d=function(){function e(r){var n=this;i(this,e),this.worker=r,this.listeners=[],this.nextId=0,this.worker.addEventListener("message",function(e){var r=e.data.id,t=e.data.error,i=e.data.result;n.listeners[r](t,i),delete n.listeners[r]})}return o(e,[{key:"render",value:function(e,r){var n=this;return new Promise(function(t,i){var o=n.nextId++;n.listeners[o]=function(e,r){e?i(Error(e.message,e.fileName,e.lineNumber)):t(r)},n.worker.postMessage({id:o,src:e,options:r})})}}]),e}(),s=function e(r,n){i(this,e);var t=r();this.render=function(e,r){return new Promise(function(i,o){try{i(n(t,e,r))}catch(e){o(e)}})}};function l(){return"devicePixelRatio"in window&&window.devicePixelRatio>1?window.devicePixelRatio:1}let u=function(){function e(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=r.workerURL,t=r.worker,o=r.Module,a=r.render;if(i(this,e),void 0!==n)this.wrapper=new d(new Worker(n));else if(void 0!==t)this.wrapper=new d(t);else if(void 0!==o&&void 0!==a)this.wrapper=new s(o,a);else if(void 0!==e.Module&&void 0!==e.render)this.wrapper=new s(e.Module,e.render);else throw Error("Must specify workerURL or worker option, Module and render options, or include one of full.render.js or lite.render.js after viz.js.")}return o(e,[{key:"renderString",value:function(e){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.format,t=r.engine,i=r.files,o=void 0===i?[]:i,a=r.images,d=void 0===a?[]:a,s=r.yInvert,l=r.nop,u=0;u<d.length;u++)o.push({path:d[u].path,data:'<?xml version="1.0" encoding="UTF-8" standalone="no"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg width="'+d[u].width+'" height="'+d[u].height+'"></svg>'});return this.wrapper.render(e,{format:void 0===n?"svg":n,engine:void 0===t?"dot":t,files:o,images:d,yInvert:void 0!==s&&s,nop:void 0===l?0:l})}},{key:"renderSVGElement",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.renderString(e,a({},r,{format:"svg"})).then(function(e){return new DOMParser().parseFromString(e,"image/svg+xml").documentElement})}},{key:"renderImageElement",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.scale,i=r.mimeType,o=r.quality;return this.renderString(e,a({},r,{format:"svg"})).then(function(e){return("u"<typeof fabric?"undefined":t(fabric))==="object"&&fabric.loadSVGFromString?function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.scale,t=void 0===n?l():n,i=r.mimeType,o=void 0===i?"image/png":i,a=r.quality,d=void 0===a?1:a,s=void 0;return"image/jpeg"==o?s="jpeg":"image/png"==o&&(s="png"),new Promise(function(r,n){fabric.loadSVGFromString(e,function(e,i){0==e.length&&n(Error("Error loading SVG with Fabric"));var o=document.createElement("canvas");o.width=i.width,o.height=i.height;var a=new fabric.Canvas(o,{enableRetinaScaling:!1}),l=fabric.util.groupSVGElements(e,i);a.add(l).renderAll();var u=new Image;u.src=a.toDataURL({format:s,multiplier:t,quality:d}),u.width=i.width,u.height=i.height,r(u)})})}(e,{scale:n,mimeType:i,quality:o}):function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.scale,t=void 0===n?l():n,i=r.mimeType,o=void 0===i?"image/png":i,a=r.quality,d=void 0===a?1:a;return new Promise(function(r,n){var i=new Image;i.onload=function(){var e=document.createElement("canvas");e.width=i.width*t,e.height=i.height*t,e.getContext("2d").drawImage(i,0,0,e.width,e.height),e.toBlob(function(e){var n=new Image;n.src=URL.createObjectURL(e),n.width=i.width,n.height=i.height,r(n)},o,d)},i.onerror=function(e){n("error"in e?e.error:Error("Error loading SVG"))},i.src="data:image/svg+xml;base64,"+btoa(encodeURIComponent(e).replace(/%([0-9A-F]{2})/g,function(e,r){return String.fromCharCode("0x"+r)}))})}(e,{scale:n,mimeType:i,quality:o})})}},{key:"renderJSONObject",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=r.format;return("json"!==n||"json0"!==n)&&(n="json"),this.renderString(e,a({},r,{format:n})).then(function(e){return JSON.parse(e)})}}]),e}()}}]);