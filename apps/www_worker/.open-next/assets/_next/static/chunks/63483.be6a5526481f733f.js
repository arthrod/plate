"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[63483],{63483:(e,t,r)=>{r.r(t),r.d(t,{POST:()=>o});var s=r(48554),n=r(84839),a=r(40459);async function o(e){let{apiKey:t,model:r="gpt-4o-mini",prompt:o,system:i}=await e.json();if(!(t||a.env.AI_GATEWAY_API_KEY))return n.NextResponse.json({error:"Missing ai gateway API key."},{status:401});try{let t=await (0,s.Df)({abortSignal:e.signal,maxOutputTokens:50,model:"openai/".concat(r),prompt:o,system:i,temperature:.7});return n.NextResponse.json(t)}catch(e){if(e instanceof Error&&"AbortError"===e.name)return n.NextResponse.json(null,{status:408});return n.NextResponse.json({error:"Failed to process AI request"},{status:500})}}}}]);