"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[22694,61742],{6384:(e,t,o)=>{o.r(t),o.d(t,{InsertToolbarButton:()=>z});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(85077),c=o(62323),d=o(21838),u=o(78249),m=o(45083),h=o(44139),p=o(26611),g=o(61383),x=o(35829),f=o(28325),b=o(80998),j=o(61215),v=o(68202),_=o(73795),C=o(44124),y=o(91876),B=o(7121),S=o(80077),w=o(87412),k=o(49302),T=o(59615),A=o(60361),N=o(48674),D=o(28268),I=o(26844),F=o(34788),E=o(60071);let M=[{group:"Basic blocks",items:[{icon:(0,r.jsx)(i.A,{}),label:"Paragraph",value:N.t.p},{icon:(0,r.jsx)(c.A,{}),label:"Heading 1",value:"h1"},{icon:(0,r.jsx)(d.A,{}),label:"Heading 2",value:"h2"},{icon:(0,r.jsx)(u.A,{}),label:"Heading 3",value:"h3"},{icon:(0,r.jsx)(m.A,{}),label:"Table",value:N.t.table},{icon:(0,r.jsx)(h.A,{}),label:"Code",value:N.t.codeBlock},{icon:(0,r.jsx)(p.A,{}),label:"Quote",value:N.t.blockquote},{icon:(0,r.jsx)(g.A,{}),label:"Divider",value:N.t.hr}].map(e=>(0,n._)((0,l._)({},e),{onSelect:(e,t)=>{(0,F.insertBlock)(e,t)}}))},{group:"Lists",items:[{icon:(0,r.jsx)(x.A,{}),label:"Bulleted list",value:N.t.ul},{icon:(0,r.jsx)(f.A,{}),label:"Numbered list",value:N.t.ol},{icon:(0,r.jsx)(b.A,{}),label:"To-do list",value:N.t.listTodo},{icon:(0,r.jsx)(j.A,{}),label:"Toggle list",value:N.t.toggle}].map(e=>(0,n._)((0,l._)({},e),{onSelect:(e,t)=>{(0,F.insertBlock)(e,t)}}))},{group:"Media",items:[{icon:(0,r.jsx)(v.A,{}),label:"Image",value:N.t.img},{icon:(0,r.jsx)(_.A,{}),label:"Embed",value:N.t.mediaEmbed}].map(e=>(0,n._)((0,l._)({},e),{onSelect:(e,t)=>{(0,F.insertBlock)(e,t)}}))},{group:"Advanced blocks",items:[{icon:(0,r.jsx)(C.A,{}),label:"Table of contents",value:N.t.toc},{icon:(0,r.jsx)(y.A,{}),label:"3 columns",value:"action_three_columns"},{focusEditor:!1,icon:(0,r.jsx)(B.A,{}),label:"Equation",value:N.t.equation},{icon:(0,r.jsx)(S.A,{}),label:"Excalidraw",value:N.t.excalidraw},{icon:(0,r.jsx)(w.A,{}),label:"Code Drawing",value:N.t.codeDrawing}].map(e=>(0,n._)((0,l._)({},e),{onSelect:(e,t)=>{(0,F.insertBlock)(e,t)}}))},{group:"Inline",items:[{icon:(0,r.jsx)(k.A,{}),label:"Link",value:N.t.link},{focusEditor:!0,icon:(0,r.jsx)(T.A,{}),label:"Date",value:N.t.date},{focusEditor:!1,icon:(0,r.jsx)(B.A,{}),label:"Inline Equation",value:N.t.inlineEquation}].map(e=>(0,n._)((0,l._)({},e),{onSelect:(e,t)=>{(0,F.insertInlineElement)(e,t)}}))}];function z(e){let t,o,i,c,d,u=(0,a.c)(12),m=(0,D.Q_)(),[h,p]=s.useState(!1);return u[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(A.A,{}),u[0]=t):t=u[0],u[1]!==h?(o=(0,r.jsx)(I.ty,{asChild:!0,children:(0,r.jsx)(E.ToolbarButton,{pressed:h,tooltip:"Insert",isDropdown:!0,children:t})}),u[1]=h,u[2]=o):o=u[2],u[3]!==m?(i=M.map(e=>{let{group:t,items:o}=e;return(0,r.jsx)(E.ToolbarMenuGroup,{label:t,children:o.map(e=>{let{icon:t,label:o,value:l,onSelect:n}=e;return(0,r.jsxs)(I._2,{className:"min-w-[180px]",onSelect:()=>{n(m,l),m.tf.focus()},children:[t,o]},l)})},t)}),u[3]=m,u[4]=i):i=u[4],u[5]!==i?(c=(0,r.jsx)(I.SQ,{className:"flex max-h-[500px] min-w-0 flex-col overflow-y-auto",align:"start",children:i}),u[5]=i,u[6]=c):c=u[6],u[7]!==h||u[8]!==e||u[9]!==o||u[10]!==c?(d=(0,r.jsxs)(I.rI,(0,n._)((0,l._)({open:h,onOpenChange:p,modal:!1},e),{children:[o,c]})),u[7]=h,u[8]=e,u[9]=o,u[10]=c,u[11]=d):d=u[11],d}},10920:(e,t,o)=>{o.d(t,{G6:()=>d,dH:()=>s,kN:()=>r,o7:()=>i,pJ:()=>c,uL:()=>a});var l=o(50254),n=o(28268);let r=(0,n.HS)(l.l),a=(0,n.HS)(l.s),s=(0,n.HS)(l.c),i=(0,n.HS)(l.u);(0,n.HS)(l.o);let c=(0,n.HS)(l.n),d=(0,n.HS)(l.a);(0,n.HS)(l.t)},17943:(e,t,o)=>{o.r(t),o.d(t,{ImportToolbarButton:()=>y});var l=o(99019),n=o(5147),r=o(54568),a=o(7620),s=o(38088),i=o(56076),c=o(45806),d=o(42697),u=o(26455),m=o(48674),h=o(14796),p=o(28268),g=o(14633),x=o(18367),f=o(26844),b=o(20127),j=o(13706);let v=/^discussion(\d+)$/;var _=o(60071);let C=/\s+/;function y(e){let t=(0,p.Q_)(),[o,y]=a.useState(!1),B=(e,o)=>{if("html"===o){let o=(0,g.t)(e);return t.api.html.deserialize({element:o})}return"markdown"===o?t.getApi(c.LK).markdown.deserialize(e):[]},{openFilePicker:S}=(0,x.g)({accept:[".md",".mdx"],multiple:!1,onFilesSelected:async e=>{let{plainFiles:o}=e,l=B(await o[0].text(),"markdown");t.tf.insertNodes(l)}}),{openFilePicker:w}=(0,x.g)({accept:["text/html"],multiple:!1,onFilesSelected:async e=>{let{plainFiles:o}=e,l=B(await o[0].text(),"html");t.tf.insertNodes(l)}}),{openFilePicker:k}=(0,x.g)({accept:[".docx"],multiple:!1,onFilesSelected:async e=>{var o;let{plainFiles:l}=e,n=await l[0].arrayBuffer(),r=null!=(o=t.getOption(j.discussionPlugin,"discussions"))?o:[],a=r.reduce((e,t)=>{let o=v.exec(t.id);if(!o)return e;let l=Number(o[1]);return Number.isNaN(l)?e:Math.max(e,l)},0),c=await (0,i.$m)(t,n,{suggestionKey:m.t.suggestion,getSuggestionKey:d.b,commentKey:m.t.comment,getCommentKey:s.s,isText:h.Qg.isText,generateId:()=>"discussion".concat(++a)});for(let[e,o]of(console.log("[DOCX DEBUG] import result:",c),console.log("[DOCX DEBUG] editor.children after import:",JSON.stringify(t.children,null,2)),t.api.nodes({at:[],mode:"all"})))e.suggestion&&(console.log("[DIAG] suggestion node:",JSON.stringify(e),"path:",o),console.log("[DIAG] dataList:",t.getApi(d.a).suggestion.dataList(e)));if(console.log("[DOCX DIAG] Result summary:",{insertions:c.insertions,deletions:c.deletions,comments:c.comments,discussionCount:c.discussions.length,errors:c.errors,hasTracking:c.hasTracking}),setTimeout(()=>{for(let[o,l]of Array.from(t.api.nodes({at:[],mode:"all",match:h.Qg.isText}))){let t=o[m.t.suggestion],n=o[m.t.comment];if(t||n){var e;console.log("[DOCX DIAG] annotated node:",{text:null==(e=o.text)?void 0:e.slice(0,50),path:l,hasSuggestion:t,hasComment:n,keys:Object.keys(o).filter(e=>"text"!==e)})}}},100),c.discussions.length>0){let e=c.discussions.map(e=>{var t,o,l,n,r,a,s;return{id:e.id,comments:(null!=(t=e.comments)?t:[]).map((t,o)=>{var l,n,r,a,s,i;return{id:"comment".concat(o+1),contentRich:t.contentRich,createdAt:null!=(l=t.createdAt)?l:new Date,discussionId:e.id,isEdited:!1,userId:null!=(n=null!=(r=t.userId)?r:null==(a=t.user)?void 0:a.id)?n:"imported-unknown",authorName:null==(s=t.user)?void 0:s.name,authorInitials:(null==(i=t.user)?void 0:i.name)?t.user.name.split(C).slice(0,2).map(e=>{var t,o;return null!=(t=null==(o=e[0])?void 0:o.toUpperCase())?t:""}).join(""):void 0}}),createdAt:null!=(o=e.createdAt)?o:new Date,documentContent:e.documentContent,isResolved:!1,userId:null!=(l=null!=(n=e.userId)?n:null==(r=e.user)?void 0:r.id)?l:"imported-unknown",authorName:null==(a=e.user)?void 0:a.name,authorInitials:(null==(s=e.user)?void 0:s.name)?e.user.name.split(C).slice(0,2).map(e=>{var t,o;return null!=(t=null==(o=e[0])?void 0:o.toUpperCase())?t:""}).join(""):void 0}});t.setOption(j.discussionPlugin,"discussions",[...r,...e]),t.setOption(b.commentPlugin,"uniquePathMap",new Map)}c.hasTracking&&(console.log("[DOCX Import] Imported ".concat(c.insertions," insertions, ").concat(c.deletions," deletions, ").concat(c.comments," comments")),c.errors.length>0&&console.warn("[DOCX Import] Errors:",c.errors))}});return(0,r.jsxs)(f.rI,(0,n._)((0,l._)({open:o,onOpenChange:y,modal:!1},e),{children:[(0,r.jsx)(f.ty,{asChild:!0,children:(0,r.jsx)(_.ToolbarButton,{pressed:o,tooltip:"Import",isDropdown:!0,children:(0,r.jsx)(u.A,{className:"size-4"})})}),(0,r.jsx)(f.SQ,{align:"start",children:(0,r.jsxs)(f.I,{children:[(0,r.jsx)(f._2,{onSelect:()=>{w()},children:"Import from HTML"}),(0,r.jsx)(f._2,{onSelect:()=>{S()},children:"Import from Markdown"}),(0,r.jsx)(f._2,{onSelect:()=>{k()},children:"Import from Word"})]})})]}))}},20948:(e,t,o)=>{o.r(t),o.d(t,{MoreToolbarButton:()=>x});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(64306),c=o(99064),d=o(58131),u=o(25658),m=o(48674),h=o(28268),p=o(26844),g=o(60071);function x(e){let t,o,x,f,b,j,v,_,C,y,B,S,w,k=(0,a.c)(27),T=(0,h.Q_)(),[A,N]=s.useState(!1);return k[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(i.A,{}),k[0]=t):t=k[0],k[1]!==A?(o=(0,r.jsx)(p.ty,{asChild:!0,children:(0,r.jsx)(g.ToolbarButton,{pressed:A,tooltip:"Insert",children:t})}),k[1]=A,k[2]=o):o=k[2],k[3]!==T.tf?(x=()=>{T.tf.toggleMark(m.t.kbd),T.tf.collapse({edge:"end"}),T.tf.focus()},k[3]=T.tf,k[4]=x):x=k[4],k[5]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsx)(c.A,{}),k[5]=f):f=k[5],k[6]!==x?(b=(0,r.jsxs)(p._2,{onSelect:x,children:[f,"Keyboard input"]}),k[6]=x,k[7]=b):b=k[7],k[8]!==T.tf?(j=()=>{T.tf.toggleMark(m.t.sup,{remove:m.t.sub}),T.tf.focus()},k[8]=T.tf,k[9]=j):j=k[9],k[10]===Symbol.for("react.memo_cache_sentinel")?(v=(0,r.jsx)(d.A,{}),k[10]=v):v=k[10],k[11]!==j?(_=(0,r.jsxs)(p._2,{onSelect:j,children:[v,"Superscript"]}),k[11]=j,k[12]=_):_=k[12],k[13]!==T.tf?(C=()=>{T.tf.toggleMark(m.t.sub,{remove:m.t.sup}),T.tf.focus()},k[13]=T.tf,k[14]=C):C=k[14],k[15]===Symbol.for("react.memo_cache_sentinel")?(y=(0,r.jsx)(u.A,{}),k[15]=y):y=k[15],k[16]!==C?(B=(0,r.jsxs)(p._2,{onSelect:C,children:[y,"Subscript"]}),k[16]=C,k[17]=B):B=k[17],k[18]!==B||k[19]!==b||k[20]!==_?(S=(0,r.jsx)(p.SQ,{className:"ignore-click-outside/toolbar flex max-h-[500px] min-w-[180px] flex-col overflow-y-auto",align:"start",children:(0,r.jsxs)(p.I,{children:[b,_,B]})}),k[18]=B,k[19]=b,k[20]=_,k[21]=S):S=k[21],k[22]!==A||k[23]!==e||k[24]!==o||k[25]!==S?(w=(0,r.jsxs)(p.rI,(0,n._)((0,l._)({open:A,onOpenChange:N,modal:!1},e),{children:[o,S]})),k[22]=A,k[23]=e,k[24]=o,k[25]=S,k[26]=w):w=k[26],w}},22694:(e,t,o)=>{o.r(t),o.d(t,{ColorDropdownMenuItems:()=>w,DEFAULT_COLORS:()=>k,FontColorToolbarButton:()=>v});var l=o(99019),n=o(5147),r=o(15457),a=o(54568),s=o(99680),i=o(7620),c=o(41816),d=o(64090),u=o.n(d),m=o(297),h=o(60361),p=o(28268),g=o(93955),x=o(26844),f=o(92972),b=o(87536),j=o(60071);function v(e){let t,o,l,n,r,c,d,u,m,h,g,f,b,v=(0,s.c)(37),{children:y,nodeType:B,tooltip:S}=e,w=(0,p.Q_)();v[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],v[0]=t):t=v[0];let A=(0,p.QR)(_,t);v[1]!==B?(o=e=>e.api.mark(B),l=[B],v[1]=B,v[2]=o,v[3]=l):(o=v[2],l=v[3]);let N=(0,p.QR)(o,l),[D,I]=i.useState(),[F,E]=i.useState(!1);v[4]!==F?(n=e=>{E(void 0===e?!F:e)},v[4]=F,v[5]=n):n=v[5];let M=n;v[6]!==w.selection||v[7]!==w.tf||v[8]!==B?(r=e=>{w.selection&&(I(e),w.tf.select(w.selection),w.tf.focus(),w.tf.addMarks({[B]:e}))},v[6]=w.selection,v[7]=w.tf,v[8]=B,v[9]=r):r=v[9];let z=r;v[10]!==M||v[11]!==z?(c=e=>{z(e),M()},v[10]=M,v[11]=z,v[12]=c):c=v[12];let O=c;v[13]!==w.selection||v[14]!==w.tf||v[15]!==B||v[16]!==M||v[17]!==D?(d=()=>{w.selection&&(w.tf.select(w.selection),w.tf.focus(),D&&w.tf.removeMarks(B),M())},v[13]=w.selection,v[14]=w.tf,v[15]=B,v[16]=M,v[17]=D,v[18]=d):d=v[18];let L=d;v[19]!==N||v[20]!==A?(u=()=>{A&&I(N)},m=[N,A],v[19]=N,v[20]=A,v[21]=u,v[22]=m):(u=v[21],m=v[22]),i.useEffect(u,m),v[23]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{E(e)},v[23]=h):h=v[23],v[24]!==y||v[25]!==F||v[26]!==S?(g=(0,a.jsx)(x.ty,{asChild:!0,children:(0,a.jsx)(j.ToolbarButton,{pressed:F,tooltip:S,children:y})}),v[24]=y,v[25]=F,v[26]=S,v[27]=g):g=v[27];let Q=D||N;return v[28]!==L||v[29]!==Q||v[30]!==z||v[31]!==O?(f=(0,a.jsx)(x.SQ,{align:"start",children:(0,a.jsx)(C,{color:Q,clearColor:L,colors:k,customColors:T,updateColor:O,updateCustomColor:z})}),v[28]=L,v[29]=Q,v[30]=z,v[31]=O,v[32]=f):f=v[32],v[33]!==F||v[34]!==g||v[35]!==f?(b=(0,a.jsxs)(x.rI,{open:F,onOpenChange:h,modal:!1,children:[g,f]}),v[33]=F,v[34]=g,v[35]=f,v[36]=b):b=v[36],b}function _(e){return!!e.selection}let C=i.memo(function(e){let t,o,i,c,d,u,h,p,g,f,v,_,C,B=(0,s.c)(30);return B[0]!==e?({className:t,clearColor:o,color:i,colors:c,customColors:d,updateColor:h,updateCustomColor:p}=e,u=(0,r._)(e,["className","clearColor","color","colors","customColors","updateColor","updateCustomColor"]),B[0]=e,B[1]=t,B[2]=o,B[3]=i,B[4]=c,B[5]=d,B[6]=u,B[7]=h,B[8]=p):(t=B[1],o=B[2],i=B[3],c=B[4],d=B[5],u=B[6],h=B[7],p=B[8]),B[9]!==t?(g=(0,b.cn)("flex flex-col",t),B[9]=t,B[10]=g):g=B[10],B[11]!==i||B[12]!==c||B[13]!==d||B[14]!==h||B[15]!==p?(f=(0,a.jsx)(j.ToolbarMenuGroup,{label:"Custom Colors",children:(0,a.jsx)(y,{color:i,className:"px-2",colors:c,customColors:d,updateColor:h,updateCustomColor:p})}),B[11]=i,B[12]=c,B[13]=d,B[14]=h,B[15]=p,B[16]=f):f=B[16],B[17]!==i||B[18]!==c||B[19]!==h?(v=(0,a.jsx)(j.ToolbarMenuGroup,{label:"Default Colors",children:(0,a.jsx)(w,{color:i,className:"px-2",colors:c,updateColor:h})}),B[17]=i,B[18]=c,B[19]=h,B[20]=v):v=B[20],B[21]!==o||B[22]!==i?(_=i&&(0,a.jsx)(j.ToolbarMenuGroup,{children:(0,a.jsxs)(x._2,{className:"p-2",onClick:o,children:[(0,a.jsx)(m.A,{}),(0,a.jsx)("span",{children:"Clear"})]})}),B[21]=o,B[22]=i,B[23]=_):_=B[23],B[24]!==u||B[25]!==g||B[26]!==f||B[27]!==v||B[28]!==_?(C=(0,a.jsxs)("div",(0,n._)((0,l._)({className:g},u),{children:[f,v,_]})),B[24]=u,B[25]=g,B[26]=f,B[27]=v,B[28]=_,B[29]=C):C=B[29],C},(e,t)=>e.color===t.color&&e.colors===t.colors&&e.customColors===t.customColors);function y(e){let{className:t,color:o,colors:s,customColors:c,updateColor:d,updateCustomColor:m}=e,p=(0,r._)(e,["className","color","colors","customColors","updateColor","updateCustomColor"]),[f,j]=i.useState(),[v,_]=i.useState(o||"#000000");i.useEffect(()=>{!o||c.some(e=>e.value===o)||s.some(e=>e.value===o)||j(o)},[o,s,c]);let C=i.useMemo(()=>f?[...c,{isBrightColor:!1,name:"",value:f}]:c,[f,c]),y=i.useCallback(u()(m,100),[m]);return(0,a.jsx)("div",(0,n._)((0,l._)({className:(0,b.cn)("relative flex flex-col gap-4",t)},p),{children:(0,a.jsx)(w,{color:o,colors:C,updateColor:d,children:(0,a.jsx)(B,{value:v,onChange:e=>{_(e.target.value),y(e.target.value)},children:(0,a.jsxs)(x._2,{className:(0,b.cn)((0,g.r)({size:"icon",variant:"outline"}),"absolute top-1 right-2 bottom-2 flex size-8 items-center justify-center rounded-full"),onSelect:e=>{e.preventDefault()},children:[(0,a.jsx)("span",{className:"sr-only",children:"Custom"}),(0,a.jsx)(h.A,{})]})})})}))}function B(e){let{children:t,className:o,value:s="#000000"}=e,d=(0,r._)(e,["children","className","value"]),u=i.useRef(null);return(0,a.jsxs)("div",{className:"flex flex-col items-center",children:[i.Children.map(t,e=>e?i.cloneElement(e,{onClick:()=>{var e;return null==(e=u.current)?void 0:e.click()}}):e),(0,a.jsx)("input",(0,n._)((0,l._)({},d),{ref:(0,c.rF)(d.ref,u),className:(0,b.cn)("size-0 overflow-hidden border-0 p-0",o),value:s,type:"color"}))]})}function S(e){let t,o,n,i,c,d,u,m,h,p,j,v,_=(0,s.c)(25);_[0]!==e?({className:t,isBrightColor:o,isSelected:n,name:i,updateColor:d,value:u}=e,c=(0,r._)(e,["className","isBrightColor","isSelected","name","updateColor","value"]),_[0]=e,_[1]=t,_[2]=o,_[3]=n,_[4]=i,_[5]=c,_[6]=d,_[7]=u):(t=_[1],o=_[2],n=_[3],i=_[4],c=_[5],d=_[6],u=_[7]),_[8]!==t||_[9]!==o||_[10]!==n?(m=(0,b.cn)((0,g.r)({size:"icon",variant:"outline"}),"my-1 flex size-6 items-center justify-center rounded-full border border-muted border-solid p-0 transition-all hover:scale-125",!o&&"border-transparent",n&&"border-2 border-primary",t),_[8]=t,_[9]=o,_[10]=n,_[11]=m):m=_[11],_[12]!==u?(h={backgroundColor:u},_[12]=u,_[13]=h):h=_[13],_[14]!==d||_[15]!==u?(p=e=>{e.preventDefault(),d(u)},_[14]=d,_[15]=u,_[16]=p):p=_[16],_[17]!==c||_[18]!==m||_[19]!==h||_[20]!==p?(j=(0,a.jsx)(x._2,(0,l._)({className:m,style:h,onSelect:p},c)),_[17]=c,_[18]=m,_[19]=h,_[20]=p,_[21]=j):j=_[21];let C=j;return _[22]!==C||_[23]!==i?(v=i?(0,a.jsxs)(f.m_,{children:[(0,a.jsx)(f.k$,{children:C}),(0,a.jsx)(f.ZI,{className:"mb-1 capitalize",children:i})]}):C,_[22]=C,_[23]=i,_[24]=v):v=_[24],v}function w(e){let t,o,i,c,d,u,m,h,p,g=(0,s.c)(22);if(g[0]!==e?({className:t,color:o,colors:i,updateColor:d}=e,c=(0,r._)(e,["className","color","colors","updateColor"]),g[0]=e,g[1]=t,g[2]=o,g[3]=i,g[4]=c,g[5]=d):(t=g[1],o=g[2],i=g[3],c=g[4],d=g[5]),g[6]!==t?(u=(0,b.cn)("grid grid-cols-[repeat(10,1fr)] place-items-center gap-x-1",t),g[6]=t,g[7]=u):u=g[7],g[8]!==o||g[9]!==i||g[10]!==d){let e;g[12]!==o||g[13]!==d?(e=e=>{let{isBrightColor:t,name:l,value:n}=e;return(0,a.jsx)(S,{name:l,value:n,isBrightColor:t,isSelected:o===n,updateColor:d},null!=l?l:n)},g[12]=o,g[13]=d,g[14]=e):e=g[14],m=i.map(e),g[8]=o,g[9]=i,g[10]=d,g[11]=m}else m=g[11];return g[15]!==c.children||g[16]!==m?(h=(0,a.jsxs)(f.Bc,{children:[m,c.children]}),g[15]=c.children,g[16]=m,g[17]=h):h=g[17],g[18]!==c||g[19]!==u||g[20]!==h?(p=(0,a.jsx)("div",(0,n._)((0,l._)({className:u},c),{children:h})),g[18]=c,g[19]=u,g[20]=h,g[21]=p):p=g[21],p}let k=[{isBrightColor:!1,name:"black",value:"#000000"},{isBrightColor:!1,name:"dark grey 4",value:"#434343"},{isBrightColor:!1,name:"dark grey 3",value:"#666666"},{isBrightColor:!1,name:"dark grey 2",value:"#999999"},{isBrightColor:!1,name:"dark grey 1",value:"#B7B7B7"},{isBrightColor:!1,name:"grey",value:"#CCCCCC"},{isBrightColor:!1,name:"light grey 1",value:"#D9D9D9"},{isBrightColor:!0,name:"light grey 2",value:"#EFEFEF"},{isBrightColor:!0,name:"light grey 3",value:"#F3F3F3"},{isBrightColor:!0,name:"white",value:"#FFFFFF"},{isBrightColor:!1,name:"red berry",value:"#980100"},{isBrightColor:!1,name:"red",value:"#FE0000"},{isBrightColor:!1,name:"orange",value:"#FE9900"},{isBrightColor:!0,name:"yellow",value:"#FEFF00"},{isBrightColor:!1,name:"green",value:"#00FF00"},{isBrightColor:!1,name:"cyan",value:"#00FFFF"},{isBrightColor:!1,name:"cornflower blue",value:"#4B85E8"},{isBrightColor:!1,name:"blue",value:"#1300FF"},{isBrightColor:!1,name:"purple",value:"#9900FF"},{isBrightColor:!1,name:"magenta",value:"#FF00FF"},{isBrightColor:!1,name:"light red berry 3",value:"#E6B8AF"},{isBrightColor:!1,name:"light red 3",value:"#F4CCCC"},{isBrightColor:!0,name:"light orange 3",value:"#FCE4CD"},{isBrightColor:!0,name:"light yellow 3",value:"#FFF2CC"},{isBrightColor:!0,name:"light green 3",value:"#D9EAD3"},{isBrightColor:!1,name:"light cyan 3",value:"#D0DFE3"},{isBrightColor:!1,name:"light cornflower blue 3",value:"#C9DAF8"},{isBrightColor:!0,name:"light blue 3",value:"#CFE1F3"},{isBrightColor:!0,name:"light purple 3",value:"#D9D2E9"},{isBrightColor:!0,name:"light magenta 3",value:"#EAD1DB"},{isBrightColor:!1,name:"light red berry 2",value:"#DC7E6B"},{isBrightColor:!1,name:"light red 2",value:"#EA9999"},{isBrightColor:!1,name:"light orange 2",value:"#F9CB9C"},{isBrightColor:!0,name:"light yellow 2",value:"#FFE598"},{isBrightColor:!1,name:"light green 2",value:"#B7D6A8"},{isBrightColor:!1,name:"light cyan 2",value:"#A1C4C9"},{isBrightColor:!1,name:"light cornflower blue 2",value:"#A4C2F4"},{isBrightColor:!1,name:"light blue 2",value:"#9FC5E8"},{isBrightColor:!1,name:"light purple 2",value:"#B5A7D5"},{isBrightColor:!1,name:"light magenta 2",value:"#D5A6BD"},{isBrightColor:!1,name:"light red berry 1",value:"#CC4125"},{isBrightColor:!1,name:"light red 1",value:"#E06666"},{isBrightColor:!1,name:"light orange 1",value:"#F6B26B"},{isBrightColor:!1,name:"light yellow 1",value:"#FFD966"},{isBrightColor:!1,name:"light green 1",value:"#93C47D"},{isBrightColor:!1,name:"light cyan 1",value:"#76A5AE"},{isBrightColor:!1,name:"light cornflower blue 1",value:"#6C9EEB"},{isBrightColor:!1,name:"light blue 1",value:"#6FA8DC"},{isBrightColor:!1,name:"light purple 1",value:"#8D7CC3"},{isBrightColor:!1,name:"light magenta 1",value:"#C27BA0"},{isBrightColor:!1,name:"dark red berry 1",value:"#A61B00"},{isBrightColor:!1,name:"dark red 1",value:"#CC0000"},{isBrightColor:!1,name:"dark orange 1",value:"#E59138"},{isBrightColor:!1,name:"dark yellow 1",value:"#F1C231"},{isBrightColor:!1,name:"dark green 1",value:"#6AA74F"},{isBrightColor:!1,name:"dark cyan 1",value:"#45818E"},{isBrightColor:!1,name:"dark cornflower blue 1",value:"#3B78D8"},{isBrightColor:!1,name:"dark blue 1",value:"#3E84C6"},{isBrightColor:!1,name:"dark purple 1",value:"#664EA6"},{isBrightColor:!1,name:"dark magenta 1",value:"#A64D78"},{isBrightColor:!1,name:"dark red berry 2",value:"#84200D"},{isBrightColor:!1,name:"dark red 2",value:"#990001"},{isBrightColor:!1,name:"dark orange 2",value:"#B45F05"},{isBrightColor:!1,name:"dark yellow 2",value:"#BF9002"},{isBrightColor:!1,name:"dark green 2",value:"#38761D"},{isBrightColor:!1,name:"dark cyan 2",value:"#124F5C"},{isBrightColor:!1,name:"dark cornflower blue 2",value:"#1155CB"},{isBrightColor:!1,name:"dark blue 2",value:"#0C5394"},{isBrightColor:!1,name:"dark purple 2",value:"#351C75"},{isBrightColor:!1,name:"dark magenta 2",value:"#741B47"},{isBrightColor:!1,name:"dark red berry 3",value:"#5B0F00"},{isBrightColor:!1,name:"dark red 3",value:"#660000"},{isBrightColor:!1,name:"dark orange 3",value:"#783F04"},{isBrightColor:!1,name:"dark yellow 3",value:"#7E6000"},{isBrightColor:!1,name:"dark green 3",value:"#274E12"},{isBrightColor:!1,name:"dark cyan 3",value:"#0D343D"},{isBrightColor:!1,name:"dark cornflower blue 3",value:"#1B4487"},{isBrightColor:!1,name:"dark blue 3",value:"#083763"},{isBrightColor:!1,name:"dark purple 3",value:"#1F124D"},{isBrightColor:!1,name:"dark magenta 3",value:"#4C1130"}],T=[{isBrightColor:!1,name:"dark orange 3",value:"#783F04"},{isBrightColor:!1,name:"dark grey 3",value:"#666666"},{isBrightColor:!1,name:"dark grey 2",value:"#999999"},{isBrightColor:!1,name:"light cornflower blue 1",value:"#6C9EEB"},{isBrightColor:!1,name:"dark magenta 3",value:"#4C1130"}]},25877:(e,t,o)=>{o.r(t),o.d(t,{DocxExportKit:()=>d});var l=o(23098),n=o(99565),r=o(37132),a=o(95846),s=o(58504),i=o(56076),c=o(48674);let d=[i.an.configure({override:{components:{[c.t.codeBlock]:n.pc,[c.t.codeLine]:n.mc,[c.t.codeSyntax]:n.tk,[c.t.column]:r.JT,[c.t.columnGroup]:r.cL,[c.t.equation]:a.Xo,[c.t.inlineEquation]:a.sh,[c.t.callout]:l.t,[c.t.toc]:s.x}}})]},27608:(e,t,o)=>{o.d(t,{u:()=>u});var l=o(99019),n=o(15457),r=o(54568),a=o(99680);o(7620);var s=o(30507),i=o(14633),c=o(87536);let d=(0,s.F)((0,c.cn)("group/editor","relative w-full cursor-text select-text overflow-x-hidden whitespace-pre-wrap break-words","rounded-md ring-offset-background focus-visible:outline-none","placeholder:text-muted-foreground/80 **:data-slate-placeholder:top-[auto_!important] **:data-slate-placeholder:text-muted-foreground/80 **:data-slate-placeholder:opacity-100!","[&_strong]:font-bold"),{defaultVariants:{variant:"none"},variants:{disabled:{true:"cursor-not-allowed opacity-50"},focused:{true:"ring-2 ring-ring ring-offset-2"},variant:{ai:"w-full px-0 text-base md:text-sm",aiChat:"max-h-[min(70vh,320px)] w-full overflow-y-auto px-5 py-3 text-base md:text-sm",default:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",demo:"size-full px-16 pt-4 pb-72 text-base sm:px-[max(64px,calc(50%-350px))]",fullWidth:"size-full px-16 pt-4 pb-72 text-base sm:px-24",none:"",select:"px-3 py-2 text-base data-readonly:w-fit"}}});function u(e){let t,o,s,u,m,h=(0,a.c)(10);return h[0]!==e?({className:t,variant:s}=e,o=(0,n._)(e,["className","variant"]),h[0]=e,h[1]=t,h[2]=o,h[3]=s):(t=h[1],o=h[2],s=h[3]),h[4]!==t||h[5]!==s?(u=(0,c.cn)(d({variant:s}),t),h[4]=t,h[5]=s,h[6]=u):u=h[6],h[7]!==o||h[8]!==u?(m=(0,r.jsx)(i.s,(0,l._)({className:u},o)),h[7]=o,h[8]=u,h[9]=m):m=h[9],m}},32061:(e,t,o)=>{o.r(t),o.d(t,{BulletedListToolbarButton:()=>x,NumberedListToolbarButton:()=>b,TodoListToolbarButton:()=>v});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(58289),c=o(88273),d=o(35829),u=o(28325),m=o(15096),h=o(28268),p=o(26844),g=o(60071);function x(){let e,t,o,l,n,c,u,m,x,b,j,v,_,C,y,B,S,w=(0,a.c)(34),k=(0,h.Q_)(),[T,A]=s.useState(!1);w[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],w[0]=e):e=w[0];let N=(0,h.QR)(f,e);w[1]!==k?(t=()=>{(0,i.o)(k,{listStyleType:i.M.Disc})},w[1]=k,w[2]=t):t=w[2];let D=N?"on":"off";return w[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(d.A,{className:"size-4"}),w[3]=o):o=w[3],w[4]!==t||w[5]!==D?(l=(0,r.jsx)(g.ToolbarSplitButtonPrimary,{className:"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",onClick:t,"data-state":D,children:o}),w[4]=t,w[5]=D,w[6]=l):l=w[6],w[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(p.ty,{asChild:!0,children:(0,r.jsx)(g.ToolbarSplitButtonSecondary,{})}),w[7]=n):n=w[7],w[8]!==k?(c=()=>(0,i.o)(k,{listStyleType:i.M.Disc}),w[8]=k,w[9]=c):c=w[9],w[10]===Symbol.for("react.memo_cache_sentinel")?(u=(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full border border-current bg-current"}),"Default"]}),w[10]=u):u=w[10],w[11]!==c?(m=(0,r.jsx)(p._2,{onClick:c,children:u}),w[11]=c,w[12]=m):m=w[12],w[13]!==k?(x=()=>(0,i.o)(k,{listStyleType:i.M.Circle}),w[13]=k,w[14]=x):x=w[14],w[15]===Symbol.for("react.memo_cache_sentinel")?(b=(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 rounded-full border border-current"}),"Circle"]}),w[15]=b):b=w[15],w[16]!==x?(j=(0,r.jsx)(p._2,{onClick:x,children:b}),w[16]=x,w[17]=j):j=w[17],w[18]!==k?(v=()=>(0,i.o)(k,{listStyleType:i.M.Square}),w[18]=k,w[19]=v):v=w[19],w[20]===Symbol.for("react.memo_cache_sentinel")?(_=(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)("div",{className:"size-2 border border-current bg-current"}),"Square"]}),w[20]=_):_=w[20],w[21]!==v?(C=(0,r.jsx)(p._2,{onClick:v,children:_}),w[21]=v,w[22]=C):C=w[22],w[23]!==j||w[24]!==C||w[25]!==m?(y=(0,r.jsx)(p.SQ,{align:"start",alignOffset:-32,children:(0,r.jsxs)(p.I,{children:[m,j,C]})}),w[23]=j,w[24]=C,w[25]=m,w[26]=y):y=w[26],w[27]!==T||w[28]!==y?(B=(0,r.jsxs)(p.rI,{open:T,onOpenChange:A,modal:!1,children:[n,y]}),w[27]=T,w[28]=y,w[29]=B):B=w[29],w[30]!==T||w[31]!==B||w[32]!==l?(S=(0,r.jsxs)(g.ToolbarSplitButton,{pressed:T,children:[l,B]}),w[30]=T,w[31]=B,w[32]=l,w[33]=S):S=w[33],S}function f(e){return(0,i.x)(e,[i.M.Disc,i.M.Circle,i.M.Square])}function b(){let e,t,o,l,n,c,d,m,x,f,b,v,_,C=(0,a.c)(31),y=(0,h.Q_)(),[B,S]=s.useState(!1);C[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],C[0]=e):e=C[0];let w=(0,h.QR)(j,e);C[1]!==y?(t=()=>(0,i.o)(y,{listStyleType:i.M.Decimal}),C[1]=y,C[2]=t):t=C[2];let k=w?"on":"off";return C[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(u.A,{className:"size-4"}),C[3]=o):o=C[3],C[4]!==t||C[5]!==k?(l=(0,r.jsx)(g.ToolbarSplitButtonPrimary,{className:"data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",onClick:t,"data-state":k,children:o}),C[4]=t,C[5]=k,C[6]=l):l=C[6],C[7]===Symbol.for("react.memo_cache_sentinel")?(n=(0,r.jsx)(p.ty,{asChild:!0,children:(0,r.jsx)(g.ToolbarSplitButtonSecondary,{})}),C[7]=n):n=C[7],C[8]!==y?(c=(0,r.jsx)(p._2,{onSelect:()=>(0,i.o)(y,{listStyleType:i.M.Decimal}),children:"Decimal (1, 2, 3)"}),C[8]=y,C[9]=c):c=C[9],C[10]!==y?(d=(0,r.jsx)(p._2,{onSelect:()=>(0,i.o)(y,{listStyleType:i.M.LowerAlpha}),children:"Lower Alpha (a, b, c)"}),C[10]=y,C[11]=d):d=C[11],C[12]!==y?(m=(0,r.jsx)(p._2,{onSelect:()=>(0,i.o)(y,{listStyleType:i.M.UpperAlpha}),children:"Upper Alpha (A, B, C)"}),C[12]=y,C[13]=m):m=C[13],C[14]!==y?(x=(0,r.jsx)(p._2,{onSelect:()=>(0,i.o)(y,{listStyleType:i.M.LowerRoman}),children:"Lower Roman (i, ii, iii)"}),C[14]=y,C[15]=x):x=C[15],C[16]!==y?(f=(0,r.jsx)(p._2,{onSelect:()=>(0,i.o)(y,{listStyleType:i.M.UpperRoman}),children:"Upper Roman (I, II, III)"}),C[16]=y,C[17]=f):f=C[17],C[18]!==f||C[19]!==c||C[20]!==d||C[21]!==m||C[22]!==x?(b=(0,r.jsx)(p.SQ,{align:"start",alignOffset:-32,children:(0,r.jsxs)(p.I,{children:[c,d,m,x,f]})}),C[18]=f,C[19]=c,C[20]=d,C[21]=m,C[22]=x,C[23]=b):b=C[23],C[24]!==B||C[25]!==b?(v=(0,r.jsxs)(p.rI,{open:B,onOpenChange:S,modal:!1,children:[n,b]}),C[24]=B,C[25]=b,C[26]=v):v=C[26],C[27]!==B||C[28]!==v||C[29]!==l?(_=(0,r.jsxs)(g.ToolbarSplitButton,{pressed:B,children:[l,v]}),C[27]=B,C[28]=v,C[29]=l,C[30]=_):_=C[30],_}function j(e){return(0,i.x)(e,[i.M.Decimal,i.M.LowerAlpha,i.M.UpperAlpha,i.M.LowerRoman,i.M.UpperRoman])}function v(e){let t,o,s,i=(0,a.c)(5);i[0]===Symbol.for("react.memo_cache_sentinel")?(t={nodeType:"todo"},i[0]=t):t=i[0];let d=(0,c.er)(t),{props:u}=(0,c.hG)(d);return i[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(m.A,{}),i[1]=o):o=i[1],i[2]!==u||i[3]!==e?(s=(0,r.jsx)(g.ToolbarButton,(0,n._)((0,l._)({},e,u),{tooltip:"Todo",children:o})),i[2]=u,i[3]=e,i[4]=s):s=i[4],s}},34103:(e,t,o)=>{o.r(t),o.d(t,{IndentToolbarButton:()=>u,OutdentToolbarButton:()=>m});var l=o(99019),n=o(5147),r=o(54568),a=o(99680);o(7620);var s=o(85987),i=o(15438),c=o(47986),d=o(60071);function u(e){let t,o,c=(0,a.c)(4),{props:u}=(0,s.qL)();return c[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(i.A,{}),c[0]=t):t=c[0],c[1]!==u||c[2]!==e?(o=(0,r.jsx)(d.ToolbarButton,(0,n._)((0,l._)({},e,u),{tooltip:"Indent",children:t})),c[1]=u,c[2]=e,c[3]=o):o=c[3],o}function m(e){let t,o,i=(0,a.c)(4),{props:u}=(0,s.x4)();return i[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(c.A,{}),i[0]=t):t=i[0],i[1]!==u||i[2]!==e?(o=(0,r.jsx)(d.ToolbarButton,(0,n._)((0,l._)({},e,u),{tooltip:"Outdent",children:t})),i[1]=u,i[2]=e,i[3]=o):o=i[3],o}},35171:(e,t,o)=>{o.r(t),o.d(t,{LineHeightToolbarButton:()=>x});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(10920),c=o(9983),d=o(50479),u=o(9851),m=o(28268),h=o(77808),p=o(26844),g=o(60071);function x(e){let t,o,c,u,x,j,v=(0,a.c)(20),_=(0,m.Q_)(),{defaultNodeValue:C,validNodeValues:y}=_.getInjectProps(i.pJ),B=(0,h.$2)({defaultValue:C,getProp:b}),[S,w]=s.useState(!1),k=p.rI;v[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(d.A,{}),v[0]=t):t=v[0],v[1]!==S?(o=(0,r.jsx)(p.ty,{asChild:!0,children:(0,r.jsx)(g.ToolbarButton,{pressed:S,tooltip:"Line height",isDropdown:!0,children:t})}),v[1]=S,v[2]=o):o=v[2];let T=p.SQ,A=p.Hr;v[3]!==_?(c=e=>{_.getTransforms(i.pJ).lineHeight.setNodes(Number(e)),_.tf.focus()},v[3]=_,v[4]=c):c=v[4];let N=(void 0===y?[]:y).map(f);return v[5]!==A||v[6]!==c||v[7]!==N||v[8]!==B?(u=(0,r.jsx)(A,{value:B,onValueChange:c,children:N}),v[5]=A,v[6]=c,v[7]=N,v[8]=B,v[9]=u):u=v[9],v[10]!==T||v[11]!==u?(x=(0,r.jsx)(T,{className:"min-w-0",align:"start",children:u}),v[10]=T,v[11]=u,v[12]=x):x=v[12],v[13]!==k||v[14]!==S||v[15]!==e||v[16]!==w||v[17]!==o||v[18]!==x?(j=(0,r.jsxs)(k,(0,n._)((0,l._)({open:S,onOpenChange:w,modal:!1},e),{children:[o,x]})),v[13]=k,v[14]=S,v[15]=e,v[16]=w,v[17]=o,v[18]=x,v[19]=j):j=v[19],j}function f(e){return(0,r.jsxs)(p.Ht,{className:"min-w-[180px] pl-2 *:first:[span]:hidden",value:e,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(c.ly,{children:(0,r.jsx)(u.A,{})})}),e]},e)}function b(e){return e.lineHeight}},42097:(e,t,o)=>{o.r(t),o.d(t,{TableToolbarButton:()=>B});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(34327),c=o(45083),d=o(50504),u=o(4294),m=o(57209),h=o(2640),p=o(82189),g=o(55447),x=o(78988),f=o(38389),b=o(49854),j=o(48674),v=o(28268),_=o(26844),C=o(87536),y=o(60071);function B(e){let t,o,j,C,B,k,T,A,N,D,I,F,E,M,z,O,L,Q,R,U,H,G,P,q,K,V,J,X,$,W,Z,Y,ee,et,eo,el,en,er,ea,es,ei,ec,ed,eu,em,eh,ep,eg,ex,ef=(0,a.c)(111);ef[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],ef[0]=t):t=ef[0];let eb=(0,v.QR)(S,t),{editor:ej,tf:ev}=(0,v.CF)(i.AJ),[e_,eC]=s.useState(!1),ey=(0,i.NM)();ef[1]===Symbol.for("react.memo_cache_sentinel")?(o=(0,r.jsx)(c.A,{}),ef[1]=o):o=ef[1],ef[2]!==e_?(j=(0,r.jsx)(_.ty,{asChild:!0,children:(0,r.jsx)(y.ToolbarButton,{pressed:e_,tooltip:"Table",isDropdown:!0,children:o})}),ef[2]=e_,ef[3]=j):j=ef[3],ef[4]===Symbol.for("react.memo_cache_sentinel")?(C=(0,r.jsxs)(_.nV,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",children:[(0,r.jsx)(d.A,{className:"size-4"}),(0,r.jsx)("span",{children:"Table"})]}),ef[4]=C):C=ef[4],ef[5]===Symbol.for("react.memo_cache_sentinel")?(B=(0,r.jsxs)(_.lv,{children:[C,(0,r.jsx)(_.M5,{className:"m-0 p-0",children:(0,r.jsx)(w,{})})]}),ef[5]=B):B=ef[5];let eB=!eb;ef[6]===Symbol.for("react.memo_cache_sentinel")?(k=(0,r.jsx)("div",{className:"size-4"}),T=(0,r.jsx)("span",{children:"Cell"}),ef[6]=k,ef[7]=T):(k=ef[6],T=ef[7]),ef[8]!==eB?(A=(0,r.jsxs)(_.nV,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:eB,children:[k,T]}),ef[8]=eB,ef[9]=A):A=ef[9];let eS=!ey.canMerge;ef[10]!==ej.tf||ef[11]!==ev.table?(N=()=>{ev.table.merge(),ej.tf.focus()},ef[10]=ej.tf,ef[11]=ev.table,ef[12]=N):N=ef[12],ef[13]===Symbol.for("react.memo_cache_sentinel")?(D=(0,r.jsx)(u.A,{}),ef[13]=D):D=ef[13],ef[14]!==N||ef[15]!==eS?(I=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eS,onSelect:N,children:[D,"Merge cells"]}),ef[14]=N,ef[15]=eS,ef[16]=I):I=ef[16];let ew=!ey.canSplit;ef[17]!==ej.tf||ef[18]!==ev.table?(F=()=>{ev.table.split(),ej.tf.focus()},ef[17]=ej.tf,ef[18]=ev.table,ef[19]=F):F=ef[19],ef[20]===Symbol.for("react.memo_cache_sentinel")?(E=(0,r.jsx)(m.A,{}),ef[20]=E):E=ef[20],ef[21]!==ew||ef[22]!==F?(M=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:ew,onSelect:F,children:[E,"Split cell"]}),ef[21]=ew,ef[22]=F,ef[23]=M):M=ef[23],ef[24]!==I||ef[25]!==M?(z=(0,r.jsxs)(_.M5,{children:[I,M]}),ef[24]=I,ef[25]=M,ef[26]=z):z=ef[26],ef[27]!==z||ef[28]!==A?(O=(0,r.jsxs)(_.lv,{children:[A,z]}),ef[27]=z,ef[28]=A,ef[29]=O):O=ef[29];let ek=!eb;ef[30]===Symbol.for("react.memo_cache_sentinel")?(L=(0,r.jsx)("div",{className:"size-4"}),Q=(0,r.jsx)("span",{children:"Row"}),ef[30]=L,ef[31]=Q):(L=ef[30],Q=ef[31]),ef[32]!==ek?(R=(0,r.jsxs)(_.nV,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:ek,children:[L,Q]}),ef[32]=ek,ef[33]=R):R=ef[33];let eT=!eb;ef[34]!==ej.tf||ef[35]!==ev.insert?(U=()=>{ev.insert.tableRow({before:!0}),ej.tf.focus()},ef[34]=ej.tf,ef[35]=ev.insert,ef[36]=U):U=ef[36],ef[37]===Symbol.for("react.memo_cache_sentinel")?(H=(0,r.jsx)(h.A,{}),ef[37]=H):H=ef[37],ef[38]!==eT||ef[39]!==U?(G=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eT,onSelect:U,children:[H,"Insert row before"]}),ef[38]=eT,ef[39]=U,ef[40]=G):G=ef[40];let eA=!eb;ef[41]!==ej.tf||ef[42]!==ev.insert?(P=()=>{ev.insert.tableRow(),ej.tf.focus()},ef[41]=ej.tf,ef[42]=ev.insert,ef[43]=P):P=ef[43],ef[44]===Symbol.for("react.memo_cache_sentinel")?(q=(0,r.jsx)(p.A,{}),ef[44]=q):q=ef[44],ef[45]!==eA||ef[46]!==P?(K=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eA,onSelect:P,children:[q,"Insert row after"]}),ef[45]=eA,ef[46]=P,ef[47]=K):K=ef[47];let eN=!eb;ef[48]!==ej.tf||ef[49]!==ev.remove?(V=()=>{ev.remove.tableRow(),ej.tf.focus()},ef[48]=ej.tf,ef[49]=ev.remove,ef[50]=V):V=ef[50],ef[51]===Symbol.for("react.memo_cache_sentinel")?(J=(0,r.jsx)(g.A,{}),ef[51]=J):J=ef[51],ef[52]!==eN||ef[53]!==V?(X=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eN,onSelect:V,children:[J,"Delete row"]}),ef[52]=eN,ef[53]=V,ef[54]=X):X=ef[54],ef[55]!==G||ef[56]!==K||ef[57]!==X?($=(0,r.jsxs)(_.M5,{children:[G,K,X]}),ef[55]=G,ef[56]=K,ef[57]=X,ef[58]=$):$=ef[58],ef[59]!==R||ef[60]!==$?(W=(0,r.jsxs)(_.lv,{children:[R,$]}),ef[59]=R,ef[60]=$,ef[61]=W):W=ef[61];let eD=!eb;ef[62]===Symbol.for("react.memo_cache_sentinel")?(Z=(0,r.jsx)("div",{className:"size-4"}),Y=(0,r.jsx)("span",{children:"Column"}),ef[62]=Z,ef[63]=Y):(Z=ef[62],Y=ef[63]),ef[64]!==eD?(ee=(0,r.jsxs)(_.nV,{className:"gap-2 data-[disabled]:pointer-events-none data-[disabled]:opacity-50",disabled:eD,children:[Z,Y]}),ef[64]=eD,ef[65]=ee):ee=ef[65];let eI=!eb;ef[66]!==ej.tf||ef[67]!==ev.insert?(et=()=>{ev.insert.tableColumn({before:!0}),ej.tf.focus()},ef[66]=ej.tf,ef[67]=ev.insert,ef[68]=et):et=ef[68],ef[69]===Symbol.for("react.memo_cache_sentinel")?(eo=(0,r.jsx)(x.A,{}),ef[69]=eo):eo=ef[69],ef[70]!==eI||ef[71]!==et?(el=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eI,onSelect:et,children:[eo,"Insert column before"]}),ef[70]=eI,ef[71]=et,ef[72]=el):el=ef[72];let eF=!eb;ef[73]!==ej.tf||ef[74]!==ev.insert?(en=()=>{ev.insert.tableColumn(),ej.tf.focus()},ef[73]=ej.tf,ef[74]=ev.insert,ef[75]=en):en=ef[75],ef[76]===Symbol.for("react.memo_cache_sentinel")?(er=(0,r.jsx)(f.A,{}),ef[76]=er):er=ef[76],ef[77]!==eF||ef[78]!==en?(ea=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eF,onSelect:en,children:[er,"Insert column after"]}),ef[77]=eF,ef[78]=en,ef[79]=ea):ea=ef[79];let eE=!eb;ef[80]!==ej.tf||ef[81]!==ev.remove?(es=()=>{ev.remove.tableColumn(),ej.tf.focus()},ef[80]=ej.tf,ef[81]=ev.remove,ef[82]=es):es=ef[82],ef[83]===Symbol.for("react.memo_cache_sentinel")?(ei=(0,r.jsx)(g.A,{}),ef[83]=ei):ei=ef[83],ef[84]!==eE||ef[85]!==es?(ec=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eE,onSelect:es,children:[ei,"Delete column"]}),ef[84]=eE,ef[85]=es,ef[86]=ec):ec=ef[86],ef[87]!==el||ef[88]!==ea||ef[89]!==ec?(ed=(0,r.jsxs)(_.M5,{children:[el,ea,ec]}),ef[87]=el,ef[88]=ea,ef[89]=ec,ef[90]=ed):ed=ef[90],ef[91]!==ee||ef[92]!==ed?(eu=(0,r.jsxs)(_.lv,{children:[ee,ed]}),ef[91]=ee,ef[92]=ed,ef[93]=eu):eu=ef[93];let eM=!eb;return ef[94]!==ej.tf||ef[95]!==ev.remove?(em=()=>{ev.remove.table(),ej.tf.focus()},ef[94]=ej.tf,ef[95]=ev.remove,ef[96]=em):em=ef[96],ef[97]===Symbol.for("react.memo_cache_sentinel")?(eh=(0,r.jsx)(b.A,{}),ef[97]=eh):eh=ef[97],ef[98]!==eM||ef[99]!==em?(ep=(0,r.jsxs)(_._2,{className:"min-w-[180px]",disabled:eM,onSelect:em,children:[eh,"Delete table"]}),ef[98]=eM,ef[99]=em,ef[100]=ep):ep=ef[100],ef[101]!==O||ef[102]!==W||ef[103]!==eu||ef[104]!==ep?(eg=(0,r.jsx)(_.SQ,{className:"flex w-[180px] min-w-0 flex-col",align:"start",children:(0,r.jsxs)(_.I,{children:[B,O,W,eu,ep]})}),ef[101]=O,ef[102]=W,ef[103]=eu,ef[104]=ep,ef[105]=eg):eg=ef[105],ef[106]!==e_||ef[107]!==e||ef[108]!==j||ef[109]!==eg?(ex=(0,r.jsxs)(_.rI,(0,n._)((0,l._)({open:e_,onOpenChange:eC,modal:!1},e),{children:[j,eg]})),ef[106]=e_,ef[107]=e,ef[108]=j,ef[109]=eg,ef[110]=ex):ex=ef[110],ex}function S(e){return e.api.some({match:{type:j.t.table}})}function w(){let e,t,o,l,n,c,d,u=(0,a.c)(21),{editor:m,tf:h}=(0,v.CF)(i.AJ);u[0]===Symbol.for("react.memo_cache_sentinel")?(e={grid:Array.from({length:8},k),size:{colCount:0,rowCount:0}},u[0]=e):e=u[0];let[p,g]=s.useState(e);u[1]!==p.grid?(t=(e,t)=>{let o=[...p.grid];for(let l=0;l<o.length;l++)for(let n=0;n<o[l].length;n++)o[l][n]=+(l>=0&&l<=e&&n>=0&&n<=t);g({grid:o,size:{colCount:t+1,rowCount:e+1}})},u[1]=p.grid,u[2]=t):t=u[2];let x=t;if(u[3]!==m.tf||u[4]!==p.size||u[5]!==h.insert?(o=()=>{h.insert.table(p.size,{select:!0}),m.tf.focus()},u[3]=m.tf,u[4]=p.size,u[5]=h.insert,u[6]=o):o=u[6],u[7]!==x||u[8]!==p.grid){let e;u[10]!==x?(e=(e,t)=>e.map((e,o)=>(0,r.jsx)("div",{className:(0,C.cn)("col-span-1 size-3 border border-solid bg-secondary",!!e&&"border-current"),onMouseMove:()=>{x(t,o)}},"(".concat(t,",").concat(o,")"))),u[10]=x,u[11]=e):e=u[11],l=p.grid.map(e),u[7]=x,u[8]=p.grid,u[9]=l}else l=u[9];return u[12]!==l?(n=(0,r.jsx)("div",{className:"grid size-[130px] grid-cols-8 gap-0.5 p-1",children:l}),u[12]=l,u[13]=n):n=u[13],u[14]!==p.size.colCount||u[15]!==p.size.rowCount?(c=(0,r.jsxs)("div",{className:"text-center text-current text-xs",children:[p.size.rowCount," x ",p.size.colCount]}),u[14]=p.size.colCount,u[15]=p.size.rowCount,u[16]=c):c=u[16],u[17]!==o||u[18]!==n||u[19]!==c?(d=(0,r.jsxs)("div",{className:"flex! m-0 flex-col p-0",onClick:o,role:"button",children:[n,c]}),u[17]=o,u[18]=n,u[19]=c,u[20]=d):d=u[20],d}function k(){return Array.from({length:8}).fill(0)}},43972:(e,t,o)=>{o.r(t),o.d(t,{MarkToolbarButton:()=>c});var l=o(99019),n=o(15457),r=o(54568),a=o(99680);o(7620);var s=o(77808),i=o(60071);function c(e){let t,o,c,d,u,m=(0,a.c)(10);m[0]!==e?({clear:t,nodeType:o}=e,c=(0,n._)(e,["clear","nodeType"]),m[0]=e,m[1]=t,m[2]=o,m[3]=c):(t=m[1],o=m[2],c=m[3]),m[4]!==t||m[5]!==o?(d={clear:t,nodeType:o},m[4]=t,m[5]=o,m[6]=d):d=m[6];let h=(0,s.l4)(d),{props:p}=(0,s._K)(h);return m[7]!==p||m[8]!==c?(u=(0,r.jsx)(i.ToolbarButton,(0,l._)({},c,p)),m[7]=p,m[8]=c,m[9]=u):u=m[9],u}},47447:(e,t,o)=>{o.r(t),o.d(t,{AIToolbarButton:()=>d});var l=o(99019),n=o(5147),r=o(54568),a=o(99680);o(7620);var s=o(46639),i=o(28268),c=o(60071);function d(e){let t,o,d=(0,a.c)(5),{api:m}=(0,i.CF)(s.WB);return d[0]!==m.aiChat?(t=()=>{m.aiChat.show()},d[0]=m.aiChat,d[1]=t):t=d[1],d[2]!==e||d[3]!==t?(o=(0,r.jsx)(c.ToolbarButton,(0,n._)((0,l._)({},e),{onClick:t,onMouseDown:u})),d[2]=e,d[3]=t,d[4]=o):o=d[4],o}function u(e){e.preventDefault()}},52357:(e,t,o)=>{o.r(t),o.d(t,{RedoToolbarButton:()=>u,UndoToolbarButton:()=>p});var l=o(99019),n=o(5147),r=o(54568),a=o(99680);o(7620);var s=o(97838),i=o(26700),c=o(28268),d=o(60071);function u(e){let t,o,i,u,p=(0,a.c)(8),g=(0,c.Q_)();p[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],p[0]=t):t=p[0];let x=(0,c.QR)(h,t);return p[1]!==g?(o=()=>g.redo(),p[1]=g,p[2]=o):o=p[2],p[3]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(s.A,{}),p[3]=i):i=p[3],p[4]!==x||p[5]!==e||p[6]!==o?(u=(0,r.jsx)(d.ToolbarButton,(0,n._)((0,l._)({},e),{disabled:x,onClick:o,onMouseDown:m,tooltip:"Redo",children:i})),p[4]=x,p[5]=e,p[6]=o,p[7]=u):u=p[7],u}function m(e){return e.preventDefault()}function h(e){return 0===e.history.redos.length}function p(e){let t,o,s,u,m=(0,a.c)(8),h=(0,c.Q_)();m[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],m[0]=t):t=m[0];let p=(0,c.QR)(x,t);return m[1]!==h?(o=()=>h.undo(),m[1]=h,m[2]=o):o=m[2],m[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,r.jsx)(i.A,{}),m[3]=s):s=m[3],m[4]!==p||m[5]!==e||m[6]!==o?(u=(0,r.jsx)(d.ToolbarButton,(0,n._)((0,l._)({},e),{disabled:p,onClick:o,onMouseDown:g,tooltip:"Undo",children:s})),m[4]=p,m[5]=e,m[6]=o,m[7]=u):u=m[7],u}function g(e){return e.preventDefault()}function x(e){return 0===e.history.undos.length}},57429:(e,t,o)=>{o.r(t),o.d(t,{LinkToolbarButton:()=>d});var l=o(99019),n=o(5147),r=o(54568),a=o(99680);o(7620);var s=o(93629),i=o(3769),c=o(60071);function d(e){let t,o,d=(0,a.c)(4),u=(0,s._M)(),{props:m}=(0,s.j6)(u);return d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(i.A,{}),d[0]=t):t=d[0],d[1]!==m||d[2]!==e?(o=(0,r.jsx)(c.ToolbarButton,(0,n._)((0,l._)({},e,m),{"data-plate-focus":!0,tooltip:"Link",children:t})),d[1]=m,d[2]=e,d[3]=o):o=d[3],o}},59597:(e,t,o)=>{o.r(t),o.d(t,{TurnIntoToolbarButton:()=>I,turnIntoItems:()=>D});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(9983),c=o(85077),d=o(62323),u=o(21838),m=o(78249),h=o(38452),p=o(2375),g=o(48226),x=o(35829),f=o(28325),b=o(80998),j=o(61215),v=o(44139),_=o(87412),C=o(26611),y=o(91876),B=o(9851),S=o(48674),w=o(28268),k=o(77808),T=o(26844),A=o(34788),N=o(60071);let D=[{icon:(0,r.jsx)(c.A,{}),keywords:["paragraph"],label:"Text",value:S.t.p},{icon:(0,r.jsx)(d.A,{}),keywords:["title","h1"],label:"Heading 1",value:"h1"},{icon:(0,r.jsx)(u.A,{}),keywords:["subtitle","h2"],label:"Heading 2",value:"h2"},{icon:(0,r.jsx)(m.A,{}),keywords:["subtitle","h3"],label:"Heading 3",value:"h3"},{icon:(0,r.jsx)(h.A,{}),keywords:["subtitle","h4"],label:"Heading 4",value:"h4"},{icon:(0,r.jsx)(p.A,{}),keywords:["subtitle","h5"],label:"Heading 5",value:"h5"},{icon:(0,r.jsx)(g.A,{}),keywords:["subtitle","h6"],label:"Heading 6",value:"h6"},{icon:(0,r.jsx)(x.A,{}),keywords:["unordered","ul","-"],label:"Bulleted list",value:S.t.ul},{icon:(0,r.jsx)(f.A,{}),keywords:["ordered","ol","1"],label:"Numbered list",value:S.t.ol},{icon:(0,r.jsx)(b.A,{}),keywords:["checklist","task","checkbox","[]"],label:"To-do list",value:S.t.listTodo},{icon:(0,r.jsx)(j.A,{}),keywords:["collapsible","expandable"],label:"Toggle list",value:S.t.toggle},{icon:(0,r.jsx)(v.A,{}),keywords:["```"],label:"Code",value:S.t.codeBlock},{icon:(0,r.jsx)(_.A,{}),keywords:["code-drawing","diagram","plantuml","graphviz","flowchart","mermaid"],label:"Code Drawing",value:S.t.codeDrawing},{icon:(0,r.jsx)(C.A,{}),keywords:["citation","blockquote",">"],label:"Quote",value:S.t.blockquote},{icon:(0,r.jsx)(y.A,{}),label:"3 columns",value:"action_three_columns"}];function I(e){let t,o,i,c,d,u,m,h,p,g=(0,a.c)(22),x=(0,w.Q_)(),[f,b]=s.useState(!1);g[0]===Symbol.for("react.memo_cache_sentinel")?(t={defaultValue:S.t.p,getProp:E},g[0]=t):t=g[0];let j=(0,k.$2)(t);if(g[1]!==j){var v;o=null!=(v=D.find(e=>e.value===(null!=j?j:S.t.p)))?v:D[0],g[1]=j,g[2]=o}else o=g[2];let _=o;return g[3]!==f||g[4]!==_.label?(i=(0,r.jsx)(T.ty,{asChild:!0,children:(0,r.jsx)(N.ToolbarButton,{className:"min-w-[125px]",pressed:f,tooltip:"Turn into",isDropdown:!0,children:_.label})}),g[3]=f,g[4]=_.label,g[5]=i):i=g[5],g[6]!==x.tf?(c=e=>{e.preventDefault(),x.tf.focus()},g[6]=x.tf,g[7]=c):c=g[7],g[8]!==x?(d=e=>{(0,A.setBlockType)(x,e)},g[8]=x,g[9]=d):d=g[9],g[10]===Symbol.for("react.memo_cache_sentinel")?(u=D.map(F),g[10]=u):u=g[10],g[11]!==d||g[12]!==j?(m=(0,r.jsx)(N.ToolbarMenuGroup,{value:j,onValueChange:d,label:"Turn into",children:u}),g[11]=d,g[12]=j,g[13]=m):m=g[13],g[14]!==c||g[15]!==m?(h=(0,r.jsx)(T.SQ,{className:"ignore-click-outside/toolbar min-w-0",onCloseAutoFocus:c,align:"start",children:m}),g[14]=c,g[15]=m,g[16]=h):h=g[16],g[17]!==f||g[18]!==e||g[19]!==i||g[20]!==h?(p=(0,r.jsxs)(T.rI,(0,n._)((0,l._)({open:f,onOpenChange:b,modal:!1},e),{children:[i,h]})),g[17]=f,g[18]=e,g[19]=i,g[20]=h,g[21]=p):p=g[21],p}function F(e){let{icon:t,label:o,value:l}=e;return(0,r.jsxs)(T.Ht,{className:"min-w-[180px] pl-2 *:first:[span]:hidden",value:l,children:[(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(i.ly,{children:(0,r.jsx)(B.A,{})})}),t,o]},l)}function E(e){return(0,A.getBlockType)(e)}},61742:(e,t,o)=>{o.r(t),o.d(t,{FixedToolbarButtons:()=>Q});var l=o(54568),n=o(99680);o(7620);var r=o(73701),a=o(26455),s=o(16518),i=o(90153),c=o(26379),d=o(87116),u=o(87412),m=o(10478),h=o(32984),p=o(27528),g=o(48674),x=o(28268),f=o(47447),b=o(97600),j=o(71744),v=o(48119),_=o(89351),C=o(22694),y=o(83234),B=o(52357),S=o(17943),w=o(34103),k=o(6384),T=o(35171),A=o(57429),N=o(32061),D=o(43972),I=o(89545),F=o(89610),E=o(20948),M=o(42097),z=o(72345),O=o(60071),L=o(59597);function Q(){let e,t,o,Q,R,U=(0,n.c)(7),H=(0,x.fu)();return U[0]!==H?(e=!H&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(B.UndoToolbarButton,{}),(0,l.jsx)(B.RedoToolbarButton,{})]}),(0,l.jsx)(O.ToolbarGroup,{children:(0,l.jsx)(f.AIToolbarButton,{tooltip:"AI commands",children:(0,l.jsx)(r.A,{})})}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(_.ExportToolbarButton,{children:(0,l.jsx)(a.A,{})}),(0,l.jsx)(S.ImportToolbarButton,{})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(k.InsertToolbarButton,{}),(0,l.jsx)(L.TurnIntoToolbarButton,{}),(0,l.jsx)(y.FontSizeToolbarButton,{})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.bold,tooltip:"Bold (⌘+B)",children:(0,l.jsx)(s.A,{})}),(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.italic,tooltip:"Italic (⌘+I)",children:(0,l.jsx)(i.A,{})}),(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.underline,tooltip:"Underline (⌘+U)",children:(0,l.jsx)(c.A,{})}),(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.strikethrough,tooltip:"Strikethrough (⌘+⇧+M)",children:(0,l.jsx)(d.A,{})}),(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.code,tooltip:"Code (⌘+E)",children:(0,l.jsx)(u.A,{})}),(0,l.jsx)(C.FontColorToolbarButton,{nodeType:g.t.color,tooltip:"Text color",children:(0,l.jsx)(m.A,{})}),(0,l.jsx)(C.FontColorToolbarButton,{nodeType:g.t.backgroundColor,tooltip:"Background color",children:(0,l.jsx)(h.A,{})})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(b.AlignToolbarButton,{}),(0,l.jsx)(N.NumberedListToolbarButton,{}),(0,l.jsx)(N.BulletedListToolbarButton,{}),(0,l.jsx)(N.TodoListToolbarButton,{}),(0,l.jsx)(z.ToggleToolbarButton,{})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(A.LinkToolbarButton,{}),(0,l.jsx)(M.TableToolbarButton,{}),(0,l.jsx)(v.EmojiToolbarButton,{})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(I.MediaToolbarButton,{nodeType:g.t.img}),(0,l.jsx)(I.MediaToolbarButton,{nodeType:g.t.video}),(0,l.jsx)(I.MediaToolbarButton,{nodeType:g.t.audio}),(0,l.jsx)(I.MediaToolbarButton,{nodeType:g.t.file})]}),(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(T.LineHeightToolbarButton,{}),(0,l.jsx)(w.OutdentToolbarButton,{}),(0,l.jsx)(w.IndentToolbarButton,{})]}),(0,l.jsx)(O.ToolbarGroup,{children:(0,l.jsx)(E.MoreToolbarButton,{})})]}),U[0]=H,U[1]=e):e=U[1],U[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)("div",{className:"grow"}),U[2]=t):t=U[2],U[3]===Symbol.for("react.memo_cache_sentinel")?(o=(0,l.jsxs)(O.ToolbarGroup,{children:[(0,l.jsx)(D.MarkToolbarButton,{nodeType:g.t.highlight,tooltip:"Highlight",children:(0,l.jsx)(p.A,{})}),(0,l.jsx)(j.CommentToolbarButton,{})]}),U[3]=o):o=U[3],U[4]===Symbol.for("react.memo_cache_sentinel")?(Q=(0,l.jsx)(O.ToolbarGroup,{children:(0,l.jsx)(F.ModeToolbarButton,{})}),U[4]=Q):Q=U[4],U[5]!==e?(R=(0,l.jsxs)("div",{className:"flex w-full",children:[e,t,o,Q]}),U[5]=e,U[6]=R):R=U[6],R}},71744:(e,t,o)=>{o.r(t),o.d(t,{CommentToolbarButton:()=>c});var l=o(54568),n=o(99680);o(7620);var r=o(46568),a=o(28268),s=o(20127),i=o(60071);function c(){let e,t,o,c=(0,n.c)(5),d=(0,a.Q_)();return c[0]!==d?(e=()=>{d.getTransforms(s.commentPlugin).comment.setDraft()},c[0]=d,c[1]=e):e=c[1],c[2]===Symbol.for("react.memo_cache_sentinel")?(t=(0,l.jsx)(r.A,{}),c[2]=t):t=c[2],c[3]!==e?(o=(0,l.jsx)(i.ToolbarButton,{onClick:e,"data-plate-prevent-overlay":!0,tooltip:"Comment",children:t}),c[3]=e,c[4]=o):o=c[4],o}},72345:(e,t,o)=>{o.r(t),o.d(t,{ToggleToolbarButton:()=>d});var l=o(99019),n=o(5147),r=o(54568),a=o(99680);o(7620);var s=o(81309),i=o(42907),c=o(60071);function d(e){let t,o,d=(0,a.c)(4),u=(0,s.Un)(),{props:m}=(0,s.nk)(u);return d[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(i.A,{}),d[0]=t):t=d[0],d[1]!==m||d[2]!==e?(o=(0,r.jsx)(c.ToolbarButton,(0,n._)((0,l._)({},e,m),{tooltip:"Toggle",children:t})),d[1]=m,d[2]=e,d[3]=o):o=d[3],o}},81309:(e,t,o)=>{o.d(t,{DD:()=>B,Un:()=>k,nk:()=>T,q1:()=>y,qQ:()=>S});var l=o(99019),n=o(5147),r=o(99680),a=o(32100),s=o(48674),i=o(50357),c=o(14796),d=o(28268),u=o(96240),m=o(37509),h=o(13526),p=o(7620),g=o(43313),x=o(74440);let f=e=>{let t=new Map,o=[];return e.forEach(e=>{let l=e[s.t.indent]||0,n=e.listStyleType&&e[s.t.indent]?l-1:l,r=o.filter(e=>{let[t,o]=e;return o<n});o=r,t.set(e.id,r.map(e=>{let[t]=e;return t})),e.type===s.t.toggle&&o.push([e.id,l])}),t},b=d.AF.atom.trackedEditor,j=(0,u.eU)(e=>f(e(b).editor.children)),v=e=>{let t,o=(0,r.c)(3),l=(0,h.c)(2),{children:n,element:a}=e;if((e=>{let t,o=(0,r.c)(3),l=(0,h.c)(3),n=(0,d.gO)(y,"openIds");if(l[0]!==e||l[1]!==n){let r;o[0]!==e||o[1]!==n?(r=(0,u.eU)(t=>(t(j).get(e)||[]).every(e=>n.has(e))),o[0]=e,o[1]=n,o[2]=r):r=o[2],t=r,l[0]=e,l[1]=n,l[2]=t}else t=l[2];let a=t;return(0,m.X$)((0,d.HZ)(),a)})(a.id))return n;if(l[0]!==n){let e;if(o[0]!==n){let t;o[2]===Symbol.for("react.memo_cache_sentinel")?(t={style:_},o[2]=t):t=o[2],e=p.createElement("div",t,n),o[0]=n,o[1]=e}else e=o[1];t=e,l[0]=n,l[1]=t}else t=l[1];return t},_={height:0,margin:0,overflow:"hidden",visibility:"hidden"},C=(e,t)=>{var o;let l=(null==(o=e.getOptions(y).toggleIndex)?void 0:o.get(t))||[];return(0,i.Gt)(e,y).getOption("someClosed",l)},y=(0,d.LS)(a.n,{options:{toggleIndex:new Map},render:{aboveNodes:()=>v},useHooks:e=>{let t,o,l=(0,r.c)(7),n=(0,h.c)(7),{editor:a,setOption:s}=e,i=(0,m.X$)((0,d.HZ)(),j);if(n[0]!==s||n[1]!==i){let e;l[0]!==s||l[1]!==i?(e=()=>{s("toggleIndex",i)},l[0]=s,l[1]=i,l[2]=e):e=l[2],t=e,n[0]=s,n[1]=i,n[2]=t}else t=n[2];if(n[3]!==a||n[4]!==s||n[5]!==i){let e;l[3]!==a||l[4]!==s||l[5]!==i?(e=[a,s,i],l[3]=a,l[4]=s,l[5]=i,l[6]=e):e=l[6],o=e,n[3]=a,n[4]=s,n[5]=i,n[6]=o}else o=n[6];(0,p.useEffect)(t,o)}}).overrideEditor(e=>{let{api:{isSelectable:t},editor:o,getOption:l,tf:{deleteBackward:n,deleteForward:r,insertBreak:a}}=e;return{api:{isSelectable:e=>!(c.lZ.isNode(e)&&C(o,e.id))&&t(e)},transforms:{deleteBackward(e){!1!==(e=>{let{selection:t}=e;if(!t)return;let o=e.api.block();if(!o||!e.api.isAt({start:!0}))return;let l=e.api.before(t);if(!l)return;let n=e.api.block({at:l});if(!n||!C(e,n[0].id))return;let r=e.api.previous({match:t=>c.$7.isElement(t)&&!C(e,t.id)});if(!r)return!1;let a=[r[1][0]+1];e.tf.moveNodes({at:o[1],to:a})})(o)&&n(e)},deleteForward(e){!1!==(e=>{let{selection:t}=e;if(!t)return;let o=e.api.block();if(!o||!e.api.isAt({end:!0}))return;let l=e.api.after(t);if(!l)return;let n=e.api.block({at:l});if(!n||!C(e,n[0].id))return;let r=e.api.next({match:t=>c.$7.isElement(t)&&!C(e,t.id)});if(!r)return!1;let a=[o[1][0]+1];e.tf.moveNodes({at:r[1],to:a})})(o)&&r(e)},insertBreak(){let e=o.api.block();if(!e||e[0].type!==s.t.toggle)return a();let t=e[0].id,n=l("isOpen",t);o.tf.withoutNormalizing(()=>{if(n)a(),o.tf.toggleBlock(s.t.toggle),(0,g.i)(o);else{let l,n=(l=f(o.children),x(o.children.map((e,t)=>[e,[t]]).filter(e=>{let[o]=e;return(l.get(o.id)||[]).includes(t)})));if(a(),n){let t=[e[1][0]+1],l=[n[1][0]+1];o.tf.moveNodes({at:t,to:l})}}})}}}}),B=e=>{let t,o,l=(0,r.c)(3),n=(0,h.c)(6),s=(0,d.gO)(a.n,"openIds");if(n[0]!==s||n[1]!==e){let o;l[0]!==s||l[1]!==e?(o=s.has(e),l[0]=s,l[1]=e,l[2]=o):o=l[2],t=o,n[0]=s,n[1]=e,n[2]=t}else t=n[2];return n[3]!==t||n[4]!==e?(o={open:t,toggleId:e},n[3]=t,n[4]=e,n[5]=o):o=n[5],o},S=e=>{let t,o,r=(0,h.c)(6),{api:s}=(0,d.CF)(a.n);return r[0]!==s||r[1]!==e?(t={onClick:t=>{t.preventDefault(),s.toggle.toggleIds([e.toggleId])},onMouseDown:w},r[0]=s,r[1]=e,r[2]=t):t=r[2],r[3]!==e||r[4]!==t?(o=(0,n._)((0,l._)({},e),{buttonProps:t}),r[3]=e,r[4]=t,r[5]=o):o=r[5],o};function w(e){e.preventDefault()}let k=()=>{let e,t,o=(0,r.c)(3),l=(0,h.c)(3);if(l[0]===Symbol.for("react.memo_cache_sentinel")){let t;o[0]===Symbol.for("react.memo_cache_sentinel")?(t=[],o[0]=t):t=o[0],e=t,l[0]=e}else e=l[0];let n=(0,d.QR)(A,e);if(l[1]!==n){let e;o[1]!==n?(e={pressed:n},o[1]=n,o[2]=e):e=o[2],t=e,l[1]=n,l[2]=t}else t=l[2];return t},T=e=>{let t,o,l=(0,h.c)(5),{pressed:n}=e,r=(0,d.Q_)();return l[0]!==r?(t=()=>{let e;e=Array.from(r.api.nodes({block:!0,mode:"lowest"})),r.getApi(y).toggle.toggleIds(e.map(e=>{let[t]=e;return t.id}),!0),r.tf.toggleBlock(s.t.toggle),r.tf.collapse(),r.tf.focus()},l[0]=r,l[1]=t):t=l[1],l[2]!==n||l[3]!==t?(o={props:{pressed:n,onClick:t,onMouseDown:N}},l[2]=n,l[3]=t,l[4]=o):o=l[4],o};function A(e){return(0,a.t)(e)}function N(e){e.preventDefault()}},83234:(e,t,o)=>{o.r(t),o.d(t,{FontSizeToolbarButton:()=>b});var l=o(54568),n=o(99680),r=o(7620);let a=/\d+/,s=e=>{let t=a.exec(e);if(!t)return"0";let o=Number(t[0]);return e.endsWith("rem")?(16*o).toString():o.toString()};var i=o(10920),c=o(61383),d=o(60361),u=o(48674),m=o(28268),h=o(54866),p=o(87536),g=o(60071);let x={h1:"36",h2:"24",h3:"20"},f=["8","9","10","12","14","16","18","24","30","36","48","60","72","96"];function b(){let e,t,o,a,u,x,b,_,C,y,B,S,w,k,T,A,N,D,I,F,E=(0,n.c)(49),[M,z]=r.useState("16"),[O,L]=r.useState(!1),{editor:Q,tf:R}=(0,m.CF)(i.uL);E[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],E[0]=e):e=E[0];let U=(0,m.QR)(v,e);E[1]!==U||E[2]!==Q.tf||E[3]!==M||E[4]!==R.fontSize?(t=()=>{let e=s(M);1>Number.parseInt(e,10)||Number.parseInt(e,10)>100||e!==s(U)&&R.fontSize.addMark("".concat(e,"px")),Q.tf.focus()},E[1]=U,E[2]=Q.tf,E[3]=M,E[4]=R.fontSize,E[5]=t):t=E[5];let H=t;return E[6]!==U||E[7]!==Q.tf||E[8]!==M||E[9]!==O||E[10]!==R.fontSize?(a=e=>{let t=Number(o)+e;R.fontSize.addMark("".concat(t,"px")),Q.tf.focus()},o=O?M:U,E[6]=U,E[7]=Q.tf,E[8]=M,E[9]=O,E[10]=R.fontSize,E[11]=o,E[12]=a):(o=E[11],a=E[12]),E[13]!==a?(u=()=>a(-1),E[13]=a,E[14]=u):u=E[14],E[15]===Symbol.for("react.memo_cache_sentinel")?(x=(0,l.jsx)(c.A,{}),E[15]=x):x=E[15],E[16]!==u?(b=(0,l.jsx)(g.ToolbarButton,{onClick:u,children:x}),E[16]=u,E[17]=b):b=E[17],E[18]===Symbol.for("react.memo_cache_sentinel")?(_=(0,p.cn)("h-full w-10 shrink-0 bg-transparent px-1 text-center text-sm hover:bg-muted"),E[18]=_):_=E[18],E[19]!==H?(C=()=>{L(!1),H()},E[19]=H,E[20]=C):C=E[20],E[21]===Symbol.for("react.memo_cache_sentinel")?(y=e=>z(e.target.value),E[21]=y):y=E[21],E[22]!==U?(B=()=>{L(!0),z(s(U))},E[22]=U,E[23]=B):B=E[23],E[24]!==H?(S=e=>{"Enter"===e.key&&(e.preventDefault(),H())},E[24]=H,E[25]=S):S=E[25],E[26]!==o||E[27]!==C||E[28]!==B||E[29]!==S?(w=(0,l.jsx)(h.Wv,{asChild:!0,children:(0,l.jsx)("input",{className:_,value:o,onBlur:C,onChange:y,onFocus:B,onKeyDown:S,"data-plate-focus":"true",type:"text"})}),E[26]=o,E[27]=C,E[28]=B,E[29]=S,E[30]=w):w=E[30],E[31]!==o||E[32]!==R.fontSize?(k=f.map(e=>(0,l.jsx)("button",{className:(0,p.cn)("flex h-8 w-full items-center justify-center text-sm hover:bg-accent data-[highlighted=true]:bg-accent"),onClick:()=>{R.fontSize.addMark("".concat(e,"px")),L(!1)},"data-highlighted":e===o,type:"button",children:e},e)),E[31]=o,E[32]=R.fontSize,E[33]=k):k=E[33],E[34]!==k?(T=(0,l.jsx)(h.hl,{className:"w-10 px-px py-1",onOpenAutoFocus:j,children:k}),E[34]=k,E[35]=T):T=E[35],E[36]!==O||E[37]!==w||E[38]!==T?(A=(0,l.jsxs)(h.AM,{open:O,modal:!1,children:[w,T]}),E[36]=O,E[37]=w,E[38]=T,E[39]=A):A=E[39],E[40]!==a?(N=()=>a(1),E[40]=a,E[41]=N):N=E[41],E[42]===Symbol.for("react.memo_cache_sentinel")?(D=(0,l.jsx)(d.A,{}),E[42]=D):D=E[42],E[43]!==N?(I=(0,l.jsx)(g.ToolbarButton,{onClick:N,children:D}),E[43]=N,E[44]=I):I=E[44],E[45]!==A||E[46]!==I||E[47]!==b?(F=(0,l.jsxs)("div",{className:"flex h-7 items-center gap-1 rounded-md bg-muted/60 p-0",children:[b,A,I]}),E[45]=A,E[46]=I,E[47]=b,E[48]=F):F=E[48],F}function j(e){return e.preventDefault()}function v(e){var t;let o=null==(t=e.api.marks())?void 0:t[u.t.fontSize];if(o)return s(o);let[l]=e.api.block()||[];return(null==l?void 0:l.type)&&l.type in x?x[l.type]:"16"}},85987:(e,t,o)=>{o.d(t,{WO:()=>s,qL:()=>i,x4:()=>d});var l=o(99680),n=o(43313),r=o(28268),a=o(13526);let s=(0,r.HS)(n.t),i=()=>{let e,t=(0,l.c)(2),o=(0,a.c)(2),s=(0,r.Q_)();if(o[0]!==s){let l;t[0]!==s?(l={props:{onClick:()=>{(0,n.i)(s)},onMouseDown:c}},t[0]=s,t[1]=l):l=t[1],e=l,o[0]=s,o[1]=e}else e=o[1];return e};function c(e){e.preventDefault()}let d=()=>{let e,t=(0,l.c)(2),o=(0,a.c)(2),s=(0,r.Q_)();if(o[0]!==s){let l;t[0]!==s?(l={props:{onClick:()=>{(0,n.r)(s)},onMouseDown:u}},t[0]=s,t[1]=l):l=t[1],e=l,o[0]=s,o[1]=e}else e=o[1];return e};function u(e){e.preventDefault()}},88273:(e,t,o)=>{o.d(t,{CK:()=>d,LL:()=>c,Q0:()=>i,er:()=>u,hG:()=>m});var l=o(99680),n=o(58289),r=o(13526),a=o(28268),s=o(92405);let i=(0,a.HS)(n.t),c=e=>{let t,o=(0,l.c)(5),n=(0,r.c)(5),{element:i}=e,c=(0,a.Q_)(),{checked:d}=i,u=(0,s.cQ)();if(n[0]!==d||n[1]!==c||n[2]!==i||n[3]!==u){let e;o[0]!==d||o[1]!==c||o[2]!==i||o[3]!==u?(e={checked:d,editor:c,element:i,readOnly:u},o[0]=d,o[1]=c,o[2]=i,o[3]=u,o[4]=e):e=o[4],t=e,n[0]=d,n[1]=c,n[2]=i,n[3]=u,n[4]=t}else t=n[4];return t},d=e=>{let{checked:t,editor:o,element:l,readOnly:n}=e;return{checkboxProps:{checked:!!t,onCheckedChange:e=>{if(n)return;let t=o.api.findPath(l);t&&o.tf.setNodes({checked:e},{at:t})},onMouseDown:e=>{e.preventDefault()}}}},u=e=>{let t,o,s,i=(0,l.c)(2),c=(0,r.c)(7);if(c[0]!==e){let o;i[0]!==e?(o=void 0===e?{}:e,i[0]=e,i[1]=o):o=i[1],t=o,c[0]=e,c[1]=t}else t=c[1];let{nodeType:d}=t,u=void 0===d?n.M.Disc:d;c[2]!==u?(o=[u],c[2]=u,c[3]=o):o=c[3];let m=(0,a.QR)(h,o);return c[4]!==u||c[5]!==m?(s={nodeType:u,pressed:m},c[4]=u,c[5]=m,c[6]=s):s=c[6],s},m=e=>{let t,o,l=(0,r.c)(6),{nodeType:s,pressed:i}=e,c=(0,a.Q_)();return l[0]!==c||l[1]!==s?(t=()=>{(0,n.o)(c,{listStyleType:s})},l[0]=c,l[1]=s,l[2]=t):t=l[2],l[3]!==i||l[4]!==t?(o={props:{pressed:i,onClick:t,onMouseDown:p}},l[3]=i,l[4]=t,l[5]=o):o=l[5],o};function h(e){return(0,n.b)(e)}function p(e){e.preventDefault()}},89351:(e,t,o)=>{o.r(t),o.d(t,{ExportToolbarButton:()=>j});var l=o(99019),n=o(5147),r=o(54568),a=o(7620),s=o(56076),i=o(45806),c=o(34462),d=o(50357),u=o(28268),m=o(14633),h=o(26844),p=o(17258),g=o(13706),x=o(27608),f=o(60071),b=o(25877);function j(e){let t=(0,u.Q_)(),[j,v]=a.useState(!1),_=async()=>{let{default:e}=await o.e(39557).then(o.t.bind(o,28134,23)),l=document.createElement("style");document.head.append(l);let n=await e(t.api.toDOMNode(t),{onclone:e=>{let t=e.querySelector('[contenteditable="true"]');t&&Array.from(t.querySelectorAll("*")).forEach(e=>{let t=e.getAttribute("style")||"";e.setAttribute("style","".concat(t,'; font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif !important'))})}});return l.remove(),n},C=async(e,t)=>{let o=await fetch(e),l=await o.blob(),n=window.URL.createObjectURL(l),r=document.createElement("a");r.href=n,r.download=t,document.body.append(r),r.click(),r.remove(),window.URL.revokeObjectURL(n)},y=async()=>{let e=await _(),t=await o.e(68752).then(o.bind(o,46371)),l=await t.PDFDocument.create(),n=l.addPage([e.width,e.height]),r=await l.embedPng(e.toDataURL("PNG")),{height:a,width:s}=r.scale(1);n.drawImage(r,{height:a,width:s,x:0,y:0});let i=await l.saveAsBase64({dataUri:!0});await C(i,"plate.pdf")},B=async()=>{let e=await _();await C(e.toDataURL("image/png"),"plate.png")},S=async()=>{let e=(0,d.t)({plugins:p.BaseEditorKit,value:t.children}),o=await (0,m.n)(e,{editorComponent:x.u,props:{style:{padding:"0 calc(50% - 350px)",paddingBottom:""}}}),l='<!DOCTYPE html>\n    <html lang="en">\n      <head>\n        <meta charset="utf-8" />\n        <meta name="viewport" content="width=device-width, initial-scale=1.0" />\n        <meta name="color-scheme" content="light dark" />\n        <link rel="preconnect" href="https://fonts.googleapis.com" />\n        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />\n        <link\n          href="https://fonts.googleapis.com/css2?family=Inter:wght@400..700&family=JetBrains+Mono:wght@400..700&display=swap"\n          rel="stylesheet"\n        />\n        '.concat('<link rel="stylesheet" href="'.concat("https://platejs.org",'/tailwind.css">'),"\n        ").concat('<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.18/dist/katex.css" integrity="sha384-9PvLvaiSKCPkFKB1ZsEoTjgnJn+O3KvEwtsz37/XrkYft3DTk2gHdYvd9oWgW3tV" crossorigin="anonymous">',"\n        <style>\n          :root {\n            --font-sans: 'Inter', 'Inter Fallback';\n            --font-mono: 'JetBrains Mono', 'JetBrains Mono Fallback';\n          }\n        </style>\n      </head>\n      <body>\n        ").concat(o,"\n      </body>\n    </html>"),n="data:text/html;charset=utf-8,".concat(encodeURIComponent(l));await C(n,"plate.html")},w=async()=>{let e=t.getApi(i.LK).markdown.serialize(),o="data:text/markdown;charset=utf-8,".concat(encodeURIComponent(e));await C(o,"plate.md")},k=async()=>{var e,o;let l=null!=(e=t.getOption(g.discussionPlugin,"discussions"))?e:[],n=null!=(o=t.getOption(g.discussionPlugin,"users"))?o:{},r=(e,t)=>{var o;let l=null!=t?t:null==(o=n[e])?void 0:o.name;return l?{id:e,name:l}:void 0},a=l.map(e=>{var t;return{id:e.id,comments:null==(t=e.comments)?void 0:t.map(e=>({contentRich:e.contentRich,createdAt:e.createdAt,userId:e.userId,user:r(e.userId,e.authorName)})),createdAt:e.createdAt,documentContent:e.documentContent,userId:e.userId,user:r(e.userId,e.authorName)}});console.log("[DOCX DEBUG] export discussions:",JSON.stringify(a,null,2)),console.log("[DOCX DEBUG] export editor.children:",JSON.stringify(t.children,null,2));let i=await (0,s.ii)(t.children,{editorPlugins:[...p.BaseEditorKit,...b.DocxExportKit],tracking:{discussions:a}}),c=URL.createObjectURL(i),d=document.createElement("a");d.href=c,d.download="plate.docx",document.body.append(d),d.click(),d.remove(),URL.revokeObjectURL(c)};return(0,r.jsxs)(h.rI,(0,n._)((0,l._)({open:j,onOpenChange:v,modal:!1},e),{children:[(0,r.jsx)(h.ty,{asChild:!0,children:(0,r.jsx)(f.ToolbarButton,{pressed:j,tooltip:"Export",isDropdown:!0,children:(0,r.jsx)(c.A,{className:"size-4"})})}),(0,r.jsx)(h.SQ,{align:"start",children:(0,r.jsxs)(h.I,{children:[(0,r.jsx)(h._2,{onSelect:S,children:"Export as HTML"}),(0,r.jsx)(h._2,{onSelect:y,children:"Export as PDF"}),(0,r.jsx)(h._2,{onSelect:B,children:"Export as Image"}),(0,r.jsx)(h._2,{onSelect:w,children:"Export as Markdown"}),(0,r.jsx)(h._2,{onSelect:k,children:"Export as Word"})]})})]}))}},89545:(e,t,o)=>{o.r(t),o.d(t,{MediaToolbarButton:()=>L});var l=o(99019),n=o(5147),r=o(15457),a=o(54568),s=o(99680),i=o(7620),c=o(80423),d=o(60611),u=o(61539),m=o(68202),h=o(73795),p=o(3769),g=o(48674),x=o(2498),f=o(28268),b=o(25014),j=o(18367),v=o(98752),_=o(17292),C=o(93955),y=o(87536);function B(e){let t,o,n=(0,s.c)(4);return n[0]!==e?(t=(0,v._)({},e),n[0]=e,n[1]=t):t=n[1],n[2]!==t?(o=(0,a.jsx)(_.bL,(0,l._)({"data-slot":"alert-dialog"},t)),n[2]=t,n[3]=o):o=n[3],o}function S(e){let t,o,n=(0,s.c)(4);return n[0]!==e?(t=(0,v._)({},e),n[0]=e,n[1]=t):t=n[1],n[2]!==t?(o=(0,a.jsx)(_.ZL,(0,l._)({"data-slot":"alert-dialog-portal"},t)),n[2]=t,n[3]=o):o=n[3],o}function w(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)("data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50 data-[state=closed]:animate-out data-[state=open]:animate-in",t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)(_.hJ,(0,l._)({className:n,"data-slot":"alert-dialog-overlay"},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function k(e){let t,o,n,i,c,d=(0,s.c)(9);return d[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),d[0]=e,d[1]=t,d[2]=o):(t=d[1],o=d[2]),d[3]===Symbol.for("react.memo_cache_sentinel")?(n=(0,a.jsx)(w,{}),d[3]=n):n=d[3],d[4]!==t?(i=(0,y.cn)("data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[state=open]:fade-in-0 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border bg-background p-6 shadow-lg duration-200 data-[state=closed]:animate-out data-[state=open]:animate-in sm:max-w-lg",t),d[4]=t,d[5]=i):i=d[5],d[6]!==o||d[7]!==i?(c=(0,a.jsxs)(S,{children:[n,(0,a.jsx)(_.UC,(0,l._)({className:i,"data-slot":"alert-dialog-content"},o))]}),d[6]=o,d[7]=i,d[8]=c):c=d[8],c}function T(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)("flex flex-col gap-2 text-center sm:text-left",t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)("div",(0,l._)({className:n,"data-slot":"alert-dialog-header"},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function A(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)("div",(0,l._)({className:n,"data-slot":"alert-dialog-footer"},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function N(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)("font-semibold text-lg",t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)(_.hE,(0,l._)({className:n,"data-slot":"alert-dialog-title"},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function D(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)("text-muted-foreground text-sm",t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)(_.VY,(0,l._)({className:n,"data-slot":"alert-dialog-description"},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function I(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)((0,C.r)(),t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)(_.rc,(0,l._)({className:n},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}function F(e){let t,o,n,i,c=(0,s.c)(8);return c[0]!==e?({className:t}=e,o=(0,r._)(e,["className"]),c[0]=e,c[1]=t,c[2]=o):(t=c[1],o=c[2]),c[3]!==t?(n=(0,y.cn)((0,C.r)({variant:"outline"}),t),c[3]=t,c[4]=n):n=c[4],c[5]!==o||c[6]!==n?(i=(0,a.jsx)(_.ZD,(0,l._)({className:n},o)),c[5]=o,c[6]=n,c[7]=i):i=c[7],i}var E=o(26844),M=o(48933),z=o(60071);let O={[g.t.audio]:{accept:["audio/*"],icon:(0,a.jsx)(d.A,{className:"size-4"}),title:"Insert Audio",tooltip:"Audio"},[g.t.file]:{accept:["*"],icon:(0,a.jsx)(u.A,{className:"size-4"}),title:"Insert File",tooltip:"File"},[g.t.img]:{accept:["image/*"],icon:(0,a.jsx)(m.A,{className:"size-4"}),title:"Insert Image",tooltip:"Image"},[g.t.video]:{accept:["video/*"],icon:(0,a.jsx)(h.A,{className:"size-4"}),title:"Insert Video",tooltip:"Video"}};function L(e){let t,o,d,u,m,h,g,x,b,v,_,C,y,S,w,T,A,N,D=(0,s.c)(41);D[0]!==e?({nodeType:t}=e,o=(0,r._)(e,["nodeType"]),D[0]=e,D[1]=t,D[2]=o):(t=D[1],o=D[2]);let I=O[t],F=(0,f.Q_)(),[M,L]=i.useState(!1),[U,H]=i.useState(!1);D[3]!==F?(d=e=>{let{plainFiles:t}=e;F.getTransforms(c.rD).insert.media(t)},D[3]=F,D[4]=d):d=D[4],D[5]!==I.accept||D[6]!==d?(u={accept:I.accept,multiple:!0,onFilesSelected:d},D[5]=I.accept,D[6]=d,D[7]=u):u=D[7];let{openFilePicker:G}=(0,j.g)(u);return D[8]!==G?(m=()=>{G()},D[8]=G,D[9]=m):m=D[9],D[10]===Symbol.for("react.memo_cache_sentinel")?(h=e=>{"ArrowDown"===e.key&&(e.preventDefault(),L(!0))},D[10]=h):h=D[10],D[11]!==I.icon?(g=(0,a.jsx)(z.ToolbarSplitButtonPrimary,{children:I.icon}),D[11]=I.icon,D[12]=g):g=D[12],D[13]===Symbol.for("react.memo_cache_sentinel")?(x=(0,a.jsx)(E.ty,{asChild:!0,children:(0,a.jsx)(z.ToolbarSplitButtonSecondary,{})}),D[13]=x):x=D[13],D[14]!==G?(b=()=>G(),D[14]=G,D[15]=b):b=D[15],D[16]!==I.icon||D[17]!==b?(v=(0,a.jsxs)(E._2,{onSelect:b,children:[I.icon,"Upload from computer"]}),D[16]=I.icon,D[17]=b,D[18]=v):v=D[18],D[19]===Symbol.for("react.memo_cache_sentinel")?(_=(0,a.jsxs)(E._2,{onSelect:()=>H(!0),children:[(0,a.jsx)(p.A,{}),"Insert via URL"]}),D[19]=_):_=D[19],D[20]!==v?(C=(0,a.jsx)(E.SQ,{onClick:Q,align:"start",alignOffset:-32,children:(0,a.jsxs)(E.I,{children:[v,_]})}),D[20]=v,D[21]=C):C=D[21],D[22]!==M||D[23]!==o||D[24]!==C?(y=(0,a.jsxs)(E.rI,(0,n._)((0,l._)({open:M,onOpenChange:L,modal:!1},o),{children:[x,C]})),D[22]=M,D[23]=o,D[24]=C,D[25]=y):y=D[25],D[26]!==M||D[27]!==y||D[28]!==m||D[29]!==g?(S=(0,a.jsxs)(z.ToolbarSplitButton,{onClick:m,onKeyDown:h,pressed:M,children:[g,y]}),D[26]=M,D[27]=y,D[28]=m,D[29]=g,D[30]=S):S=D[30],D[31]===Symbol.for("react.memo_cache_sentinel")?(w=e=>{H(e)},D[31]=w):w=D[31],D[32]!==I||D[33]!==t?(T=(0,a.jsx)(k,{className:"gap-6",children:(0,a.jsx)(R,{currentConfig:I,nodeType:t,setOpen:H})}),D[32]=I,D[33]=t,D[34]=T):T=D[34],D[35]!==U||D[36]!==T?(A=(0,a.jsx)(B,{open:U,onOpenChange:w,children:T}),D[35]=U,D[36]=T,D[37]=A):A=D[37],D[38]!==S||D[39]!==A?(N=(0,a.jsxs)(a.Fragment,{children:[S,A]}),D[38]=S,D[39]=A,D[40]=N):N=D[40],N}function Q(e){return e.stopPropagation()}function R(e){let t,o,l,n,r,c,d,u,m,h=(0,s.c)(21),{currentConfig:p,nodeType:j,setOpen:v}=e,_=(0,f.Q_)(),[C,y]=i.useState("");h[0]!==_||h[1]!==j||h[2]!==v||h[3]!==C?(t=()=>{if(!(0,x.gU)(C))return b.oR.error("Invalid URL");v(!1),_.tf.insertNodes({children:[{text:""}],name:j===g.t.file?C.split("/").pop():void 0,type:j,url:C})},h[0]=_,h[1]=j,h[2]=v,h[3]=C,h[4]=t):t=h[4];let B=t;return h[5]!==p.title?(o=(0,a.jsx)(T,{children:(0,a.jsx)(N,{children:p.title})}),h[5]=p.title,h[6]=o):o=h[6],h[7]===Symbol.for("react.memo_cache_sentinel")?(l=(0,a.jsx)("label",{className:"-translate-y-1/2 absolute top-1/2 block cursor-text px-1 text-muted-foreground/70 text-sm transition-all group-focus-within:pointer-events-none group-focus-within:top-0 group-focus-within:cursor-default group-focus-within:font-medium group-focus-within:text-foreground group-focus-within:text-xs has-[+input:not(:placeholder-shown)]:pointer-events-none has-[+input:not(:placeholder-shown)]:top-0 has-[+input:not(:placeholder-shown)]:cursor-default has-[+input:not(:placeholder-shown)]:font-medium has-[+input:not(:placeholder-shown)]:text-foreground has-[+input:not(:placeholder-shown)]:text-xs",htmlFor:"url",children:(0,a.jsx)("span",{className:"inline-flex bg-background px-2",children:"URL"})}),h[7]=l):l=h[7],h[8]===Symbol.for("react.memo_cache_sentinel")?(n=e=>y(e.target.value),h[8]=n):n=h[8],h[9]!==B?(r=e=>{"Enter"===e.key&&B()},h[9]=B,h[10]=r):r=h[10],h[11]!==r||h[12]!==C?(c=(0,a.jsxs)(D,{className:"group relative w-full",children:[l,(0,a.jsx)(M.p,{id:"url",className:"w-full",value:C,onChange:n,onKeyDown:r,placeholder:"",type:"url",autoFocus:!0})]}),h[11]=r,h[12]=C,h[13]=c):c=h[13],h[14]===Symbol.for("react.memo_cache_sentinel")?(d=(0,a.jsx)(F,{children:"Cancel"}),h[14]=d):d=h[14],h[15]!==B?(u=(0,a.jsxs)(A,{children:[d,(0,a.jsx)(I,{onClick:e=>{e.preventDefault(),B()},children:"Accept"})]}),h[15]=B,h[16]=u):u=h[16],h[17]!==o||h[18]!==c||h[19]!==u?(m=(0,a.jsxs)(a.Fragment,{children:[o,c,u]}),h[17]=o,h[18]=c,h[19]=u,h[20]=m):m=h[20],m}},89610:(e,t,o)=>{o.r(t),o.d(t,{ModeToolbarButton:()=>f});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(54097),c=o(9983),d=o(69636),u=o(11457),m=o(86350),h=o(9851),p=o(28268),g=o(26844),x=o(60071);function f(e){let t,o,c,h,f,j,v,_,C,y=(0,a.c)(21),B=(0,p.Q_)(),[S,w]=(0,p.x8)("readOnly"),[k,T]=s.useState(!1),A=(0,p.gO)(i.I,"isSuggesting"),N="editing";S&&(N="viewing"),A&&(N="suggestion"),y[0]===Symbol.for("react.memo_cache_sentinel")?(t={editing:{icon:(0,r.jsx)(d.A,{}),label:"Editing"},suggestion:{icon:(0,r.jsx)(u.A,{}),label:"Suggestion"},viewing:{icon:(0,r.jsx)(m.A,{}),label:"Viewing"}},y[0]=t):t=y[0];let D=t,I=D[N],F=D[N];return y[1]!==F.label?(o=(0,r.jsx)("span",{className:"hidden lg:inline",children:F.label}),y[1]=F.label,y[2]=o):o=y[2],y[3]!==k||y[4]!==I.icon||y[5]!==o?(c=(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsxs)(x.ToolbarButton,{pressed:k,tooltip:"Editing mode",isDropdown:!0,children:[I.icon,o]})}),y[3]=k,y[4]=I.icon,y[5]=o,y[6]=c):c=y[6],y[7]!==B||y[8]!==w?(h=e=>{"viewing"===e?w(!0):(w(!1),"suggestion"===e)?B.setOption(i.I,"isSuggesting",!0):(B.setOption(i.I,"isSuggesting",!1),"editing"===e&&B.tf.focus())},y[7]=B,y[8]=w,y[9]=h):h=y[9],y[10]===Symbol.for("react.memo_cache_sentinel")?(f=(0,r.jsxs)(g.Ht,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"editing",children:[(0,r.jsx)(b,{}),D.editing.icon,D.editing.label]}),y[10]=f):f=y[10],y[11]===Symbol.for("react.memo_cache_sentinel")?(j=(0,r.jsxs)(g.Ht,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"viewing",children:[(0,r.jsx)(b,{}),D.viewing.icon,D.viewing.label]}),y[11]=j):j=y[11],y[12]===Symbol.for("react.memo_cache_sentinel")?(v=(0,r.jsxs)(g.Ht,{className:"pl-2 *:first:[span]:hidden *:[svg]:text-muted-foreground",value:"suggestion",children:[(0,r.jsx)(b,{}),D.suggestion.icon,D.suggestion.label]}),y[12]=v):v=y[12],y[13]!==h||y[14]!==N?(_=(0,r.jsx)(g.SQ,{className:"min-w-[180px]",align:"start",children:(0,r.jsxs)(g.Hr,{value:N,onValueChange:h,children:[f,j,v]})}),y[13]=h,y[14]=N,y[15]=_):_=y[15],y[16]!==k||y[17]!==e||y[18]!==c||y[19]!==_?(C=(0,r.jsxs)(g.rI,(0,n._)((0,l._)({open:k,onOpenChange:T,modal:!1},e),{children:[c,_]})),y[16]=k,y[17]=e,y[18]=c,y[19]=_,y[20]=C):C=y[20],C}function b(){let e,t=(0,a.c)(1);return t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("span",{className:"pointer-events-none absolute right-2 flex size-3.5 items-center justify-center",children:(0,r.jsx)(c.ly,{children:(0,r.jsx)(h.A,{})})}),t[0]=e):e=t[0],e}},97600:(e,t,o)=>{o.r(t),o.d(t,{AlignToolbarButton:()=>b});var l=o(99019),n=o(5147),r=o(54568),a=o(99680),s=o(7620),i=o(10920),c=o(41284),d=o(80632),u=o(42637),m=o(62687),h=o(28268),p=o(77808),g=o(26844),x=o(60071);let f=[{icon:c.A,value:"left"},{icon:d.A,value:"center"},{icon:u.A,value:"right"},{icon:m.A,value:"justify"}];function b(e){var t,o,d;let u,m,b,_,C,y,B,S=(0,a.c)(19),{editor:w,tf:k}=(0,h.CF)(i.G6),T=null!=(t=(0,p.$2)({defaultValue:"start",getProp:v}))?t:"left",[A,N]=s.useState(!1);S[0]!==T?(u=null!=(o=null==(d=f.find(e=>e.value===T))?void 0:d.icon)?o:c.A,S[0]=T,S[1]=u):u=S[1];let D=u;return S[2]!==D?(m=(0,r.jsx)(D,{}),S[2]=D,S[3]=m):m=S[3],S[4]!==A||S[5]!==m?(b=(0,r.jsx)(g.ty,{asChild:!0,children:(0,r.jsx)(x.ToolbarButton,{pressed:A,tooltip:"Align",isDropdown:!0,children:m})}),S[4]=A,S[5]=m,S[6]=b):b=S[6],S[7]!==w.tf||S[8]!==k.textAlign?(_=e=>{k.textAlign.setNodes(e),w.tf.focus()},S[7]=w.tf,S[8]=k.textAlign,S[9]=_):_=S[9],S[10]===Symbol.for("react.memo_cache_sentinel")?(C=f.map(j),S[10]=C):C=S[10],S[11]!==_||S[12]!==T?(y=(0,r.jsx)(g.SQ,{className:"min-w-0",align:"start",children:(0,r.jsx)(g.Hr,{value:T,onValueChange:_,children:C})}),S[11]=_,S[12]=T,S[13]=y):y=S[13],S[14]!==A||S[15]!==e||S[16]!==b||S[17]!==y?(B=(0,r.jsxs)(g.rI,(0,n._)((0,l._)({open:A,onOpenChange:N,modal:!1},e),{children:[b,y]})),S[14]=A,S[15]=e,S[16]=b,S[17]=y,S[18]=B):B=S[18],B}function j(e){let{icon:t,value:o}=e;return(0,r.jsx)(g.Ht,{className:"pl-2 data-[state=checked]:bg-accent *:first:[span]:hidden",value:o,children:(0,r.jsx)(t,{})},o)}function v(e){return e.align}}}]);