"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[12255],{12255:(e,t,i)=>{i.r(t),i.d(t,{TabbableKit:()=>a});var o=i(54532),l=i(48674);let a=o.L.configure(e=>{let{editor:t}=e;return{node:{isElement:!0},options:{query:()=>!(t.api.isAt({start:!0})||t.api.isAt({end:!0}))&&!t.api.some({match:e=>!!(e.type&&[l.t.codeBlock,l.t.li,l.t.listTodoClassic,l.t.table].includes(e.type)||e.listStyleType)})},override:{enabled:{indent:!1}}}})},48674:(e,t,i)=>{i.d(t,{t:()=>l});var o=i(99019);let l=(0,i(5147)._)((0,o._)({},{a:"a",ai:"ai",aiChat:"aiChat",audio:"audio",blockquote:"blockquote",bold:"bold",callout:"callout",code:"code",codeBlock:"code_block",codeLine:"code_line",codeSyntax:"code_syntax",column:"column",columnGroup:"column_group",comment:"comment",date:"date",emojiInput:"emoji_input",equation:"equation",excalidraw:"excalidraw",file:"file",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",highlight:"highlight",hr:"hr",img:"img",inlineEquation:"inline_equation",italic:"italic",kbd:"kbd",li:"li",lic:"lic",link:"a",listTodoClassic:"action_item",mediaEmbed:"media_embed",mention:"mention",mentionInput:"mention_input",olClassic:"ol",p:"p",searchHighlight:"search_highlight",slashInput:"slash_input",strikethrough:"strikethrough",sub:"subscript",suggestion:"suggestion",sup:"superscript",table:"table",tag:"tag",taskList:"taskList",td:"td",th:"th",toc:"toc",toggle:"toggle",tr:"tr",ulClassic:"ul",underline:"underline",video:"video"},{backgroundColor:"backgroundColor",color:"color",fontFamily:"fontFamily",fontSize:"fontSize",fontWeight:"fontWeight",indent:"indent",lineHeight:"lineHeight",listType:"listStyleType",textAlign:"textAlign",textIndent:"textIndent"}),{autoformat:"autoformat",blockMenu:"blockMenu",blockPlaceholder:"blockPlaceholder",blockSelection:"blockSelection",caption:"caption",copilot:"copilot",csv:"csv",cursorOverlay:"cursorOverlay",delete:"delete",dnd:"dnd",docx:"docx",emoji:"emoji",exitBreak:"exitBreak",heading:["h1","h2","h3","h4","h5","h6"],html:"html",juice:"juice",list:"list",listChecked:"checked",listClassic:"listClassic",listRestart:"listRestart",listRestartPolite:"listRestartPolite",listStart:"listStart",listTodo:"todo",markdown:"markdown",nodeId:"nodeId",normalizeTypes:"normalizeTypes",ol:"decimal",placeholder:"placeholder",playwright:"playwright",removeEmptyNodes:"removeEmptyNodes",resetNode:"resetNode",singleBlock:"singleBlock",singleLine:"singleLine",slashCommand:"slash_command",softBreak:"softBreak",tabbable:"tabbable",trailingBlock:"trailingBlock",ul:"disc",yjs:"yjs",codeDrawing:"code_drawing"})},54532:(e,t,i)=>{i.d(t,{L:()=>b});var o=i(99680),l=i(50357),a=i(48674),n=i(14796);let r=(0,l.qt)({key:a.t.tabbable,options:{globalEventListener:!1,insertTabbableEntries:()=>[],query:()=>!0}}).extend(e=>{let{editor:t}=e;return{options:{isTabbable:e=>t.api.isVoid(e.slateNode)}}});var d=i(13526),s=i(7620),c=i(28268),u=i(49420);function h(e){let t=e.getAttribute("tabindex");e.setAttribute("tabindex","-1"),setTimeout(()=>{t?e.setAttribute("tabindex",t):e.removeAttribute("tabindex")},0)}function p(e,t){return n.s2.compare(e.path,t.path)}function m(e){let{domNode:t}=e;return t}let b=(0,c.HS)(r,{render:{afterEditable:function(){let e,t,i=(0,o.c)(6),l=(0,d.c)(4),a=(0,c.Q_)(),b=(0,c.fu)();if(l[0]!==a||l[1]!==b){let o,d;i[0]!==a||i[1]!==b?(o=()=>{if(b)return;let{globalEventListener:e,insertTabbableEntries:t,isTabbable:i,query:o}=a.getOptions(r),l=a.api.toDOMNode(a);if(!l)return;let d=r=>{var d;if("Tab"!==r.key||r.defaultPrevented||!(null==o?void 0:o(r)))return;let s=null==t?void 0:t(r);if(e&&r.target&&![l,...s.map(m)].some(e=>e.contains(r.target)))return;let c=(0,u.Kr)(l),b=[...s,...c.map(e=>{let t=a.api.toSlateNode(e);return t?{domNode:e,path:a.api.findPath(t),slateNode:t}:null}).filter(e=>e&&(null==i?void 0:i(e)))].sort(p),{activeElement:f}=document,g=((e,t)=>{var i,o;let{activeTabbableEntry:l,direction:a,tabbableEntries:r}=t;if(l){let t=r[r.indexOf(l)+("forward"===a?1:-1)];if(t&&n.s2.equals(l.path,t.path))return{domNode:t.domNode,type:"dom-node"};if("forward"===a){let t=e.api.after(l.path);return t?{path:t.path,type:"path"}:null}return{path:e.api.point(l.path).path,type:"path"}}let d=(null==(o=e.selection)||null==(i=o.anchor)?void 0:i.path)||[],s="forward"===a?r.find(e=>!n.s2.isBefore(e.path,d)):[...r].reverse().find(e=>n.s2.isBefore(e.path,d));return s?{domNode:s.domNode,type:"dom-node"}:null})(a,{activeTabbableEntry:null!=(d=f&&b.find(e=>e.domNode===f))?d:null,direction:r.shiftKey?"backward":"forward",tabbableEntries:b});if(g){switch(r.preventDefault(),g.type){case"dom-node":g.domNode.focus();break;case"path":a.tf.focus({at:{anchor:{offset:0,path:g.path},focus:{offset:0,path:g.path}}})}return}c.forEach(h)},s=e?document.body:l;return s.addEventListener("keydown",d,!0),()=>s.removeEventListener("keydown",d,!0)},i[0]=a,i[1]=b,i[2]=o):o=i[2],e=o,i[3]!==a||i[4]!==b?(d=[b,a],i[3]=a,i[4]=b,i[5]=d):d=i[5],t=d,l[0]=a,l[1]=b,l[2]=e,l[3]=t}else e=l[2],t=l[3];return s.useEffect(e,t),null}}})}}]);