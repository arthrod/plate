"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[30899,57721],{30899:(e,t,r)=>{r.r(t),r.d(t,{ImageElement:()=>g});var n=r(99019),i=r(5147),l=r(54568);r(7620);var o=r(57721),a=r(80423),s=r(16116),c=r(28268),d=r(87536),u=r(77544),p=r(44536),f=r(97073);let g=(0,c.Xf)(s.vu,function(e){let{align:t="center",focused:r,readOnly:g,selected:m}=(0,a.nV)(),v=(0,s.u5)("width"),{isDragging:h,handleRef:_}=(0,o.PM)({element:e.element});return(0,l.jsx)(p.MediaToolbar,{plugin:a.rn,children:(0,l.jsxs)(c.tc,(0,i._)((0,n._)({},e),{className:"py-2.5",children:[(0,l.jsxs)("figure",{className:"group relative m-0",contentEditable:!1,children:[(0,l.jsxs)(f.Resizable,{align:t,options:{align:t,readOnly:g},children:[(0,l.jsx)(f.ResizeHandle,{className:(0,f.mediaResizeHandleVariants)({direction:"left"}),options:{direction:"left"}}),(0,l.jsx)(a._V,{ref:_,className:(0,d.cn)("block w-full max-w-full cursor-pointer object-cover px-0","rounded-sm",r&&m&&"ring-2 ring-ring ring-offset-2",h&&"opacity-50"),alt:e.attributes.alt}),(0,l.jsx)(f.ResizeHandle,{className:(0,f.mediaResizeHandleVariants)({direction:"right"}),options:{direction:"right"}})]}),(0,l.jsx)(u.Caption,{style:{width:v},align:t,children:(0,l.jsx)(u.CaptionTextarea,{readOnly:g,onFocus:e=>{e.preventDefault()},placeholder:"Write a caption..."})})]}),e.children]}))})})},44536:(e,t,r)=>{r.r(t),r.d(t,{MediaToolbar:()=>x});var n=r(99019),i=r(5147),l=r(54568),o=r(7620),a=r(80423),s=r(30507),c=r(3769),d=r(49854),u=r(28268),p=r(92405),f=r(77808),g=r(93955),m=r(54866),v=r(37600),h=r(77544);let _=(0,s.F)("flex h-[28px] w-full rounded-md border-none bg-transparent px-1.5 py-1 text-base placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-transparent md:text-sm");function x(e){let{children:t,plugin:r}=e,s=(0,u.Q_)(),x=(0,p.cQ)(),y=(0,p.f7)(),b=(0,u.hc)(),O=(0,u.QR)(e=>!e.api.isExpanded(),[]),E=(0,a.eo)("isOpen",s.id),D=b&&!x&&y&&O&&!E,N=(0,a.d5)("isEditing");o.useEffect(()=>{!D&&N&&a.Gt.set("isEditing",!1)},[D]);let w=(0,u.iQ)(),{props:k}=(0,f.W6)({element:w});return(0,l.jsxs)(m.AM,{open:D,modal:!1,children:[(0,l.jsx)(m.dT,{children:t}),(0,l.jsx)(m.hl,{className:"w-auto p-1",onOpenAutoFocus:e=>e.preventDefault(),children:N?(0,l.jsx)("div",{className:"flex w-[330px] flex-col",children:(0,l.jsxs)("div",{className:"flex items-center",children:[(0,l.jsx)("div",{className:"flex items-center pr-1 pl-2 text-muted-foreground",children:(0,l.jsx)(c.A,{className:"size-4"})}),(0,l.jsx)(a.xG.UrlInput,{className:_(),placeholder:"Paste the embed link...",options:{plugin:r}})]})}):(0,l.jsxs)("div",{className:"box-content flex items-center",children:[(0,l.jsx)(a.xG.EditButton,{className:(0,g.r)({size:"sm",variant:"ghost"}),children:"Edit link"}),(0,l.jsx)(h.CaptionButton,{size:"sm",variant:"ghost",children:"Caption"}),(0,l.jsx)(v.w,{orientation:"vertical",className:"mx-1 h-6"}),(0,l.jsx)(g.$,(0,i._)((0,n._)({size:"sm",variant:"ghost"},k),{children:(0,l.jsx)(d.A,{})}))]})})]})}},57721:(e,t,r)=>{r.d(t,{P8:()=>D,PM:()=>E,qp:()=>O});var n=r(99019),i=r(5147),l=r(15457),o=r(99680),a=r(7620),s=r(48674),c=r(14796),d=r(28268),u=r(13526),p=r(49272),f=r(58872),g=r(31326),m=r(6388),v=r(99898),h=r(8155);function _(e){let t,r,i,l,o,s,c,d,g,m=(0,u.c)(22),{containerRef:v,enabled:h,height:_,minStrength:x,placement:y,scrollAreaProps:b,strengthMultiplier:O,zIndex:E}=e,D=void 0===h||h,N=void 0===_?100:_,w=void 0===x?.15:x,k=void 0===O?25:O,R=void 0===E?1e4:E,j=a.useRef(void 0),T=a.useRef(0),z=a.useRef(null),S="top"===y?-1:1,Q=null==b?void 0:b.style;m[0]!==N||m[1]!==y||m[2]!==Q||m[3]!==R?(t=(0,n._)({height:N,opacity:0,position:"fixed",width:"100%",zIndex:R},Q),"top"===y?t.top=0:"bottom"===y&&(t.bottom=0),m[0]=N,m[1]=y,m[2]=Q,m[3]=R,m[4]=t):t=m[4],m[5]===Symbol.for("react.memo_cache_sentinel")?(r=()=>{T.current=0,z.current&&(f.cancel(z.current),z.current=null)},m[5]=r):r=m[5];let C=r;m[6]!==v||m[7]!==S||m[8]!==k?(i=()=>{let e=()=>{var t;let r=T.current;0===k||0===r?C():((null!=(t=null==v?void 0:v.current)?t:window).scrollBy(0,r*k*S),z.current=f(e))};e()},m[6]=v,m[7]=S,m[8]=k,m[9]=i):i=m[9];let P=i,H=a.useRef(void 0);m[10]!==S||m[11]!==w||m[12]!==P?(o=()=>{H.current=p(e=>{let t=j.current;if(!t)return;let{height:r,top:n}=t.getBoundingClientRect(),i=Math.max(Math.max(("touchmove"===e.type?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.clientX,y:e.clientY}).y-n,0)/r,w);T.current=-1===S?1-i:i,!z.current&&T.current&&P()},100,{trailing:!1})},l=[S,w,P],m[10]=S,m[11]=w,m[12]=P,m[13]=l,m[14]=o):(l=m[13],o=m[14]),a.useEffect(o,l),m[15]===Symbol.for("react.memo_cache_sentinel")?(s=e=>{var t;null==(t=H.current)||t.call(H,e)},m[15]=s):s=m[15];let A=s;return(m[16]!==D?(c=()=>{D||C()},d=[D],m[16]=D,m[17]=c,m[18]=d):(c=m[17],d=m[18]),a.useEffect(c,d),D)?(m[19]!==b||m[20]!==t?(g=a.createElement("div",(0,n._)({ref:j,style:t,onDragEnd:C,onDragLeave:C,onDragOver:A,onTouchMove:A},b)),m[19]=b,m[20]=t,m[21]=g):g=m[21],g):null}function x(e){let t,r=(0,u.c)(2);return r[0]!==e?(t=a.createElement(a.Fragment,null,a.createElement(_,(0,n._)({placement:"top"},e)),a.createElement(_,(0,n._)({placement:"bottom"},e))),r[0]=e,r[1]=t):t=r[1],t}function y(e){let t,r,i,l=(0,o.c)(8),s=(0,u.c)(8),c=(0,d.gO)(O,"isDragging"),[p,f]=a.useState(!1);if(s[0]!==c){let e;l[0]!==c?(e=()=>{if(c){let e=setTimeout(()=>{f(!0)},100);return()=>clearTimeout(e)}f(!1)},l[0]=c,l[1]=e):e=l[1],t=e,s[0]=c,s[1]=t}else t=s[1];if(s[2]!==c||s[3]!==p){let e;l[2]!==c||l[3]!==p?(e=[c,p],l[2]=c,l[3]=p,l[4]=e):e=l[4],r=e,s[2]=c,s[3]=p,s[4]=r}else r=s[4];a.useEffect(t,r);let g=c&&p;if(s[5]!==e||s[6]!==g){let t;l[5]!==e||l[6]!==g?(t=a.createElement(x,(0,n._)({enabled:g},e)),l[5]=e,l[6]=g,l[7]=t):t=l[7],i=t,s[5]=e,s[6]=g,s[7]=i}else i=s[7];return i}let b="block",O=(0,d.e3)({key:s.t.dnd,editOnly:!0,handlers:{onDragEnd:e=>{let{editor:t,plugin:r}=e;t.setOption(r,"isDragging",!1),t.setOption(r,"dropTarget",{id:null,line:""})},onDragEnter:e=>{let{editor:t,plugin:r}=e;t.setOption(r,"_isOver",!0)},onDragStart:e=>{let{editor:t,event:r,plugin:n}=e,i=r.target,l=r.dataTransfer;l.effectAllowed="move",l.dropEffect="move";let o=i.dataset.blockId;o&&(t.setOption(n,"draggingId",o),t.setOption(n,"isDragging",!0),t.setOption(n,"_isOver",!0))},onDrop:e=>{let{getOptions:t}=e;return t().isDragging},onFocus:e=>{var t,r;let{editor:n,plugin:i}=e;n.setOption(i,"isDragging",!1),n.setOption(i,"dropTarget",{id:null,line:""}),n.setOption(i,"_isOver",!1),null==(r=n.getOption(i,"multiplePreviewRef"))||null==(t=r.current)||t.replaceChildren()}},options:{_isOver:!1,draggingId:null,dropTarget:{id:null,line:""},isDragging:!1,multiplePreviewRef:null},useHooks:e=>{let{editor:t,setOption:r}=e,n=(0,a.useCallback)(e=>{if(e.target instanceof Node){let n=t.api.toDOMNode(t);n&&!(e.target===n||n.contains(e.target))&&r("dropTarget",void 0)}},[t,r]),i=(0,a.useCallback)(()=>{r("_isOver",!1),r("dropTarget",void 0)},[r]);(0,a.useEffect)(()=>(document.addEventListener("dragleave",n,!0),document.addEventListener("drop",i,!0),()=>{document.removeEventListener("dragleave",n,!0),document.removeEventListener("drop",i,!0)}),[n,i])}}).extend(e=>{let{getOptions:t}=e;return{render:{afterEditable:t().enableScroller?()=>{var e;return a.createElement(y,null==(e=t())?void 0:e.scrollerProps)}:void 0}}}),E=e=>{let{orientation:t="vertical",type:r=b,onDropHandler:i}=e,l=(0,d.Q_)(),o=a.useRef(null),s=a.useRef(null);if(!l.plugins.dnd)return{};let{dragRef:c,isAboutToDrag:u,isDragging:p}=R((0,n._)({multiplePreviewRef:s,nodeRef:o,orientation:t,type:r,onDropHandler:i},e));return{isAboutToDrag:u,isDragging:p,nodeRef:o,previewRef:s,handleRef:c}},D=e=>{var t;let r,n,i=(0,o.c)(5),l=(0,u.c)(5);if(l[0]!==e){let t;i[0]!==e?(t=void 0===e?{}:e,i[0]=e,i[1]=t):t=i[1],r=t,l[0]=e,l[1]=r}else r=l[1];let{id:a,orientation:s}=r,c=void 0===s?"vertical":s,p=(0,d.iQ)(),f=a||p.id,g=null!=(t=(0,d.Jz)(O,e=>{let{dropTarget:t}=e;return t&&t.id===f?t.line:null}))?t:"";if(c&&("vertical"===c&&("left"===g||"right"===g)||"horizontal"===c&&("top"===g||"bottom"===g))){let e;if(l[2]===Symbol.for("react.memo_cache_sentinel")){let t;i[2]===Symbol.for("react.memo_cache_sentinel")?(t={dropLine:""},i[2]=t):t=i[2],e=t,l[2]=e}else e=l[2];return e}if(l[3]!==g){let e;i[3]!==g?(e={dropLine:g},i[3]=g,i[4]=e):e=i[4],n=e,l[3]=g,l[4]=n}else n=l[4];return n};function N(e){return{isDragging:e.isDragging()}}let w=(e,t)=>{let r,n,i,{canDropNode:l,dragItem:o,element:a,monitor:s,nodeRef:d,orientation:u="vertical"}=t,p=(e=>{var t;let{dragItem:r,element:n,monitor:i,nodeRef:l,orientation:o="vertical"}=e;if(!l.current||n===r.element||(Array.isArray(r.id)?r.id:[r.id]).includes(n.id))return;let a=null==(t=l.current)?void 0:t.getBoundingClientRect();if(!a)return;let s=i.getClientOffset();if(s)if("vertical"===o){let e=(a.bottom-a.top)/2,t=s.y-a.top;if(t<e)return"top";if(t>=e)return"bottom"}else{let e=(a.right-a.left)/2;return s.x-a.left<e?"left":"right"}})({dragItem:o,element:a,monitor:s,nodeRef:d,orientation:u});if(!p)return;if("element"in o){let t=e.api.findPath(o.element),i=e.api.findPath(a);if(!t||!i)return;r=[o.element,t],n=[a,i]}else n=e.api.node({id:a.id,at:[]});if(!n||l&&r&&!l({dragEntry:r,dragItem:o,dropEntry:n,editor:e})||!s.canDrop())return;let f=null==r?void 0:r[1],g=n[1];if(("bottom"===p||"right"===p)&&(i=g,f&&c.s2.equals(f,c.s2.next(i)))||("top"===p||"left"===p)&&(i=[...g.slice(0,-1),g.at(-1)-1],f&&c.s2.equals(f,i)))return;let m=i;return{direction:p,dragPath:f,to:f&&c.s2.isBefore(f,m)&&c.s2.isSibling(f,m)?m:c.s2.next(m)}};function k(e){return{isOver:e.isOver({shallow:!0})}}let R=e=>{var t;let r,s,p,f,_,x,y,E,D,R,j,T,z,S,Q=(0,o.c)(11),C=(0,u.c)(20),{canDropNode:P,drag:H,drop:A,element:I,multiplePreviewRef:M,nodeRef:L,orientation:B,preview:F,type:V,onDropHandler:q}=e,G=void 0===B?"vertical":B,J=void 0===F?{}:F,K=void 0===V?b:V,W=(0,d.Q_)();if(C[0]!==H||C[1]!==I||C[2]!==K){let e;Q[0]!==H||Q[1]!==I||Q[2]!==K?(e=(0,n._)({element:I,type:K},H),Q[0]=H,Q[1]=I,Q[2]=K,Q[3]=e):e=Q[3],r=e,C[0]=H,C[1]=I,C[2]=K,C[3]=r}else r=C[3];let[X,Z,$]=((e,t)=>{let r,o,s,c,d,p,f,g,m,h=(0,u.c)(23);h[0]!==t?({element:s,item:r}=t,o=(0,l._)(t,["element","item"]),h[0]=t,h[1]=r,h[2]=o,h[3]=s):(r=h[1],o=h[2],s=h[3]);let _=s.id,[x,y]=a.useState(!1);h[4]!==e||h[5]!==_||h[6]!==r||h[7]!==o?(c=()=>(0,n._)({canDrag:()=>(y(!0),!0),collect:N,end:()=>{e.setOption(O,"isDragging",!1),document.body.classList.remove("dragging"),y(!1)},item(t){let i;e.setOption(O,"isDragging",!0),e.setOption(O,"_isOver",!0),document.body.classList.add("dragging");let l="function"==typeof r?r(t):r,[o]=e.api.node({id:_,at:[]}),a=e.getOption(O,"draggingId");return Array.isArray(a)&&a.length>1&&a.includes(_)?i=Array.from(a):(i=_,e.setOption(O,"draggingId",_)),(0,n._)({id:i,editor:e,editorId:e.id,element:o},l)}},o),h[4]=e,h[5]=_,h[6]=r,h[7]=o,h[8]=c):c=h[8],h[9]!==e||h[10]!==_?(d=[e,_],h[9]=e,h[10]=_,h[11]=d):d=h[11];let[b,E,D]=(0,v.i)(c,d);return h[12]!==b.isDragging||h[13]!==x?(p=()=>{!b.isDragging&&x&&y(!1)},f=[b.isDragging,x],h[12]=b.isDragging,h[13]=x,h[14]=p,h[15]=f):(p=h[14],f=h[15]),a.useEffect(p,f),h[16]!==b||h[17]!==x?(g=(0,i._)((0,n._)({},b),{isAboutToDrag:x}),h[16]=b,h[17]=x,h[18]=g):g=h[18],h[19]!==E||h[20]!==D||h[21]!==g?(m=[g,E,D],h[19]=E,h[20]=D,h[21]=g,h[22]=m):m=h[22],m})(W,r),{isAboutToDrag:Y,isDragging:U}=X;if(C[4]!==K){let e;Q[4]!==K?(e=[K,g.FILE],Q[4]=K,Q[5]=e):e=Q[5],s=e,C[4]=K,C[5]=s}else s=C[5];C[6]!==P||C[7]!==A||C[8]!==I||C[9]!==M||C[10]!==L||C[11]!==q||C[12]!==G||C[13]!==s?(p=(0,n._)({accept:s,canDropNode:P,element:I,multiplePreviewRef:M,nodeRef:L,orientation:G,onDropHandler:q},A),C[6]=P,C[7]=A,C[8]=I,C[9]=M,C[10]=L,C[11]=q,C[12]=G,C[13]=s,C[14]=p):p=C[14];let[ee,et]=(t=p,(z=(0,u.c)(23))[0]!==t?({canDropNode:_,element:x,nodeRef:y,orientation:R,onDropHandler:E}=t,D=(0,l._)(t,["canDropNode","element","nodeRef","orientation","onDropHandler"]),z[0]=t,z[1]=_,z[2]=x,z[3]=y,z[4]=E,z[5]=D,z[6]=R):(_=z[1],x=z[2],y=z[3],E=z[4],D=z[5],R=z[6]),S=x.id,z[7]!==_||z[8]!==W||z[9]!==x||z[10]!==S||z[11]!==y||z[12]!==E||z[13]!==R?(j=(e,t)=>{if(!e.id){let r=w(W,{canDropNode:_,dragItem:e,element:x,monitor:t,nodeRef:y,orientation:R}),n=W.getOptions(O).onDropFiles;if(!r||!n)return;return n({id:S,dragItem:e,editor:W,monitor:t,nodeRef:y,target:r.to})}E&&E(W,{id:S,dragItem:e,monitor:t,nodeRef:y})||((e,t)=>{let{canDropNode:r,dragItem:n,element:i,monitor:l,nodeRef:o,orientation:a="vertical"}=t,s=w(e,{canDropNode:r,dragItem:n,element:i,monitor:l,nodeRef:o,orientation:a});if(!s)return;let{dragPath:d,to:u}=s;if(n.editorId===e.id){let t=Array.isArray(n.id)?n.id:[n.id];if(t.length>1){let r=[];t.forEach(t=>{let n=e.api.node({id:t,at:[]});n&&r.push(n[0])}),e.tf.moveNodes({at:[],to:u,match:e=>r.some(t=>t.id===e.id)})}else e.tf.moveNodes({at:d,to:u})}else{e.tf.insertNodes(n.element,{at:u});let t=n.editor;t&&(Array.isArray(n.id)?n.id:n.id?[n.id]:[]).map(e=>t.api.node({id:e,at:[]})).filter(e=>!!e).map(e=>{let[,t]=e;return t}).sort((e,t)=>c.s2.compare(t,e)).forEach(e=>{t.tf.removeNodes({at:e})})}})(W,{canDropNode:_,dragItem:e,element:x,monitor:t,nodeRef:y,orientation:R})},z[7]=_,z[8]=W,z[9]=x,z[10]=S,z[11]=y,z[12]=E,z[13]=R,z[14]=j):j=z[14],z[15]!==_||z[16]!==W||z[17]!==x||z[18]!==y||z[19]!==D||z[20]!==R||z[21]!==j?(T=(0,n._)({collect:k,drop:j,hover(e,t){((e,t)=>{var r,n;let{canDropNode:i,dragItem:l,element:o,monitor:a,nodeRef:s,orientation:d="vertical"}=t,{_isOver:u,dropTarget:p}=e.getOptions(O),f=null!=(r=null==p?void 0:p.id)?r:null,g=null!=(n=null==p?void 0:p.line)?n:"",m=w(e,{canDropNode:i,dragItem:l,element:o,monitor:a,nodeRef:s,orientation:d});if(!m){(f||g)&&e.setOption(O,"dropTarget",{id:null,line:""});return}let{direction:v}=m,h={id:o.id,line:v};if(h.id!==f||h.line!==g){if(!u)return;if("top"===h.line){let t=c.s2.previous(e.api.findPath(o));if(!t)return e.setOption(O,"dropTarget",h);let r=c.lZ.get(e,t);return e.setOption(O,"dropTarget",{id:null==r?void 0:r.id,line:"bottom"})}e.setOption(O,"dropTarget",h)}v&&e.api.isExpanded()&&(e.tf.focus(),e.tf.collapse())})(W,{canDropNode:_,dragItem:e,element:x,monitor:t,nodeRef:y,orientation:R})}},D),z[15]=_,z[16]=W,z[17]=x,z[18]=y,z[19]=D,z[20]=R,z[21]=j,z[22]=T):T=z[22],(0,h.H)(T)),{isOver:er}=ee;if(et(L),J.disable?$((0,m.n)(),{captureDraggingState:!0}):$(J.ref?J.ref:M),C[15]!==Z||C[16]!==Y||C[17]!==U||C[18]!==er){let e;Q[6]!==Z||Q[7]!==Y||Q[8]!==U||Q[9]!==er?(e={dragRef:Z,isAboutToDrag:Y,isDragging:U,isOver:er},Q[6]=Z,Q[7]=Y,Q[8]=U,Q[9]=er,Q[10]=e):e=Q[10],f=e,C[15]=Z,C[16]=Y,C[17]=U,C[18]=er,C[19]=f}else f=C[19];return f}},77544:(e,t,r)=>{r.r(t),r.d(t,{Caption:()=>g,CaptionButton:()=>v,CaptionTextarea:()=>m});var n=r(99019),i=r(5147),l=r(15457),o=r(54568),a=r(99680);r(7620);var s=r(90329),c=r(41816),d=r(30507),u=r(93955),p=r(87536);let f=(0,d.F)("max-w-full",{defaultVariants:{align:"center"},variants:{align:{center:"mx-auto",left:"mr-auto",right:"ml-auto"}}});function g(e){let t,r,c,d,u,g=(0,a.c)(10);return g[0]!==e?({align:t,className:r}=e,c=(0,l._)(e,["align","className"]),g[0]=e,g[1]=t,g[2]=r,g[3]=c):(t=g[1],r=g[2],c=g[3]),g[4]!==t||g[5]!==r?(d=(0,p.cn)(f({align:t}),r),g[4]=t,g[5]=r,g[6]=d):d=g[6],g[7]!==c||g[8]!==d?(u=(0,o.jsx)(s.HL,(0,i._)((0,n._)({},c),{className:d})),g[7]=c,g[8]=d,g[9]=u):u=g[9],u}function m(e){let t,r,l=(0,a.c)(5);return l[0]!==e.className?(t=(0,p.cn)("mt-2 w-full resize-none border-none bg-inherit p-0 font-[inherit] text-inherit","focus:outline-none focus:[&::placeholder]:opacity-0","text-center print:placeholder:text-transparent",e.className),l[0]=e.className,l[1]=t):t=l[1],l[2]!==e||l[3]!==t?(r=(0,o.jsx)(s.pJ,(0,i._)((0,n._)({},e),{className:t})),l[2]=e,l[3]=t,l[4]=r):r=l[4],r}let v=(0,c.BI)(u.$)({propsHook:s.gs,stateHook:s.To})},77808:(e,t,r)=>{r.d(t,{$2:()=>y,SK:()=>b,SM:()=>p,W6:()=>_,_K:()=>v,ao:()=>g,l4:()=>m});var n=r(99019),i=r(5147),l=r(99680),o=r(48674),a=r(50357),s=r(13526),c=r(28268),d=r(92405),u=r(7620);let p=()=>{let e,t=(0,l.c)(1);if(t[0]===Symbol.for("react.memo_cache_sentinel")){let r=(0,s.c)(1);r[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],r[0]=e):e=r[0],t[0]=e}else e=t[0];return(0,c.QR)(f,e)};function f(e){return e.api.string([])}let g=e=>{if(!e)return{props:{}};let{preventDefaultOnEnterKeydown:t}=e;return{props:{onKeyDownCapture:t?e=>{("Enter"===e.key||13===e.keyCode)&&e.preventDefault()}:void 0}}},m=e=>{let t,r,n,i=(0,l.c)(8),o=(0,s.c)(7),{clear:a,nodeType:d}=e;if(o[0]!==d){let e,n;i[0]!==d?(e=e=>e.api.hasMark(d),i[0]=d,i[1]=e):e=i[1],t=e,i[2]!==d?(n=[d],i[2]=d,i[3]=n):n=i[3],r=n,o[0]=d,o[1]=t,o[2]=r}else t=o[1],r=o[2];let u=(0,c.QR)(t,r);if(o[3]!==a||o[4]!==d||o[5]!==u){let e;i[4]!==a||i[5]!==d||i[6]!==u?(e={clear:a,nodeType:d,pressed:u},i[4]=a,i[5]=d,i[6]=u,i[7]=e):e=i[7],n=e,o[3]=a,o[4]=d,o[5]=u,o[6]=n}else n=o[6];return n},v=e=>{let t,r,n=(0,s.c)(7),i=(0,c.Q_)();return n[0]!==i||n[1]!==e.clear||n[2]!==e.nodeType?(t=()=>{i.tf.toggleMark(e.nodeType,{remove:e.clear}),i.tf.focus()},n[0]=i,n[1]=e.clear,n[2]=e.nodeType,n[3]=t):t=n[3],n[4]!==e.pressed||n[5]!==t?(r={props:{pressed:e.pressed,onClick:t,onMouseDown:h}},n[4]=e.pressed,n[5]=t,n[6]=r):r=n[6],r};function h(e){e.preventDefault()}let _=e=>{let t,r=(0,l.c)(3),n=(0,s.c)(3),{element:i}=e,o=(0,c.Q_)();if(n[0]!==o||n[1]!==i){let e;r[0]!==o||r[1]!==i?(e={props:{onClick:()=>{let e=o.api.findPath(i);o.tf.removeNodes({at:e})},onMouseDown:x}},r[0]=o,r[1]=i,r[2]=e):e=r[2],t=e,n[0]=o,n[1]=i,n[2]=t}else t=n[2];return t};function x(e){e.preventDefault()}let y=e=>{let t,r,i=(0,l.c)(4);if(i[0]!==e){let l,o=(0,s.c)(5);o[0]!==e?(l=void 0===e?{}:e,o[0]=e,o[1]=l):l=o[1];let c=l;if(o[2]!==c?(t=e=>{let t=e.api.fragment(e.selection,{unwrap:(0,a.Rt)(e)});return e.api.prop((0,n._)({nodes:t},c))},o[2]=c,o[3]=t):t=o[3],o[4]===Symbol.for("react.memo_cache_sentinel")){let e;i[3]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[3]=e):e=i[3],r=e,o[4]=r}else r=o[4];i[0]=e,i[1]=t,i[2]=r}else t=i[1],r=i[2];return(0,c.QR)(t,r)},b=(0,c.e3)({key:o.t.blockPlaceholder,editOnly:!0,options:{_target:null,placeholders:{[o.t.p]:"Type something..."},query:e=>{let{path:t}=e;return 1===t.length}},useHooks:e=>{let{editor:t,getOptions:r,setOption:l}=e,o=(0,d.zL)(),a=(0,c.fu)(),s=(0,c.iA)(),p=(0,c.QR)(()=>a||s||!o||!t.selection||t.api.isExpanded()?null:t.api.block(),[a,s,o]);u.useEffect(()=>{if(!p)return void l("_target",null);let{placeholders:o,query:a}=r(),[s,c]=p,d=Object.keys(o).find(e=>t.getType(e)===s.type);a((0,i._)((0,n._)({},e),{node:s,path:c}))&&d&&t.api.isEmpty(s)&&!t.api.isEmpty()?l("_target",{node:s,placeholder:o[d]}):l("_target",null)},[t,p,l,r])}}).extendSelectors(e=>{let{getOption:t}=e;return{placeholder:e=>{let r=t("_target");if((null==r?void 0:r.node)===e)return r.placeholder}}}).extend({inject:{isBlock:!0,nodeProps:{transformProps:e=>{let t=(0,c.gO)(e.plugin,"placeholder",e.element);if(t)return{className:e.getOption("className"),placeholder:t}}}}})},90329:(e,t,r)=>{r.d(t,{HL:()=>v,To:()=>h,_p:()=>m,gs:()=>_,pJ:()=>y});var n=r(99019),i=r(5147),l=r(99680),o=r(70205),a=r(14796),s=r(13988),c=r(28268),d=r(92405),u=r(41816),p=r(13526),f=r(7620),g=r(91447);let m=(0,c.HS)(o.t),v=(0,u.BI)("figcaption")({propsHook:e=>({hidden:e.hidden}),stateHook:e=>{let t,r,n=(0,l.c)(2),i=(0,p.c)(7);if(i[0]!==e){let r;n[0]!==e?(r=void 0===e?{}:e,n[0]=e,n[1]=r):r=n[1],t=r,i[0]=e,i[1]=t}else t=i[1];let o=t,s=(0,c.iQ)(),u=(()=>{let e,t,r=(0,l.c)(2),n=(0,p.c)(4),{caption:i}=(0,c.iQ)();if(n[0]!==i){let t;r[0]!==i?(t=void 0===i?[{children:[{text:""}]}]:i,r[0]=i,r[1]=t):t=r[1],e=t,n[0]=i,n[1]=e}else e=n[1];let o=e;return n[2]!==o[0]?(t=a.lZ.string(o[0])||"",n[2]=o[0],n[3]=t):t=n[3],t})(),f=(0,c.gO)(m,"isVisible",s.id),g=(0,d.f7)(),v=(0,d.cQ)(),h=o.readOnly||v,_=!f&&0===u.length;return i[2]!==u||i[3]!==_||i[4]!==h||i[5]!==g?(r={captionString:u,hidden:_,readOnly:h,selected:g},i[2]=u,i[3]=_,i[4]=h,i[5]=g,i[6]=r):r=i[6],r}}),h=()=>{let e,t=(0,l.c)(3),r=(0,p.c)(3),n=(0,c.Q_)(),i=(0,c.iQ)();if(r[0]!==n||r[1]!==i){let l;t[0]!==n||t[1]!==i?(l={editor:n,element:i},t[0]=n,t[1]=i,t[2]=l):l=t[2],e=l,r[0]=n,r[1]=i,r[2]=e}else e=r[2];return e},_=e=>{let{editor:t,element:r}=e;return{props:{onClick:()=>{let e=t.api.findPath(r);t.setOption(o.t,"visibleId",r.id),setTimeout(()=>{e&&t.setOption(o.t,"focusEndPath",e)},0)}}}},x=f.forwardRef((e,t)=>{let r,l,o,a=(0,p.c)(6),[s,c]=f.useState(!1);return a[0]===Symbol.for("react.memo_cache_sentinel")?(r=()=>c(!0),l=[],a[0]=r,a[1]=l):(r=a[0],l=a[1]),(0,u.Es)(r,l),a[2]!==s||a[3]!==e||a[4]!==t?(o=s?f.createElement(g.A,(0,i._)((0,n._)({},e),{ref:t})):null,a[2]=s,a[3]=e,a[4]=t,a[5]=o):o=a[5],o});x.displayName="TextareaAutosize";let y=(0,u.BI)(x)({propsHook:e=>{let t,r,n,i,l=(0,p.c)(16),{captionValue:o,element:a,readOnly:d,textareaRef:u,handleChange:f,handleCompositionEnd:g,handleCompositionStart:v}=e,h=(0,c.Q_)();l[0]!==h||l[1]!==a?(t=e=>{if((0,s.v_)("up",e)){let t=h.api.findPath(a);if(!t)return;e.preventDefault(),h.tf.focus({at:t})}if((0,s.v_)("down",e)){let t=h.api.findPath(a);if(!t)return;let r=h.api.after(t);if(!r)return;e.preventDefault(),h.tf.focus({at:r})}},l[0]=h,l[1]=a,l[2]=t):t=l[2];let _=t;l[3]!==h?(r=e=>{0===e.target.value.length&&h.setOption(m,"visibleId",null)},l[3]=h,l[4]=r):r=l[4];let x=r;return l[5]!==o||l[6]!==f||l[7]!==g||l[8]!==v||l[9]!==x||l[10]!==_||l[11]!==d?(n={readOnly:d,value:o,onBlur:x,onChange:f,onCompositionEnd:g,onCompositionStart:v,onKeyDown:_},l[5]=o,l[6]=f,l[7]=g,l[8]=v,l[9]=x,l[10]=_,l[11]=d,l[12]=n):n=l[12],l[13]!==n||l[14]!==u?(i={props:n,ref:u},l[13]=n,l[14]=u,l[15]=i):i=l[15],i},stateHook:()=>{let e,t,r,n,i,l,o,s,u,g,v,h,_=(0,p.c)(17),x=(0,c.iQ)(),y=(0,c.Q_)(),[b,O]=(0,f.useState)(!1);_[0]!==x.caption?(e=()=>{var e;let t=null!=(e=x.caption)?e:[{children:[{text:""}]}];return a.lZ.string(t[0])},_[0]=x.caption,_[1]=e):e=_[1];let[E,D]=(0,f.useState)(e);_[2]!==y||_[3]!==x?(t=e=>{y.tf.setNodes({caption:[{text:e}]},{at:x})},_[2]=y,_[3]=x,_[4]=t):t=_[4];let N=t;_[5]!==b||_[6]!==N?(r=e=>{let t=e.target.value;D(t),b||N(t)},_[5]=b,_[6]=N,_[7]=r):r=_[7];let w=r;_[8]===Symbol.for("react.memo_cache_sentinel")?(n=()=>{O(!0)},_[8]=n):n=_[8];let k=n;_[9]!==N?(i=e=>{O(!1);let t=e.currentTarget.value;D(t),N(t)},_[9]=N,_[10]=i):i=_[10];let R=i,j=(0,d.cQ)(),T=f.useRef(null);return u=(0,p.c)(6),g=(0,c.Q_)(),v=(0,c.iQ)(),h=(0,c.gO)(m,"focusEndPath"),u[0]!==g||u[1]!==v||u[2]!==h||u[3]!==T?(o=()=>{if(h&&T.current){let e=g.api.findPath(v);e&&a.s2.equals(e,h)&&(T.current.focus(),g.setOption(m,"focusEndPath",null))}},s=[g,v,h,T],u[0]=g,u[1]=v,u[2]=h,u[3]=T,u[4]=o,u[5]=s):(o=u[4],s=u[5]),f.useEffect(o,s),_[11]!==E||_[12]!==x||_[13]!==w||_[14]!==R||_[15]!==j?(l={captionValue:E,element:x,readOnly:j,textareaRef:T,handleChange:w,handleCompositionEnd:R,handleCompositionStart:k},_[11]=E,_[12]=x,_[13]=w,_[14]=R,_[15]=j,_[16]=l):l=_[16],l}})},97073:(e,t,r)=>{r.r(t),r.d(t,{Resizable:()=>m,ResizeHandle:()=>f,mediaResizeHandleVariants:()=>u});var n=r(99019),i=r(5147),l=r(15457),o=r(54568),a=r(99680);r(7620);var s=r(16116),c=r(30507),d=r(87536);let u=(0,c.F)((0,d.cn)("top-0 flex w-6 select-none flex-col justify-center","after:flex after:h-16 after:w-[3px] after:rounded-[6px] after:bg-ring after:opacity-0 after:content-['_'] group-hover:after:opacity-100"),{variants:{direction:{left:"-left-3 -ml-3 pl-3",right:"-right-3 -mr-3 items-end pr-3"}}}),p=(0,c.F)("absolute z-40",{variants:{direction:{bottom:"w-full cursor-row-resize",left:"h-full cursor-col-resize",right:"h-full cursor-col-resize",top:"w-full cursor-row-resize"}}});function f(e){let t,r,i,c,u,f,g=(0,a.c)(14);g[0]!==e?({className:t,options:r}=e,i=(0,l._)(e,["className","options"]),g[0]=e,g[1]=t,g[2]=r,g[3]=i):(t=g[1],r=g[2],i=g[3]),g[4]!==r?(c=null!=r?r:{},g[4]=r,g[5]=c):c=g[5];let m=(0,s.rw)(c),v=(0,s.ud)(m);return m.readOnly?null:(g[6]!==t||g[7]!==(null==r?void 0:r.direction)?(u=(0,d.cn)(p({direction:null==r?void 0:r.direction}),t),g[6]=t,g[7]=null==r?void 0:r.direction,g[8]=u):u=g[8],g[9]!==i||g[10]!==v.props||g[11]!==m.isResizing||g[12]!==u?(f=(0,o.jsx)("div",(0,n._)({className:u,"data-resizing":m.isResizing},v.props,i)),g[9]=i,g[10]=v.props,g[11]=m.isResizing,g[12]=u,g[13]=f):f=g[13],f)}let g=(0,c.F)("",{variants:{align:{center:"mx-auto",left:"mr-auto",right:"ml-auto"}}});function m(e){let t,r,c,u,p,f=(0,a.c)(10);return f[0]!==e?({align:t,className:r}=e,c=(0,l._)(e,["align","className"]),f[0]=e,f[1]=t,f[2]=r,f[3]=c):(t=f[1],r=f[2],c=f[3]),f[4]!==t||f[5]!==r?(u=(0,d.cn)(g({align:t}),r),f[4]=t,f[5]=r,f[6]=u):u=f[6],f[7]!==c||f[8]!==u?(p=(0,o.jsx)(s.cM,(0,i._)((0,n._)({},c),{className:u})),f[7]=c,f[8]=u,f[9]=p):p=f[9],p}}}]);