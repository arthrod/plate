"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[86958],{7703:(e,n,t)=>{t.d(n,{$An:()=>ek,$Gu:()=>ri,$eh:()=>rH,$xe:()=>tm,A2M:()=>o_,A7h:()=>n4,AEl:()=>ey,ANz:()=>oY,ATB:()=>nf,AoS:()=>eP,AyW:()=>oq,B$Z:()=>nW,B53:()=>eB,BG1:()=>tk,Baj:()=>ec,Bgl:()=>ep,Bio:()=>ou,Bqz:()=>nw,Bsl:()=>re,C2R:()=>rN,CCl:()=>n7,Cmk:()=>e3,DM4:()=>tb,DYE:()=>r7,Dfo:()=>rU,Do:()=>o4,DyF:()=>eQ,E8K:()=>nd,EH3:()=>oi,EHx:()=>nF,EPo:()=>rl,ER8:()=>tM,EfB:()=>nP,EnV:()=>tL,FS:()=>t5,FSO:()=>tQ,F_Q:()=>eC,Fnq:()=>oV,FwQ:()=>o8,GSS:()=>eV,Ggq:()=>tD,H7O:()=>th,HTf:()=>tA,HdH:()=>e4,Hs9:()=>tU,I1p:()=>r1,I6j:()=>nS,IHh:()=>ne,Iex:()=>nt,J8u:()=>rC,JSQ:()=>r_,JUj:()=>ta,JX6:()=>td,JrD:()=>un,KBS:()=>eE,KEl:()=>rv,KJo:()=>tN,KOB:()=>eL,Kbz:()=>eZ,KuX:()=>eM,L5P:()=>rp,L8n:()=>ts,LiC:()=>oU,Ly1:()=>ol,MAb:()=>ok,M__:()=>rb,Mim:()=>oo,NJm:()=>e$,NUv:()=>rj,NWQ:()=>tB,NbH:()=>es,Nh$:()=>rf,NpH:()=>ot,O4F:()=>t7,O4p:()=>V,O6g:()=>oe,OBL:()=>n$,ODK:()=>nY,OH5:()=>r3,OMK:()=>tF,OYO:()=>o1,OlJ:()=>rz,P$i:()=>nD,P1j:()=>rZ,P47:()=>to,PdO:()=>ny,PfK:()=>t1,PkA:()=>nv,PpN:()=>t0,Pxi:()=>rV,PyW:()=>r8,Q56:()=>eo,QCN:()=>ow,QDe:()=>eu,QKh:()=>on,QMs:()=>oG,QcF:()=>ra,QgK:()=>tP,Qku:()=>ei,QqF:()=>rY,RJ2:()=>ej,RXz:()=>rD,RlJ:()=>oX,S5A:()=>tj,S67:()=>tr,S8c:()=>rM,SQs:()=>rk,So8:()=>e1,Szv:()=>rE,TAT:()=>rI,TEV:()=>oS,TMJ:()=>tT,TYd:()=>nO,TjK:()=>tl,TrK:()=>ry,Tsr:()=>nk,U5Q:()=>tG,U5d:()=>nA,UZM:()=>tH,UcN:()=>ti,Um7:()=>tX,VL_:()=>us,VNK:()=>eD,VQg:()=>nG,Vdx:()=>t4,VlR:()=>ov,VpO:()=>o$,VxE:()=>tw,W7X:()=>tZ,WmK:()=>nK,XQi:()=>tW,XW_:()=>rJ,Y4$:()=>tc,YG:()=>oQ,YaF:()=>ex,Yir:()=>o9,ZBY:()=>e2,ZWH:()=>n8,Zen:()=>e9,ZjH:()=>et,ZmZ:()=>tK,_OA:()=>nu,_Oy:()=>eA,_Q_:()=>n6,_aP:()=>r$,_pT:()=>nj,_tq:()=>ob,a1b:()=>eI,aNH:()=>o2,aWS:()=>tv,agF:()=>nZ,ahT:()=>tg,aoR:()=>t_,as:()=>eF,az_:()=>rg,b0H:()=>oK,b1S:()=>nQ,bGY:()=>eh,bT0:()=>nJ,bUZ:()=>ox,bht:()=>rA,bk5:()=>oy,bqT:()=>rQ,bsU:()=>tI,by4:()=>tY,c$M:()=>ez,c13:()=>oA,c2:()=>nC,c7E:()=>t9,dW9:()=>oF,dWW:()=>eS,d_m:()=>nl,eBu:()=>n5,eFU:()=>rd,eKg:()=>rx,eV2:()=>tt,fFn:()=>o6,fJG:()=>ni,fNz:()=>tn,fPX:()=>nN,fRP:()=>oH,fVI:()=>ro,fWh:()=>oZ,feR:()=>rw,fph:()=>nV,ft:()=>te,g7H:()=>uo,g7Y:()=>na,gF$:()=>tE,gJc:()=>nR,gOk:()=>nI,gPK:()=>nn,gc8:()=>e8,gvV:()=>e6,h1I:()=>tS,h9N:()=>eq,hRE:()=>tO,hVW:()=>oE,hYI:()=>eT,i4r:()=>nM,iK2:()=>oO,ies:()=>rX,ioe:()=>oh,ior:()=>og,ipe:()=>nE,jBG:()=>tR,jjj:()=>e7,kBx:()=>tq,kS9:()=>tx,keM:()=>oP,kg7:()=>eH,kjI:()=>nq,kyh:()=>t6,l1Z:()=>rh,lDo:()=>r9,lPw:()=>rq,loE:()=>e_,lsS:()=>oD,lwS:()=>rF,mAd:()=>nT,mqN:()=>eY,mtG:()=>el,n8y:()=>o3,nCM:()=>nX,nFR:()=>oa,nHM:()=>od,nIh:()=>n3,naR:()=>n2,nlf:()=>tu,ny8:()=>op,o1d:()=>rK,oAg:()=>oM,oHA:()=>oR,oIE:()=>ue,olw:()=>om,ovR:()=>rR,p2R:()=>r2,p7P:()=>r5,p9$:()=>rB,pR7:()=>t2,pVV:()=>nh,pYz:()=>er,pbD:()=>nc,piH:()=>o0,pk9:()=>rm,pl8:()=>eJ,pqB:()=>rL,pr8:()=>nx,qIB:()=>nm,qTV:()=>tf,qUc:()=>r0,qdp:()=>nb,qrH:()=>oC,rGZ:()=>t8,rIH:()=>oj,rLs:()=>ee,ra8:()=>ev,rhH:()=>rP,s9b:()=>tC,sAj:()=>en,sFT:()=>os,sZ3:()=>rT,saZ:()=>r4,sbx:()=>tp,sg1:()=>eR,sxi:()=>ns,szT:()=>no,t8s:()=>oW,tDI:()=>tz,tID:()=>e5,tiA:()=>oN,tyW:()=>tV,u3U:()=>eG,u7q:()=>nB,uGN:()=>oJ,uL9:()=>rW,uMJ:()=>ed,uPo:()=>eK,uS6:()=>nH,usx:()=>nL,uxO:()=>ru,uzs:()=>r6,v6:()=>or,v7O:()=>nz,vJM:()=>ur,vbZ:()=>rS,vyB:()=>rs,w6K:()=>rc,wEr:()=>rO,wRz:()=>oc,wxB:()=>uu,x1Q:()=>np,xFb:()=>ef,xQX:()=>rr,xS7:()=>tJ,xWs:()=>eb,xm_:()=>ty,xrQ:()=>oL,y17:()=>t3,y4y:()=>o5,yTQ:()=>n9,yU6:()=>oz,yeE:()=>nr,z7s:()=>oB,zDy:()=>n1,zMU:()=>ut,zNS:()=>rG,zY:()=>t$,zrT:()=>n_});var r=t(99019),o=t(5147),u=t(3318),s=t(58588),l=t(13527),F=t(83658),a=t(94199),i=t(15383),I=t(89314),f=t(62754),h=t(71269),c=t(3647),Y=t(17504),p=t(76216),d=t(97339),T=t(96328),y=t(60711),v=t(73378),S=t(72539),X=t(40064),m=t(6453),N=t(9998),g=t(32940),w=t(69036),W=t(5593),q=t(51770),K=t(13825),A=t(73108),j=t(62300),M=t(10723),_=t(99878),P=t(38599),x=t(15918),B=t(10170),D=t(82344),J=t(82123),O=t(11780),H=t(1148),z=t(67651),b=t(57268),L=t(73758),k=t(1722),E=t(11039),Q=t(85416),$=t(32667),R=t(94309),C=t(99760),Z=t(57690);let V=Symbol.for("effect/Stream"),G={_R:e=>e,_E:e=>e,_A:e=>e};class U{pipe(){return(0,S.t)(this,arguments)}constructor(e){this[V]=G,this.channel=e}}let ee=e=>(0,X.i5)(e,V)||I.yw5(e),en=4096,et=e=>eD(er(e)),er=e=>{let n=e=>B.$5({onInput:t=>{let r=s.u2(e,t);return B.qI(B.M9(r),()=>n(r))},onFailure:B.fJ,onDone:()=>B.rI});return new U(B.WK(nx(e),n(s.Ie())))},eo=(e,n)=>rZ(I.Q56(e,n)),eu=(0,d.XY)(2,(e,n)=>es(e,n,q.i4)),es=(0,d.XY)(3,(e,n,t)=>np(el(e,n,t),e=>f.YW(e,{onLeft:v.dv,onRight:v.zN}))),el=(0,d.XY)(3,(e,n,t)=>nH(I.Q7R([L.L8(),w.L8(Q.hk),w.L8(s.Ie()),q.Bd(t),w.L8(!1),w.L8(!1)])).pipe(nm(t=>{let[r,o,l,F,a,i]=t,h=B.u({onInput:e=>B.qI(B.uS((0,d.Fs)(r,L.x(k.Ic(e)),I.z7s(()=>s.J_(e)))),()=>h),onFailure:e=>B.uS(L.x(r,k.yj(e))),onDone:()=>B.uS(L.x(r,k._N(Q.LV)))}),c=(0,d.Fs)(w.C2(l,s.Ie()),I.qIB(e=>s.J_(e)?(0,d.Fs)(w.hZ(a,!0),I.aNH(I.PyW((0,d.Fs)(B.M9(e),B.qI(()=>c))))):(0,d.Fs)(L.s(r),I.TjK(e=>{switch(e._tag){case k.AV:return(0,d.Fs)(B.uS(w.hZ(a,!0)),_.aN(B.M9(e.elements)),_.aN(B.uS(w.Jt(i))),B.qI(e=>e?B.rI:c));case k.qo:return B.AT(e.cause);case k.W_:if(e.reason._tag===Q.mU)return(0,d.Fs)(w.Jt(a),I.TjK(e=>e?B.uS((0,d.Fs)(w.hZ(o,Q.hk),I.aNH(w.hZ(i,!0)))):(0,d.Fs)(B.uS((0,d.Fs)(w.hZ(o,Q.hk),I.aNH(w.hZ(i,!0)))),B.qI(()=>c))),_.oA);return(0,d.Fs)(w.hZ(o,e.reason),I.aNH(w.hZ(i,!0)),B.uS)}}))),_.oA),p=(e,t,h)=>{let T=(0,d.Fs)(w.hZ(a,!1),I.aNH(w.hZ(i,!1)),I.aNH((0,d.Fs)(c,_.tw(O.pr(n)),B.ye,_.eF,I.ar0(h)))),y=(e,n,t)=>(0,d.Fs)(w.hZ(l,s.Bq(e)),I.aNH(I.TjK(w.Jt(o),e=>{switch(e._tag){case Q.mU:let r;return(0,d.Fs)(I.Q7R([w.Jt(a),T,(0,d.Fs)((r=v.zN(n),F.next(r)),I.ar0(h))]),I.TjK(e=>{let[r,o,u]=e,l=(0,d.Fs)(t,v.YW({onNone:()=>s.of(f.pG(n)),onSome:e=>s.L8(f.pG(n),f.kb(e))}));return r?(0,d.Fs)(B.M9(l),B.qI(()=>p(o,u,h))):p(o,u,h)}),_.oA);case Q.c$:return(0,d.Fs)(w.Jt(a),I.TjK(e=>e?B.M9(s.of(f.pG(n))):B.rI),_.oA)}})),_.oA);return _.oA(I.wV9(Y.fj(e),Y.fj(t),{onSelfDone:(e,n)=>(0,d.Fs)(Y.G(t),I.aNH((0,d.Fs)(I.DYE(()=>e),I.TjK(e=>{let[n,t]=e;return y(n,t,v.dv())})))),onOtherDone:(n,t)=>I.khu(I.DYE(()=>n),{onFailure:n=>f.YW(u.vE(n),{onLeft:()=>(0,d.Fs)(r,L.x(k._N(Q.hk)),I.LXu,I.aNH((0,d.Fs)(Y.fj(e),I.TjK(e=>{let[n,t]=e;return y(n,t,v.dv())})))),onRight:n=>(0,d.Fs)(r,L.x(k.yj(n)),I.LXu,I.aNH((0,d.Fs)(Y.fj(e),I.TjK(e=>{let[n,t]=e;return y(n,t,v.dv())}))))}),onSuccess:n=>(0,d.Fs)(r,L.x(k._N(Q.hk)),I.LXu,I.aNH((0,d.Fs)(Y.fj(e),I.TjK(e=>{let[t,r]=e;return y(t,r,v.zN(n))}))))})}))};return oP(t=>B.WK(nx(e),h).pipe(_.eF,I.ar0(t),I.aNH(_.tw(c,O.pr(n)).pipe(B.ye,_.eF,I.ar0(t),I.qIB(e=>{let n;return(n=v.dv(),F.next(n)).pipe(I.ar0(t),I.TjK(n=>new U(p(e,n,t))))})))))}))),eF=(0,d.XY)(2,(e,n)=>tl(e,()=>n)),ea=e=>{var n,t,r;if("unbounded"===e)return N.dT();if("number"==typeof e||void 0===e)return N.Mm(null!=e?e:16);switch(e.strategy){case"dropping":return N.Ke(null!=(n=e.bufferSize)?n:16);case"sliding":return N.p2(null!=(t=e.bufferSize)?t:16);default:return N.Mm(null!=(r=e.bufferSize)?r:16)}},ei=(e,n)=>I.Q56(ea(n),e=>N.n_(e)).pipe(I.qIB(n=>I.fA().pipe(I.qIB(t=>I.OH5(()=>{let r=W.Np(t);return e(z.L(e=>C.OB(e).pipe(I.qIB(e=>N.x(n,e)),I.NLW,r).then(e=>{if(c.N6(e)&&!u.fT(e.cause))throw u.iw(e.cause)})))})),I.TjK(e=>{let t=N.s(n).pipe(I.qIB(e=>C.Vw(e)),I.YWq({onFailure:e=>B.uS(N.n_(n)).pipe(_.aN(v.YW(e,{onNone:()=>B.rI,onSome:e=>B.fJ(e)}))),onSuccess:e=>B.M9(e).pipe(B.qI(()=>t))}),_.oA);return nP(t).pipe(nr(null!=e?e:I.rIH))}))),o_),eI=(e,n)=>(0,d.Fs)(I.Q56(ea(n),e=>N.n_(e)),I.qIB(n=>(0,d.Fs)(I.fA(),I.qIB(t=>(0,d.Fs)(e(z.L(e=>(0,d.Fs)(C.OB(e),I.qIB(e=>N.x(n,e)),I.NLW,W.Np(t)).then(e=>{if(c.N6(e)&&!u.fT(e.cause))throw u.iw(e.cause)}))),I.TjK(()=>{let e=(0,d.Fs)(N.s(n),I.qIB(C.Vw),I.YWq({onFailure:e=>(0,d.Fs)(B.uS(N.n_(n)),_.aN(v.YW(e,{onNone:()=>B.rI,onSome:B.fJ}))),onSuccess:n=>(0,d.Fs)(B.M9(n),B.qI(()=>e))}),_.oA);return e}))))),_.A2,nP),ef=(e,n)=>{var t,r;return I.Q56((null==n?void 0:n.bufferSize)==="unbounded"||(null==n?void 0:n.bufferSize)===void 0&&(null==n?void 0:n.strategy)===void 0?N.dT():(null==n?void 0:n.strategy)==="sliding"?N.p2(null!=(t=n.bufferSize)?t:16):N.Ke(null!=(r=null==n?void 0:n.bufferSize)?r:16),N.n_).pipe(I.Mim(n=>p.z2(p.X_,t=>e(z.n(n,t)))),I.TjK(e=>{let n=B.qI(N.s(e),e=>c.b9(e)?c.oJ(e)?B.rI:B.AT(e.cause):_.aN(B.M9(s.Iv(e)),n));return n}),_.A2,nP)},eh=(e,n)=>(0,d.Fs)(I.Q56(ea(n),e=>N.n_(e)),I.qIB(n=>(0,d.Fs)(I.fA(),I.qIB(t=>(0,d.Fs)(e(z.L(e=>(0,d.Fs)(C.OB(e),I.qIB(e=>N.x(n,e)),I.NLW,W.Np(t)).then(e=>{if(c.N6(e)&&!u.fT(e.cause))throw u.iw(e.cause)}))),I.aNH(w.L8(!1)),I.qIB(e=>(0,d.Fs)(w.Jt(e),I.TjK(t=>t?E._N():(0,d.Fs)(N.s(n),I.qIB(C.Vw),I.S5A(()=>(0,d.Fs)(w.hZ(e,!0),I.aNH(N.n_(n)))))))))))),rZ,nm(rF)),ec=(0,d.XY)(3,(e,n,t)=>r7(()=>{let r=e=>B.$5({onInput:t=>{if(e.length+t.length>=n){let[r,u]=(0,d.Fs)(t,s.gI(n-e.length));return o((0,d.Fs)(e,s.u2(r)),u)}return r((0,d.Fs)(e,s.u2(t)))},onFailure:B.fJ,onDone:()=>o(e,s.Ie())}),o=(e,n)=>B.WK(_.aN(B.M9(n),_.As()),nx(t(e)));return new U((0,d.Fs)(nx(e),_.tw(r(s.Ie()))))})),eY=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,eT(n,t),I.TjK(e=>e.map(e=>nj(nR(e,{shutdown:!0})))))),ep=(0,d.XY)(2,(e,n)=>I.TjK(oy(e,n),e=>nj(nb(e)))),ed=(0,d.XY)(2,(e,n)=>I.TjK(g.L8({acquire:ep(e,n),idleTimeToLive:n.idleTimeToLive}),e=>o_(g.Jt(e)))),eT=(0,d.XY)(3,(e,n,t)=>I.qIB(oT(t),t=>(0,d.Fs)(I.Q7R(Array.from({length:n},()=>m.B1(t))),I.Mim(()=>I.x6Z(rD(e,t)))))),ey=(0,d.XY)(2,(e,n)=>I.TjK(oy(e,n),m.B1)),ev=(0,d.XY)(2,(e,n)=>{if("unbounded"===n.capacity)return ew(e);if("dropping"===n.strategy)return eN(e,n.capacity);if("sliding"===n.strategy)return eg(e,n.capacity);let t=oX(e,n);return new U(_.A2(I.TjK(t,e=>{let n=(0,d.Fs)(B.uS(N.s(e)),B.qI(c.YW({onFailure:e=>(0,d.Fs)(u.Ki(e),v.YW({onNone:()=>B.rI,onSome:B.AT})),onSuccess:e=>B.qI(B.M9(s.of(e)),()=>n)})));return n})))}),eS=(0,d.XY)(2,(e,n)=>{if("dropping"===n.strategy)return eX(e,n.capacity);if("sliding"===n.strategy)return em(e,n.capacity);let t=oS(e,n);return new U(_.A2(I.TjK(t,e=>{let n=(0,d.Fs)(B.uS(N.s(e)),B.qI(C.YW({onEnd:()=>B.rI,onFailure:B.AT,onSuccess:e=>(0,d.Fs)(B.M9(e),B.qI(()=>n))})));return n})))}),eX=(0,d.XY)(2,(e,n)=>new U(eW(I.Q56(N.Ke(n),e=>N.n_(e)),nx(e)))),em=(0,d.XY)(2,(e,n)=>new U(eW(I.Q56(N.p2(n),e=>N.n_(e)),nx(e)))),eN=(0,d.XY)(2,(e,n)=>new U(eW(I.Q56(N.Ke(n),e=>N.n_(e)),nx(re(1)(e))))),eg=(0,d.XY)(2,(e,n)=>new U(eW(I.Q56(N.p2(n),e=>N.n_(e)),nx((0,d.Fs)(e,re(1)))))),ew=e=>{let n=oS(e,{strategy:"unbounded"});return new U(_.A2(I.TjK(n,e=>{let n=(0,d.Fs)(B.uS(N.s(e)),B.qI(C.YW({onEnd:()=>B.rI,onFailure:B.AT,onSuccess:e=>B.qI(B.M9(e),()=>n)})));return n})))},eW=(e,n)=>{let t=(e,n)=>{let r=t=>(0,d.Fs)(w.Jt(n),I.Mim(a.Tx),I.aNH(a.L8()),I.qIB(r=>(0,d.Fs)(N.x(e,[t,r]),I.aNH(w.hZ(n,r)),I.aNH(a.Tx(r)))),I.NLW,B.uS);return B.u({onInput:r=>(0,d.Fs)(a.L8(),I.qIB(t=>(0,d.Fs)(N.x(e,[C.iv(r),t]),I.qIB(e=>(0,d.Fs)(w.hZ(n,t),I.z7s(()=>e))))),I.NLW,B.uS,B.qI(()=>t(e,n))),onFailure:e=>r(C.AT(e)),onDone:()=>r(C._N)})};return _.A2((0,d.Fs)(e,I.qIB(e=>(0,d.Fs)(a.L8(),I.Mim(e=>a.Py(e,void 0)),I.qIB(r=>{let o;return(0,d.Fs)(w.L8(r),I.qIB(r=>(0,d.Fs)(n,B.WK(t(e,r)),_.M_,I.x6Z)),I.as(o=(0,d.Fs)(B.uS(N.s(e)),B.qI(e=>{let[n,t]=e;return _.aN(B.uS(a.Py(t,void 0)),C.YW(n,{onEnd:()=>B.rI,onFailure:B.AT,onSuccess:e=>(0,d.Fs)(B.M9(e),B.qI(()=>o))}))}))))})))))},eq=(0,d.XY)(2,(e,n)=>eK(e,e=>f.YW(u.vE(e),{onLeft:n,onRight:nf}))),eK=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),B.uP(e=>nx(n(e)))))),eA=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,eq(e=>(0,d.Fs)(n(e),v.WL(()=>ni(e)))))),ej=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,eK(e=>(0,d.Fs)(n(e),v.WL(()=>nf(e)))))),eM=(0,d.XY)(3,(e,n,t)=>eq(e,e=>"_tag"in e&&e._tag===n?t(e):ni(e))),e_=(0,d.XY)(2,(e,n)=>eq(e,e=>{let t=Object.keys(n);return"_tag"in e&&t.includes(e._tag)?n[e._tag](e):ni(e)})),eP=e=>(0,d.Fs)(e,ex((e,n)=>h.aI(n)(e))),ex=(0,d.XY)(2,(e,n)=>{let t=e=>B.u({onInput:r=>{let[o,u]=s.TS(r,[e,s.Ie()],(e,t)=>{let[r,o]=e;return v.Ru(r)&&n(r.value,t)?[v.zN(t),o]:[v.zN(t),(0,d.Fs)(o,s.BC(t))]});return B.qI(B.M9(u),()=>t(o))},onFailure:B.AT,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(t(v.dv()))))}),eB=(0,d.XY)(2,(e,n)=>{let t=e=>B.u({onInput:r=>(0,d.Fs)(r,I.TSs([e,s.Ie()],(e,t)=>{let[r,o]=e;return v.Ru(r)?(0,d.Fs)(n(r.value,t),I.TjK(e=>e?[v.zN(t),o]:[v.zN(t),(0,d.Fs)(o,s.BC(t))])):I.PyW([v.zN(t),(0,d.Fs)(o,s.BC(t))])}),B.uS,B.qI(e=>{let[n,r]=e;return(0,d.Fs)(B.M9(r),B.qI(()=>t(n)))})),onFailure:B.AT,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(t(v.dv()))))}),eD=e=>(0,d.Fs)(e,tI(s.of)),eJ=(0,d.XY)(2,(e,n)=>nW(n(eD(e)))),eO=e=>I.h9N(I.Xx$(e),e=>"None"===e._tag?I.lwU:I.fJG(e.value)),eH=(0,d.XY)(4,(e,n,t,r)=>{function o(e,n){return B.uS(L.s(n)).pipe(_.aN(B.u({onInput:t=>B.qI(B.uS(L.x(e,c.Py(t))),()=>o(e,n)),onFailure:n=>B.uS(L.x(e,c.AT((0,d.Fs)(n,u.Tj(v.zN))))),onDone:()=>B.qI(B.uS(L.x(e,c.fJ(v.dv()))),()=>o(e,n))})))}return new U(_.ke(u=>I.Q7R([L.L8(),L.L8(),L.L8(),L.L8()]).pipe(I.Mim(n=>{let[t,r,s]=n;return nx(e).pipe(_.Hh(_.xs),B.WK(o(t,s)),P.VO(u),I.ar0(u))}),I.Mim(e=>{let[,t,r,s]=e;return nx(n).pipe(_.Hh(_.xs),B.WK(o(t,s)),P.VO(u),I.ar0(u))}),I.TjK(e=>{let[n,o,u,s]=e,l=L.x(u,void 0).pipe(I.aNH(L.s(n).pipe(I.qIB(d.D_)))),F=L.x(s,void 0).pipe(I.aNH(L.s(o).pipe(I.qIB(d.D_))));return nx(oA(t,e=>I.qIB(r(e,l,F),eO)))}))))}),ez=(0,d.XY)(4,(e,n,t,r)=>{let o=(e,n)=>_.aN(B.uS(L.s(n)),B.u({onInput:t=>B.qI(B.uS((0,d.Fs)(e,L.x(C.iv(t)))),()=>o(e,n)),onFailure:n=>B.uS(L.x(e,C.AT(n))),onDone:()=>B.uS(L.x(e,C._N))}));return new U(_.ke(u=>I.Q7R([L.L8(),L.L8(),L.L8(),L.L8()]).pipe(I.Mim(n=>{let[t,r,s]=n;return B.WK(nx(e),o(t,s)).pipe(P.VO(u),I.ar0(u))}),I.Mim(e=>{let[t,r,s,l]=e;return B.WK(nx(n),o(r,l)).pipe(P.VO(u),I.ar0(u))}),I.TjK(e=>{let[n,o,u,s]=e,l=L.x(u,void 0).pipe(I.aNH(L.s(n).pipe(I.qIB(C.Vw)))),F=L.x(s,void 0).pipe(I.aNH(L.s(o).pipe(I.qIB(C.Vw))));return nx(oK(t,e=>I.qIB(r(e,l,F),eO)))}))))}),eb=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.aN(nx(n))))),eL=e=>r7(()=>(0,d.Fs)(e,s.TS(nt,(e,n)=>eb(n)(e)))),ek=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,e$(n,(e,n)=>[e,n]))),eE=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,e$(n,(e,n)=>e))),eQ=(0,d.XY)(2,(e,n)=>nm(e,()=>n)),e$=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,nm(e=>(0,d.Fs)(n,tl(n=>t(e,n)))))),eR=(0,d.XY)(2,(e,n)=>oP(t=>I.JkU(function*(){let r=yield*L.L8();function o(e){return l.yy(n).pipe(I.as(e),I.ar0(t),I.TjK(e=>F(H.kn(e))))}let u=B.u({onInput:e=>v.YW(s.HV(e),{onNone:()=>u,onSome:e=>B.uS(L.x(r,k.Ic(s.of(e)))).pipe(B.qI(()=>u))}),onFailure:e=>B.uS(L.x(r,k.yj(e))),onDone:()=>B.uS(L.x(r,k._N(Q.LV)))});function F(e){switch(e._tag){case H.GB:return _.oA(L.s(r).pipe(I.TjK(e=>{switch(e._tag){case k.AV:return _.oA(o(e.elements));case k.qo:return B.AT(e.cause);case k.W_:return B.rI}})));case H.c2:return _.oA(L.s(r).pipe(I.ar0(t),I.qIB(n=>I.wV9(Y.fj(e.fiber),Y.fj(n),{onSelfDone:(e,t)=>c.YW(e,{onFailure:e=>Y.G(t).pipe(I.as(B.AT(e))),onSuccess:e=>Y.G(t).pipe(I.aNH(I.PyW(B.M9(e).pipe(B.qI(()=>F(H.ss(n)))))))}),onOtherDone:(e,n)=>c.YW(e,{onFailure:e=>Y.G(n).pipe(I.as(B.AT(e))),onSuccess:e=>{switch(e._tag){case k.AV:return Y.G(n).pipe(I.aNH(o(e.elements)));case k.qo:return Y.G(n).pipe(I.as(B.AT(e.cause)));case k.W_:return Y.fj(n).pipe(I.TjK(e=>B.M9(e).pipe(_.aN(B.rI))))}}})}))));case H.i8:return _.oA(Y.fj(e.fiber).pipe(I.TjK(e=>{switch(e._tag){case k.AV:return _.oA(o(e.elements));case k.qo:return B.AT(e.cause);case k.W_:return B.rI}})))}}return rV(n=>B.WK(nx(e),u).pipe(P.VO(n),I.ar0(n))).pipe(eQ(new U(F(H.DY))))}))),eC=e=>nH(I.F_Q(e)),eZ=e=>nH(I.Kbz(e)),eV=e=>nH(I.GSS(e)),eG=(0,d.XY)(2,(e,n)=>(0,d.Fs)(a.L8(),I.qIB(t=>(0,d.Fs)(e,e2({maximumLag:n.maximumLag,decide:e=>I.qIB(a.Tx(t),n=>n(e))}),I.qIB(e=>(0,d.Fs)(I.Q7R(s.Tj(s.y1(0,n.size-1),n=>I.TjK(e,e=>{let[t,r]=e;return[[t,n],r]}))),I.TjK(s.Iv),I.qIB(e=>{let[r,o]=s.XK(e,[new Map,s.Ie()],(e,n)=>{let[t,r]=e,[o,u]=n;return[t.set(o[0],o[1]),(0,d.Fs)(r,s.Hs(u))]});return(0,d.Fs)(a.Py(t,e=>I.TjK(n.decide(e),e=>n=>(0,d.Fs)(e(r.get(n))))),I.as(Array.from(o)))}))))))),eU={ref:0},e0=()=>{let e=eU.ref;return eU.ref=e+1,e},e2=(0,d.XY)(2,(e,n)=>e1(e,n.maximumLag,n.decide,()=>I.rIH)),e1=(0,d.XY)(4,(e,n,t,r)=>(0,d.Fs)(I.Q56(w.L8(new Map),(e,n)=>(0,d.Fs)(w.Jt(e),I.qIB(e=>(0,d.Fs)(e.values(),I.jJl(N.n_))))),I.qIB(o=>I.JkU(function*(){let l=yield*I.VHZ(1),F=yield*w.L8((0,d.Fs)(N.Mm(n),I.qIB(e=>{let n=e0();return(0,d.Fs)(w.yo(o,t=>t.set(n,e)),I.as([n,e]))}))),a=e=>l.withPermits(1)((0,d.Fs)(w.hZ(F,(0,d.Fs)(N.Mm(1),I.Mim(n=>N.x(n,e)),I.qIB(e=>{let n=e0();return(0,d.Fs)(w.yo(o,t=>t.set(n,e)),I.as(M.L8(n,e)))}))),I.aNH((0,d.Fs)(w.Jt(o),I.qIB(n=>(0,d.Fs)(s.Ts(n.values()),I.jJl(n=>(0,d.Fs)(N.x(n,e),I.RJ2(e=>u.fT(e)?v.zN(I.rIH):v.dv()))))))),I.aNH(r(e)),I.NLW));return yield*(0,d.Fs)(e,rM(e=>(0,d.Fs)(t(e),I.qIB(n=>(0,d.Fs)(w.Jt(o),I.qIB(t=>(0,d.Fs)(t.entries(),I.TSs(s.Ie(),(t,r)=>{let[o,l]=r;return n(o)?(0,d.Fs)(N.x(l,c.Py(e)),I.khu({onFailure:e=>u.fT(e)?I.PyW((0,d.Fs)(t,s.Hs(o))):I.ATB(e),onSuccess:()=>I.PyW(t)})):I.PyW(t)}),I.qIB(e=>s.J_(e)?(0,d.Fs)(w.yo(o,n=>{for(let t of e)n.delete(t);return n})):I.rIH))))),I.NLW)),I.khu({onFailure:e=>a(c.AT((0,d.Fs)(e,u.Tj(v.zN)))),onSuccess:()=>a(c.fJ(v.dv()))}),I.x6Z),l.withPermits(1)(I.Bqz(w.Jt(F)))})))),e9=e=>new U(_.Ze(nx(e))),e5=(0,d.XY)(2,(e,n)=>nH(a.L8()).pipe(nm(t=>rV(e=>nx(n).pipe(_.Ze,P.VO(e),I.uPo(e=>a.AT(t,e)),I.ar0(e))).pipe(eQ(to(e,t)))))),e6=(0,d.XY)(2,(e,n)=>{let t=e=>B.$5({onInput:n=>{let r=(0,d.Fs)(n,s.gv(e)),o=Math.max(0,e-n.length);return s.Im(n)||o>0?t(o):(0,d.Fs)(B.M9(r),_.aN(_.As()))},onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),_.tw(t(n))))}),e8=(0,d.XY)(2,(e,n)=>n<=0?n3():r7(()=>{let t=new J.N(n),r=B.$5({onInput:e=>{let n=(0,d.Fs)(e,s.x1(e=>{let n=t.head();return t.put(e),n}));return(0,d.Fs)(B.M9(n),B.qI(()=>r))},onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),_.tw(r)))})),e3=(0,d.XY)(2,(e,n)=>e6(e4(e,e=>!n(e)),1)),e7=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>(0,d.Fs)(I.Cmk(e,n),I.TjK(s.Iv),I.TjK(e=>s.Im(e)?B.DY(()=>t):(0,d.Fs)(B.M9(e),_.aN(_.As()))),_.oA),onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),_.tw(t)))}),e4=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>{let r=s.Hd(e,n);return s.Im(r)?B.DY(()=>t):_.aN(B.M9(r),_.As())},onFailure:B.fJ,onDone:B.B6});return new U(_.tw(nx(e),t))}),ne=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>(0,d.Fs)(I.HdH(e,n),I.TjK(s.Iv),I.TjK(e=>s.Im(e)?B.DY(()=>t):_.aN(B.M9(e),_.As())),_.oA),onFailure:B.fJ,onDone:()=>B.rI});return new U(_.tw(nx(e),t))}),nn=e=>(0,d.Fs)(e,tl(f.pG),eq(e=>ts(f.kb(e)))),nt=new U(B.rI),nr=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.ye(n)))),no=(0,d.XY)(2,(e,n)=>new U(B.sz(nx(e),n))),nu=()=>nH(I._OA()),ns=e=>(0,d.Fs)(nu(),tl(e)),nl=e=>(0,d.Fs)(nu(),td(e)),nF=e=>(0,d.Fs)(nu(),nm(e)),na=e=>e9(nH(e)),ni=e=>nz(I.fJG(v.zN(e))),nI=e=>nz(I.gOk(()=>v.zN(e()))),nf=e=>nH(I.ATB(e)),nh=e=>nH(I.pVV(e)),nc=(0,d.XY)(2,(e,n)=>tI(e,s.pb(n))),nY=(0,d.XY)(2,(e,n)=>{let t=e=>{let r=e.next();return r.done?B.u({onInput:e=>t(e[Symbol.iterator]()),onFailure:B.AT,onDone:B.Py}):(0,d.Fs)(n(r.value),I.TjK(n=>n?(0,d.Fs)(B.M9(s.of(r.value)),B.qI(()=>t(e))):t(e)),_.oA)};return new U(B.DY(()=>(0,d.Fs)(nx(e),B.WK(t(s.Ie()[Symbol.iterator]())))))}),np=(0,d.XY)(2,(e,n)=>tI(e,s.x1(n))),nd=(0,d.XY)(2,(e,n)=>r7(()=>{let t=e=>{let r=e.next();return r.done?B.u({onInput:e=>t(e[Symbol.iterator]()),onFailure:B.AT,onDone:B.Py}):(0,d.Fs)(n(r.value),v.YW({onNone:()=>I.OH5(()=>t(e)),onSome:I.TjK(n=>B.qI(B.M9(s.of(n)),()=>t(e)))}),_.oA)};return new U((0,d.Fs)(nx(e),B.WK(t(s.Ie()[Symbol.iterator]()))))})),nT=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>{let r=s.mA(e,n);return r.length===e.length?(0,d.Fs)(B.M9(r),B.qI(()=>t)):B.M9(r)},onFailure:B.fJ,onDone:B.Py});return new U((0,d.Fs)(nx(e),_.tw(t)))}),ny=(0,d.XY)(2,(e,n)=>r7(()=>{let t=e=>{let r=e.next();return r.done?B.u({onInput:e=>t(e[Symbol.iterator]()),onFailure:B.AT,onDone:B.Py}):_.oA(v.YW(n(r.value),{onNone:()=>I.PyW(B.rI),onSome:I.TjK(n=>B.qI(B.M9(s.of(n)),()=>t(e)))}))};return new U((0,d.Fs)(nx(e),_.tw(t(s.Ie()[Symbol.iterator]()))))})),nv=e=>eo(I.rIH,()=>e),nS=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>v.YW(s.i8(e,n),{onNone:()=>t,onSome:e=>B.M9(s.of(e))}),onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(t)))}),nX=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>(0,d.Fs)(I.i8i(e,n),I.TjK(v.YW({onNone:()=>t,onSome:e=>B.M9(s.of(e))})),_.oA),onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(t)))}),nm=(0,d.XY)(e=>ee(e[0]),(e,n,t)=>{var r;let o=null!=(r=null==t?void 0:t.bufferSize)?r:16;return(null==t?void 0:t.switch)?nN(null==t?void 0:t.concurrency,()=>ng(e,1,o,n),t=>ng(e,t,o,n)):nN(null==t?void 0:t.concurrency,()=>new U(_.Hh(nx(e),e=>(0,d.Fs)(e,s.Tj(e=>nx(n(e))),s.TS(B.rI,(e,n)=>(0,d.Fs)(e,_.aN(n)))))),r=>new U((0,d.Fs)(nx(e),_.Hh(_.xs),_.ZZ(e=>nx(n(e)),t))))}),nN=(e,n,t)=>{switch(e){case void 0:return n();case"unbounded":return t(Number.MAX_SAFE_INTEGER);default:return e>1?t(e):n()}},ng=(0,d.XY)(4,(e,n,t,r)=>new U((0,d.Fs)(nx(e),_.Hh(_.xs),_.ZZ(e=>nx(r(e)),{concurrency:n,mergeStrategy:x.$u(),bufferSize:t})))),nw=(0,d.XY)(e=>ee(e[0]),(e,n)=>nm(e,d.D_,n)),nW=e=>{let n=B.u({onInput:e=>B.qI(_.xs(e),()=>n),onFailure:B.AT,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(n)))},nq=(0,d.XY)(e=>ee(e[0]),(e,n)=>(null==n?void 0:n.unordered)?nm(e,e=>nH(e),{concurrency:n.concurrency}):nN(null==n?void 0:n.concurrency,()=>td(e,d.D_),n=>new U((0,d.Fs)(nx(e),_.Hh(_.xs),_.XV(d.D_,n),_.Hq(s.of))))),nK=e=>{let n=B.u({onInput:e=>((e,n)=>{let[t,r]=(0,d.Fs)(e,s.cs(e=>!c.oJ(e))),o=(0,d.Fs)(s.d5(r),v.YW({onNone:()=>n,onSome:c.YW({onFailure:e=>v.YW(u.Ki(e),{onNone:()=>B.rI,onSome:B.AT}),onSuccess:()=>B.rI})}));return(0,d.Fs)(B.M9((0,d.Fs)(t,s.x1(e=>c.oJ(e)?v.zN(e.value):v.dv()))),B.qI(()=>o))})(e,n),onFailure:e=>B.AT(e),onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(n)))},nA=e=>(0,d.Fs)(e,tl(s.Ts),nW),nj=e=>nW(nK((0,d.Fs)(e,tl(e=>e.exit)))),nM=e=>new U(_.ZD(nx(e))),n_=(e,n)=>(0,d.Fs)(I.Q56(I.OH5(()=>e[Symbol.asyncIterator]()),e=>e.return?I.ivC(async()=>e.return()):I.rIH),I.TjK(e=>ra((0,d.Fs)(I.$mh({try:async()=>e.next(),catch:e=>v.zN(n(e))}),I.qIB(e=>e.done?I.fJG(v.dv()):I.PyW(e.value))))),o_),nP=e=>new U(e),nx=e=>{if("channel"in e)return e.channel;if(I.yw5(e))return nx(nH(e));throw TypeError("Expected a Stream.")},nB=e=>new U(s.Im(e)?B.rI:B.M9(e)),nD=(e,n)=>{if(null==n?void 0:n.scoped){let t=I.TjK(m.B1(e),nJ);return n.shutdown?I.TjK(t,nr(m.n_(e))):t}let t=nm(rZ(m.B1(e)),nJ);return(null==n?void 0:n.shutdown)?nr(t,m.n_(e)):t},nJ=(e,n)=>(0,d.Fs)(N.s(e),I.uPo(n=>(0,d.Fs)(N.$Q(e),I.qIB(e=>e&&u.fT(n)?E._N():E.AT(n)))),rF,(null==n?void 0:n.shutdown)?nr(N.n_(e)):d.D_),nO=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return(0,d.Fs)(nk(n),nm(nB))},nH=e=>(0,d.Fs)(e,I.xm_(v.zN),nz),nz=e=>new U(_.oA(I.YWq(e,{onFailure:v.YW({onNone:()=>B.rI,onSome:B.fJ}),onSuccess:e=>B.M9(s.of(e))}))),nb=(e,n)=>{var t;let r=null!=(t=null==n?void 0:n.maxChunkSize)?t:en;if(null==n?void 0:n.scoped){let t=I.TjK(m.B1(e),e=>nR(e,{maxChunkSize:r,shutdown:!0}));return n.shutdown?I.TjK(t,nr(m.n_(e))):t}let o=nm(rZ(m.B1(e)),e=>nR(e,{maxChunkSize:r}));return(null==n?void 0:n.shutdown)?nr(o,m.n_(e)):o},nL=e=>o_(I.TjK(A.JR(e),e=>nC(e))),nk=e=>r7(()=>s.yL(e)?nB(e):nQ(e[Symbol.iterator]())),nE=e=>(0,d.Fs)(e,I.TjK(nk),oM),nQ=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:en;return(0,d.Fs)(I.OH5(()=>{let t=[],r=e=>(0,d.Fs)(I.OH5(()=>{let o=e.next();if(1===n)return o.done?B.rI:(0,d.Fs)(B.M9(s.of(o.value)),B.qI(()=>r(e)));t=[];let u=0;for(;!1===o.done&&(t.push(o.value),!((u+=1)>=n));)o=e.next();return u>0?(0,d.Fs)(B.M9(s.Iv(t)),B.qI(()=>r(e))):B.rI}),_.oA);return new U(r(e))}),oM)},n$=e=>(0,d.Fs)(e,I.TjK(rF),o_),nR=(e,n)=>{var t;return(0,d.Fs)(N.mX(e,1,null!=(t=null==n?void 0:n.maxChunkSize)?t:en),I.uPo(n=>(0,d.Fs)(N.$Q(e),I.qIB(e=>e&&u.fT(n)?E._N():E.AT(n)))),rF,(null==n?void 0:n.shutdown)?nr(N.n_(e)):d.D_)},nC=e=>(0,d.Fs)(j.s(e),I.TjK(s.of),I.uPo(n=>(0,d.Fs)(j.$Q(e),I.qIB(e=>e&&u.fT(n)?E._N():E.AT(n)))),rF),nZ=e=>(0,d.Fs)(q.Bd(e),I.TjK(e=>ra(e.next(void 0))),oM),nV=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];let r=1===n.length?n[0].evaluate:n[0],o=1===n.length?n[0].onError:n[1],u=1===n.length&&!0===n[0].releaseLockOnEnd;return o_(I.TjK(I.Q56(I.OH5(()=>r().getReader()),e=>u?I.OH5(()=>e.releaseLock()):I.ivC(()=>e.cancel())),e=>ra(I.qIB(I.$mh({try:()=>e.read(),catch:e=>v.zN(o(e))}),e=>{let{done:n,value:t}=e;return n?I.fJG(v.dv()):I.PyW(t)}))))},nG=function(){for(var e,n=arguments.length,t=Array(n),r=0;r<n;r++)t[r]=arguments[r];let o=1===t.length?t[0].evaluate:t[0],u=1===t.length?t[0].onError:t[1],s=null!=(e=1===t.length?t[0].bufferSize:t[2])?e:4096,l=1===t.length&&!0===t[0].releaseLockOnEnd;return o_(I.TjK(I.Q56(I.OH5(()=>o().getReader({mode:"byob"})),e=>l?I.OH5(()=>e.releaseLock()):I.ivC(()=>e.cancel())),e=>eq(nM(n0(e,u,s)),e=>e===nU?nt:ni(e))))},nU=Symbol.for("effect/Stream/EOF"),n0=(e,n,t)=>{let r=new ArrayBuffer(t);return tQ(0,t=>I.qIB(I.$mh({try:()=>e.read(new Uint8Array(r,t,r.byteLength-t)),catch:e=>n(e)}),e=>{let{done:n,value:o}=e;if(n)return I.fJG(nU);let u=t+o.byteLength;return I.PyW([o,u>=r.byteLength?v.dv():v.zN(u)])}))},n2=(0,d.XY)(2,(e,n)=>{let t=e=>B.u({onInput:r=>{let[o,u]=((e,t)=>{let r;if(s.Im(t))return[e,s.Ie()];let o=[],u=0,l=0,F=s.Ie();switch(e._tag){case"Some":{let a=e.value;r=a[0];let i=!0;for(;i&&l<t.length;){let e=n(s.$v(t,l));if(!h.aI(r,e)){let n=a[1],F=s.Iv(Array.from(t).slice(u,l)),I=s.u2(n,F);o.push([r,I]),r=e,u=l,i=!1}l+=1}i&&(F=a[1]);break}case"None":r=n(s.$v(t,l)),l+=1}for(;l<t.length;){let e=n(s.$v(t,l));h.aI(r,e)||(o.push([r,s.Iv(Array.from(t).slice(u,l))]),r=e,u=l),l+=1}let a=s.u2(F,s.Iv(Array.from(t).slice(u,l))),i=s.Iv(o);return[v.zN([r,a]),i]})(e,r);return s.Im(u)?t(o):B.qI(B.M9(u),()=>t(o))},onFailure:n=>v.YW(e,{onNone:()=>B.AT(n),onSome:e=>B.qI(B.M9(s.of(e)),()=>B.AT(n))}),onDone:n=>v.YW(e,{onNone:()=>B.B6(n),onSome:e=>B.qI(B.M9(s.of(e)),()=>B.B6(n))})});return new U(_.tw(nx(e),t(v.dv())))}),n1=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,re(n),eD)),n9=(0,d.XY)(3,(e,n,t)=>es(e,O.ul(n),q.ji(t))),n5=(0,d.XY)(2,(e,n)=>{let t=e=>(0,d.Fs)(Y.wt(e),I.TjK(v.YW({onNone:()=>B.$5({onInput:n=>B.qI(B.M9(n),()=>t(e)),onFailure:B.fJ,onDone:()=>B.rI}),onSome:c.YW({onFailure:B.AT,onSuccess:()=>B.rI})})),_.oA);return new U(_.ke(r=>n.pipe(I.ar0(r),I.TjK(n=>nx(e).pipe(B.WK(t(n)))))))}),n6=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,n5(l.yy(n)))),n8=(0,d.XY)(2,(e,n)=>{let t=(0,d.Fs)(a.wt(n),I.TjK(v.YW({onNone:()=>B.$5({onInput:e=>(0,d.Fs)(B.M9(e),B.qI(()=>t)),onFailure:B.fJ,onDone:()=>B.rI}),onSome:e=>_.oA(I.YWq(e,{onFailure:B.fJ,onSuccess:()=>B.rI}))})),_.oA);return new U((0,d.Fs)(nx(e),B.WK(t)))}),n3=()=>new U(_.As()),n7=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,n4(n,nM(ts(!0,!1))))),n4=(0,d.XY)(3,(e,n,t)=>{let r=e=>B.u({onInput:n=>B.qI(B.uS(L.x(e,C.of(n))),()=>r(e)),onFailure:n=>B.uS(L.x(e,C.AT(n))),onDone:()=>B.uS(L.x(e,C._N))});return new U(_.ke(o=>(0,d.Fs)(L.L8(),I.yU6(L.L8()),I.Mim(n=>{let[t]=n;return nx(e).pipe(_.Hh(_.xs),B.WK(r(t)),P.VO(o),I.ar0(o))}),I.Mim(e=>{let[t,u]=e;return nx(n).pipe(_.Hh(_.xs),B.WK(r(u)),P.VO(o),I.ar0(o))}),I.TjK(e=>{let[n,r]=e,o=(e,t)=>B.u({onInput:u=>u&&!e?(0,d.Fs)(B.uS(L.s(n)),B.qI(C.YW({onEnd:()=>t?B.rI:o(!0,t),onFailure:B.AT,onSuccess:n=>(0,d.Fs)(B.M9(n),B.qI(()=>o(e,t)))}))):u||t?o(e,t):(0,d.Fs)(B.uS(L.s(r)),B.qI(C.YW({onEnd:()=>e?B.rI:o(e,!0),onFailure:B.AT,onSuccess:n=>(0,d.Fs)(B.M9(n),B.qI(()=>o(e,t)))}))),onFailure:B.AT,onDone:()=>B.rI});return(0,d.Fs)(nx(t),_.Hh(_.xs),B.WK(o(!1,!1)))}))))}),te=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.tw(B.DY(()=>{let e=t=>B.u({onInput:r=>{let o=[],u=t;for(let e of r)u?u=!1:o.push(n),o.push(e);return(0,d.Fs)(B.M9(s.Iv(o)),B.qI(()=>e(u)))},onFailure:B.AT,onDone:()=>B.rI});return e(!0)}))))),tn=(0,d.XY)(2,(e,n)=>{let{end:t,middle:r,start:o}=n;return(0,d.Fs)(ts(o),eb((0,d.Fs)(e,te(r))),eb(ts(t)))}),tt=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tr(l.yy(n)))),tr=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.S6(n)))),to=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.P4(n)))),tu=(e,n)=>oW(e,e=>v.zN([e,n(e)])),ts=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return nk(n)},tl=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.Hq(s.Tj(n))))),tF=(0,d.XY)(3,(e,n,t)=>{let r=e=>B.$5({onInput:n=>{let[o,u]=s.OM(n,e,t);return B.qI(B.M9(u),()=>r(o))},onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),B.WK(r(n))))}),ta=(0,d.XY)(3,(e,n,t)=>r7(()=>{let r=e=>B.$5({onInput:n=>(0,d.Fs)(I.DYE(()=>{let o=[];return(0,d.Fs)(n,I.TSs(e,(e,n)=>(0,d.Fs)(t(e,n),I.qIB(e=>{let[n,t]=e;return(0,d.Fs)(I.OH5(()=>{o.push(t)}),I.as(n))}))),I.YWq({onFailure:e=>0!==o.length?_.aN(B.M9(s.Iv(o)),B.fJ(e)):B.fJ(e),onSuccess:e=>B.qI(B.M9(s.Iv(o)),()=>r(e))}))}),_.oA),onFailure:B.fJ,onDone:()=>B.rI});return new U((0,d.Fs)(nx(e),_.tw(r(n))))})),ti=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,ty(n.onFailure),tl(n.onSuccess))),tI=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.Hq(n)))),tf=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.qp(n)))),th=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tc(e=>s.Ts(n(e))))),tc=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tI(s.qI(n)))),tY=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,td(n),tc(d.D_))),tp=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,td(e=>(0,d.Fs)(n(e),I.TjK(s.Ts))),tc(d.D_))),td=(0,d.XY)(2,(e,n)=>{let t=e=>{let r=e.next();if(r.done)return B.u({onInput:e=>t(e[Symbol.iterator]()),onFailure:B.AT,onDone:B.Py});{let o=r.value;return _.oA(I.TjK(n(o),n=>B.qI(B.M9(s.of(n)),()=>t(e))))}};return new U((0,d.Fs)(nx(e),B.WK(B.DY(()=>t(s.Ie()[Symbol.iterator]())))))}),tT=(0,d.XY)(3,(e,n,t)=>new U((0,d.Fs)(nx(e),_.Hh(_.xs),_.XV(t,n),_.Hq(s.of)))),ty=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.xm(n)))),tv=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.aW(n)))),tS=(0,d.XY)(e=>ee(e[1]),(e,n,t)=>tW(e,n,{onSelf:d.D_,onOther:d.D_,haltStrategy:null==t?void 0:t.haltStrategy})),tX=(0,d.XY)(e=>Symbol.iterator in e[0],(e,n)=>nw(nk(e),n)),tm=(0,d.XY)(2,(e,n)=>tX(Object.keys(e).map(n=>e[n].pipe(tl(e=>({_tag:n,value:e})))),n)),tN=(0,d.XY)(2,(e,n)=>tW(e,n,{onSelf:f.kb,onOther:f.pG})),tg=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tS(e9(n)))),tw=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e9(e),tS(n))),tW=(0,d.XY)(3,(e,n,t)=>{let r=t.haltStrategy?b.lX(t.haltStrategy):K.e7,o=e=>n=>e||!c.oJ(n)?y.RS(I.DYE(()=>n)):y.jD(e=>I.DYE(()=>e));return new U(_.XQ(nx(tl(e,t.onSelf)),{other:nx(tl(n,t.onOther)),onSelfDone:o("Either"===r._tag||"Left"===r._tag),onOtherDone:o("Either"===r._tag||"Right"===r._tag)}))}),tq=e=>rd(e,O.kB),tK=nH(I.ZmZ),tA=(0,d.XY)(2,(e,n)=>eb(e,e9(nH(n)))),tj=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,eK(e=>nH((0,d.Fs)(n(e),I.aNH(I.ATB(e))))))),tM=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),B.sz(e=>c.oJ(e)?n():I.rIH)))),t_=(0,d.XY)(2,(e,n)=>oM(I.as(n,e))),tP=e=>(0,d.Fs)(e,tx(d.D_)),tx=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.kS(n)))),tB=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.NW(()=>nx(n()))))),tD=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tl(f.kb),tB(()=>(0,d.Fs)(n(),tl(f.pG))))),tJ=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tB(()=>nI(n)))),tO=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tH(()=>s.of(n())))),tH=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tz(()=>new U(B.M9(n()))))),tz=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>s.Im(e)?B.DY(()=>t):(0,d.Fs)(B.M9(e),_.aN(_.As())),onFailure:B.fJ,onDone:()=>B.DY(()=>nx(n()))});return new U((0,d.Fs)(nx(e),B.WK(t)))}),tb=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tB(()=>r3(n)))),tL=(e,n)=>tk(e,e=>{let t=n(e);return[s.of(t[0]),t[1]]}),tk=(e,n)=>{let t=e=>{let r=n(e);return v.YW(r[1],{onNone:()=>_.aN(B.M9(r[0]),B.rI),onSome:e=>B.qI(B.M9(r[0]),()=>t(e))})};return new U(B.DY(()=>t(e)))},tE=(e,n)=>{let t=e=>_.oA(I.TjK(n(e),e=>{let[n,r]=e;return v.YW(r,{onNone:()=>_.aN(B.M9(n),B.rI),onSome:e=>B.qI(B.M9(n),()=>t(e))})}));return new U(B.DY(()=>t(e)))},tQ=(e,n)=>tE(e,e=>(0,d.Fs)(n(e),I.TjK(e=>{let[n,t]=e;return[s.of(n),t]}))),t$=(0,d.XY)(2,(e,n)=>{let t="Emit",r="Halt";return(0,d.Fs)(a.L8(),I.qIB(o=>(0,d.Fs)(L.L8(),I.TjK(u=>{let s=O.VQ(O.o6(n),{onFailure:e=>O.aN(O.uS(a.fJ(o,e)),O.fJ(e)),onSuccess:e=>{let[n,s]=e,l=B.u({onInput:e=>B.qI(B.uS(L.x(u,{_tag:t,elements:e})),()=>l),onFailure:e=>_.aN(B.uS(L.x(u,{_tag:r,cause:e})),B.AT(e)),onDone:e=>_.aN(B.uS(L.x(u,{_tag:"End"})),B.rI)});return O.Ef((0,d.Fs)(B.uS(a.Py(o,n)),_.aN(B.uS((0,d.Fs)(u,L.x({_tag:t,elements:s})))),_.aN(l)))}}),l=(0,d.Fs)(L.s(u),I.TjK(e=>{switch(e._tag){case t:return(0,d.Fs)(B.M9(e.elements),B.qI(()=>l));case r:return B.AT(e.cause);case"End":return B.rI}}),_.oA);return(0,d.Fs)(e,ol(e=>a.AT(o,e)),rd(s),I.x6Z,I.aNH(a.Tx(o)),I.TjK(e=>[e,new U(l)]))}))),I.Bqz)}),tR=(0,d.XY)(e=>"function"==typeof e[1],(e,n,t)=>tC(e,e=>I.PyW(n(e)?f.pG(e):f.kb(e)),t)),tC=(0,d.XY)(e=>"function"==typeof e[1],(e,n,t)=>{var r;return(0,d.Fs)(td(e,n),eG({size:2,maximumLag:null!=(r=null==t?void 0:t.bufferSize)?r:16,decide:f.YW({onLeft:()=>I.PyW(e=>0===e),onRight:()=>I.PyW(e=>1===e)})}),I.qIB(e=>{let[n,t]=e;return I.PyW([np(nK(nR(n,{shutdown:!0})),e=>f.YW(e,{onLeft:v.zN,onRight:v.dv})),np(nK(nR(t,{shutdown:!0})),e=>f.YW(e,{onLeft:v.dv,onRight:v.zN}))])}))}),tZ=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.tw(O.pr(n))))),tV=(0,d.XY)(2,(e,n)=>new U(B.WK(nx(e),n))),tG=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),_.tw(n)))),tU=(0,d.XY)(2,(e,n)=>new U(_.aN(B.M9(n),nx(e)))),t0=(0,d.XY)(2,(e,n)=>new U((0,d.Fs)(nx(e),B.Pp(n)))),t2=(0,d.XY)(2,(e,n)=>new U(_.ke(t=>T.LT(n,t).pipe(I.TjK(n=>(0,d.Fs)(nx(e),B.Pp(n))))))),t1=(0,d.XY)(3,(e,n,t)=>t9(e,n,I.PyW(t))),t9=(0,d.XY)(3,(e,n,t)=>t5(e,n,nH(t))),t5=(0,d.XY)(3,(e,n,t)=>nF(r=>nm(t,t=>(0,d.Fs)(e,t0(F.WQ(r,n,t)))))),t6=(0,d.XY)(2,(e,n)=>nF(t=>(0,d.Fs)(e,t0(n(t))))),t8=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,t2((0,d.Fs)(T._O(),T.h1(n))))),t3=function(e,n){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:en;return r7(()=>{if(e>n)return nt;let r=(e,n,t)=>{let o=n-e+1;return o>t?(0,d.Fs)(B.M9(s.y1(e,e+t-1)),B.qI(()=>r(e+t,n,t))):B.M9(s.y1(e,e+o-1))};return new U(r(e,n,t))})},t7=(0,d.XY)(2,(e,n)=>t4(e,n)),t4=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];return a.L8().pipe(I.TjK(e=>{let t=null;return tX(n.map((n,r)=>n.pipe(or(()=>null===t?(t=r,a.dz(e,c.rI),!0):t===r),tr(a.Tx(e).pipe(I.qIB(()=>t===r?I.ZmZ:I.rIH))))),{concurrency:n.length})}),oM)},re=(0,d.XY)(2,(e,n)=>r7(()=>{let t=Math.max(n,1),r=rn(new rt(t),t);return new U((0,d.Fs)(nx(e),B.WK(r)))})),rn=(e,n)=>B.u({onInput:t=>{if(t.length===n&&e.isEmpty())return B.qI(B.M9(t),()=>rn(e,n));if(t.length>0){let r,o=[],u=0;for(;u<t.length;){for(;u<t.length&&void 0===r;)r=e.write((0,d.Fs)(t,s.$v(u))),u+=1;void 0!==r&&(o.push(r),r=void 0)}return B.qI(_.f4(...o),()=>rn(e,n))}return B.DY(()=>rn(e,n))},onFailure:n=>_.aN(e.emitIfNotEmpty(),B.AT(n)),onDone:()=>e.emitIfNotEmpty()});class rt{isEmpty(){return 0===this.pos}write(e){if(this.builder.push(e),this.pos+=1,this.pos===this.n){let e=s.Iv(this.builder);return this.builder=[],this.pos=0,e}}emitIfNotEmpty(){return 0!==this.pos?B.M9(s.Iv(this.builder)):B.rI}constructor(e){this.builder=[],this.pos=0,this.n=e}}let rr=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,ro(n,d.D_))),ro=(0,d.XY)(3,(e,n,t)=>new U(_.h9(nx(e),e=>v.YW(n(e),{onNone:()=>B.AT(u.F_(t(e))),onSome:B.fJ})))),ru=(0,d.XY)(2,(e,n)=>np(ri(e,n),e=>f.YW(e,{onLeft:v.dv,onRight:v.zN}))),rs=e=>ra((0,d.Fs)(e,I.xm_(v.zN))),rl=e=>rF((0,d.Fs)(e,I.xm_(v.zN))),rF=e=>oK(e,e=>(0,d.Fs)(I.TjK(e,n=>v.zN([n,e])),I.h9N(v.YW({onNone:()=>I.PyW(v.dv()),onSome:I.fJG})))),ra=e=>rF((0,d.Fs)(e,I.TjK(s.of))),ri=(0,d.XY)(2,(e,n)=>rc(e,n,{onElement:e=>f.pG(e),onSchedule:f.kb})),rI=(0,d.XY)(2,(e,n)=>np(rf(e,n,{onElement:e=>v.zN(e),onSchedule:v.dv}),d.D_)),rf=(0,d.XY)(3,(e,n,t)=>{let r=(0,d.Fs)(q.Bd(n),I.TjK(e=>{let n=e=>v.YW(s.d5(e),{onNone:()=>o,onSome:n=>_.aN(B.M9(s.of(t.onElement(n))),r((0,d.Fs)(e,s.gv(1)),n))}),r=(o,u)=>{let l=(0,d.Fs)(e.next(u),I.as((0,d.Fs)(B.M9(s.of(t.onElement(u))),B.qI(()=>r(o,u))))),F=(0,d.Fs)(e.last,I.QgK,I.qIB(r=>(0,d.Fs)(e.reset,I.TjK(()=>(0,d.Fs)(B.M9(s.of(t.onSchedule(r))),_.aN(n(o)))))));return(0,d.Fs)(l,I.NWQ(()=>F),_.oA)},o=B.$5({onInput:n,onFailure:B.fJ,onDone:()=>B.rI});return o}),_.oA);return new U((0,d.Fs)(nx(e),B.WK(r)))}),rh=e=>new U(_.ZD(B.M9(s.of(e)))),rc=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(q.Bd(n),I.TjK(n=>{let r=(0,d.Fs)(n.last,I.QgK,I.TjK(t.onSchedule)),o=(0,d.Fs)(e,tl(t.onElement),nx),u=_.oA(I.YWq(n.next(void 0),{onFailure:()=>B.rI,onSuccess:()=>(0,d.Fs)(o,_.aN((0,d.Fs)(r,I.TjK(e=>(0,d.Fs)(B.M9(s.of(e)),B.qI(()=>u))),_.oA)))}));return new U((0,d.Fs)(o,_.aN(u)))}),oM)),rY=(e,n)=>nm(nH(I.yU6(e,q.Bd(n))),n=>{let[t,r]=n;return eb(r8(t),oA(t,n=>I.tvg(r.next(n),{onFailure:I.PyW,onSuccess:()=>I.TjK(e,e=>v.zN([e,e]))})))}),rp=(0,d.XY)(2,(e,n)=>q.Bd(n).pipe(I.TjK(n=>{let t=nx(e).pipe(_.qp(e=>I.as(n.reset,e)),_.h9(e=>n.next(e).pipe(I.YWq({onFailure:()=>B.fJ(e),onSuccess:()=>t}),_.oA)));return t}),_.oA,nP)),rd=(0,d.XY)(2,(e,n)=>nx(e).pipe(_.tw(O.pr(n)),_.KE)),rT=e=>rd(e,O._U()),ry=e=>rd(e,O.U9),rv=e=>rd(e,O.Ze),rS=(0,d.XY)(3,(e,n,t)=>rg(e,n,d.ue,t)),rX=(0,d.XY)(3,(e,n,t)=>rw(e,n,d.ue,t)),rm=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,rW(n,d.ue,t))),rN=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,rq(n,d.ue,t))),rg=(0,d.XY)(4,(e,n,t,r)=>rd(e,O.AU(n,t,r))),rw=(0,d.XY)(4,(e,n,t,r)=>rd(e,O.R3(n,t,r))),rW=(0,d.XY)(4,(e,n,t,r)=>(0,d.Fs)(e,rb(O.AU(n,t,r)))),rq=(0,d.XY)(4,(e,n,t,r)=>(0,d.Fs)(e,rb(O.R3(n,t,r)))),rK=(0,d.XY)(2,(e,n)=>rd(e,O.jJ(n))),rA=(0,d.XY)(2,(e,n)=>rd(e,O.q$(n))),rj=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rb(O.q$(n)))),rM=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rb(O.jJ(n)))),r_=(0,d.XY)(2,(e,n)=>rd(e,O.Sh(n))),rP=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rb(O.Sh(n)))),rx=e=>rd(e,O.d5()),rB=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rJ(n))),rD=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rH(n))),rJ=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rH(n),I.P1j)),rO=(0,d.XY)(2,(e,n)=>{let t=B.u({onInput:e=>B.qI(B.uS(N.iI(n,s.Tj(e,c.Py))),()=>t),onFailure:e=>B.uS(N.x(n,c.AT(u.Tj(e,v.zN)))),onDone:()=>B.uS(N.x(n,c.fJ(v.dv())))});return(0,d.Fs)(B.WK(nx(e),t),_.Ze,_.M_,I.NLW)}),rH=(0,d.XY)(2,(e,n)=>{let t=B.u({onInput:e=>B.qI(B.M9(C.iv(e)),()=>t),onFailure:e=>B.M9(C.AT(e)),onDone:()=>B.M9(C._N)});return(0,d.Fs)(B.WK(nx(e),t),_.qp(e=>N.x(n,e)),_.Ze,_.M_,I.NLW)}),rz=e=>rd(e,O.HV()),rb=(0,d.XY)(2,(e,n)=>(0,d.Fs)(nx(e),_.tw(O.pr(n)),_.Ze,_.M_)),rL=e=>rd(e,O.cz),rk=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,rC(n,(e,n)=>I.PyW(t(e,n))))),rE=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,rQ((e,t)=>I.PyW(n(e,t))))),rQ=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,ta(v.dv(),(e,t)=>{switch(e._tag){case"None":return I.PyW([v.zN(t),t]);case"Some":return(0,d.Fs)(n(e.value,t),I.TjK(e=>[v.zN(e),e]))}}))),r$=(0,d.XY)(2,(e,n)=>np(rR(e,n,{onElement:v.zN,onSchedule:v.dv}),d.D_)),rR=(0,d.XY)(3,(e,n,t)=>{let r=(e,n)=>{let o=n.next();return o.done?B.u({onInput:n=>r(e,n[Symbol.iterator]()),onFailure:B.AT,onDone:B.B6}):_.oA(I.tvg(e.next(o.value),{onFailure:()=>(0,d.Fs)(e.last,I.QgK,I.TjK(u=>(0,d.Fs)(B.M9(s.L8(t.onElement(o.value),t.onSchedule(u))),B.qI(()=>r(e,n)))),I.piH(e.reset)),onSuccess:()=>I.PyW((0,d.Fs)(B.M9(s.of(t.onElement(o.value))),B.qI(()=>r(e,n))))}))};return new U((0,d.Fs)(B.uS(q.Bd(n)),B.qI(n=>(0,d.Fs)(nx(e),B.WK(r(n,s.Ie()[Symbol.iterator]()))))))}),rC=(0,d.XY)(3,(e,n,t)=>new U((0,d.Fs)(B.M9(s.of(n)),B.qI(()=>nx((0,d.Fs)(e,ta(n,(e,n)=>(0,d.Fs)(t(e,n),I.TjK(e=>[e,e]))))))))),rZ=e=>new U(_.ye(_.P1((0,d.Fs)(e,I.TjK(s.of))),I.rIH)),rV=e=>new U(_.Px(n=>e(n).pipe(I.TjK(s.of)))),rG=e=>(0,d.Fs)(e,ty(v.zN),r0(()=>v.dv())),rU=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,tl(v.WL(n)))),r0=(0,d.XY)(2,(e,n)=>td(e,v.YW({onNone:()=>I.gOk(n),onSome:I.PyW}))),r2=(0,d.XY)(2,(e,n)=>r1(e,n,1)),r1=(0,d.XY)(3,(e,n,t)=>n<=0||t<=0?eC(new u.nA("Invalid bounds - `chunkSize` and `stepSize` must be greater than zero")):new U(B.DY(()=>{let r=new J.N(n),o=(e,o)=>{if(e<n){let e=r.toChunk(),n=s.Im(e)?s.Ie():s.of(e);return(0,d.Fs)(B.M9(n),B.qI(()=>o))}let u=e-(e-n)%t;if(u===e)return o;let l=(0,d.Fs)(r.toChunk(),s.O6(e-(u-n+t))),F=s.Im(l)?s.Ie():s.of(l);return(0,d.Fs)(B.M9(F),B.qI(()=>o))},u=e=>B.u({onInput:o=>B.qI(B.M9(s.x1(o,(o,u)=>{r.put(o);let s=e+u+1;return s<n||(s-n)%t>0?v.dv():v.zN(r.toChunk())})),()=>u(e+o.length)),onFailure:n=>o(e,B.AT(n)),onDone:()=>o(e,B.rI)});return(0,d.Fs)(nx(e),B.WK(u(0)))}))),r9=(0,d.XY)(2,(e,n)=>{let t=(e,o)=>{let[u,l]=(0,d.Fs)(e,s.u2(o),s.cs(n));return s.Im(u)||s.Im(l)?r((0,d.Fs)(u,s.u2((0,d.Fs)(l,s.gv(1))))):(0,d.Fs)(B.M9(s.of(u)),B.qI(()=>t(s.Ie(),(0,d.Fs)(l,s.gv(1)))))},r=e=>B.$5({onInput:n=>t(e,n),onFailure:B.fJ,onDone:()=>s.Im(e)?B.rI:v.$I((0,d.Fs)(e,s.i8(n)))?_.aN(B.M9(s.of(e)),B.rI):_.aN(t(s.Ie(),e),B.rI)});return new U((0,d.Fs)(nx(e),B.WK(r(s.Ie()))))}),r5=(0,d.XY)(2,(e,n)=>{let t=(e,r)=>B.u({onInput:o=>{let u,[l,F]=(0,d.Fs)(o,s.TS([(0,d.Fs)(e,v.WL(()=>s.Ie())),r],(e,t)=>{let[r,o]=e,l=(0,d.Fs)(r,s.BC(t));return o<n.length&&h.aI(t,(0,d.Fs)(n,s.$v(o)))?o+1===n.length?(void 0===u&&(u=[]),u.push((0,d.Fs)(l,s.s(l.length-n.length))),[s.Ie(),0]):[l,o+1]:[l,+!!h.aI(t,(0,d.Fs)(n,s.$v(0)))]})),a=void 0===u?s.Ie():s.Iv(u);return B.qI(B.M9(a),()=>t(s.J_(l)?v.zN(l):v.dv(),F))},onFailure:n=>v.YW(e,{onNone:()=>B.AT(n),onSome:e=>_.aN(B.M9(s.of(e)),B.AT(n))}),onDone:n=>v.YW(e,{onNone:()=>B.Py(n),onSome:e=>_.aN(B.M9(s.of(e)),B.Py(n))})});return new U((0,d.Fs)(nx(e),B.WK(t(v.dv(),0))))}),r6=e=>tV(e,_.uz()),r8=e=>nB(s.of(e)),r3=e=>r7(()=>nB(s.of(e()))),r7=e=>new U(B.DY(()=>nx(e()))),r4=(0,d.XY)(2,(e,n)=>{if(!Number.isInteger(n))return eC(new u.nA("".concat(n," must be an integer")));let t=e=>B.$5({onInput:n=>{let r=(0,d.Fs)(n,s.s(Math.min(e,1/0))),o=Math.max(0,e-r.length);return o>0?(0,d.Fs)(B.M9(r),B.qI(()=>t(o))):B.M9(r)},onFailure:B.fJ,onDone:B.Py});return new U((0,d.Fs)(nx(e),_.tw(0<n?t(n):B.rI)))}),oe=(0,d.XY)(2,(e,n)=>n<=0?nt:new U((0,d.Fs)(I.PyW(new J.N(n)),I.TjK(n=>{let t=B.$5({onInput:e=>{for(let t of e)n.put(t);return t},onFailure:B.fJ,onDone:()=>(0,d.Fs)(B.M9(n.toChunk()),_.aN(B.rI))});return(0,d.Fs)(nx(e),B.WK(t))}),_.oA))),on=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>{let r=(0,d.Fs)(e,s.v6(e=>!n(e))),o=(0,d.Fs)(e,s.gv(r.length),s.s(1));return s.Im(o)?(0,d.Fs)(B.M9(r),B.qI(()=>t)):B.M9((0,d.Fs)(r,s.u2(o)))},onFailure:B.fJ,onDone:B.Py});return new U((0,d.Fs)(nx(e),_.tw(t)))}),ot=(0,d.XY)(2,(e,n)=>{let t=e=>{let r=e.next();return r.done?B.u({onInput:e=>t(e[Symbol.iterator]()),onFailure:B.AT,onDone:B.Py}):(0,d.Fs)(n(r.value),I.TjK(n=>n?B.M9(s.of(r.value)):(0,d.Fs)(B.M9(s.of(r.value)),B.qI(()=>t(e)))),_.oA)};return new U((0,d.Fs)(nx(e),B.WK(t(s.Ie()[Symbol.iterator]()))))}),or=(0,d.XY)(2,(e,n)=>{let t=B.$5({onInput:e=>{let r=(0,d.Fs)(e,s.v6(n));return r.length===e.length?(0,d.Fs)(B.M9(r),B.qI(()=>t)):B.M9(r)},onFailure:B.fJ,onDone:B.Py});return new U((0,d.Fs)(nx(e),_.tw(t)))}),oo=(0,d.XY)(2,(e,n)=>td(e,e=>I.as(n(e),e))),ou=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,os(n.onFailure),oo(n.onSuccess))),os=(0,d.XY)(2,(e,n)=>eq(e,e=>nH(I.aNH(n(e),I.fJG(e))))),ol=(0,d.XY)(2,(e,n)=>{let t=B.u({onInput:e=>B.qI(B.M9(e),()=>t),onFailure:e=>B.uS(I.aNH(n(e),I.ATB(e))),onDone:B.B6});return new U((0,d.Fs)(nx(e),B.WK(t)))}),oF=(0,d.XY)(2,(e,n)=>(0,d.Fs)(nH(I.Q7R([N.Mm(1),a.L8()])),nm(t=>{let[r,o]=t,u=nj(nR(r,{maxChunkSize:1})),s=B.u({onInput:e=>(0,d.Fs)(B.uS(N.x(r,C.iv(e))),B.Qr({onFailure:()=>B.qI(B.M9(e),()=>_.As()),onSuccess:()=>B.qI(B.M9(e),()=>s)})),onFailure:e=>(0,d.Fs)(B.uS(N.x(r,C.AT(e))),B.Qr({onFailure:()=>B.AT(e),onSuccess:()=>B.AT(e)})),onDone:()=>(0,d.Fs)(B.uS(N.x(r,C._N)),B.Qr({onFailure:()=>B.rI,onSuccess:()=>B.rI}))});return(0,d.Fs)(new U((0,d.Fs)(B.WK(nx(e),s),_.ye(I.aNH(I.LXu(N.x(r,C._N)),a.Tx(o))))),tS(na((0,d.Fs)(rd(u,n),I.yeE(I.aNH(N.n_(r),a.Py(o,void 0)))))))}))),oa=(0,d.XY)(2,(e,n)=>oi(e,(0,o._)((0,r._)({},n),{cost:e=>I.PyW(n.cost(e))}))),oi=(0,d.XY)(2,(e,n)=>{var t,r;return"enforce"===n.strategy?oI(e,n.cost,n.units,n.duration,null!=(r=n.burst)?r:0):of(e,n.cost,n.units,n.duration,null!=(t=n.burst)?t:0)}),oI=(e,n,t,r,o)=>{let u=(e,s)=>B.u({onInput:F=>(0,d.Fs)(n(F),I.yU6(l.Ru),I.TjK(n=>{let[l,a]=n,I=e+(a-s)/i.kE(r)*t,f=t+o<0?1/0:t+o,h=I<0?f:Math.min(I,f);return l<=h?(0,d.Fs)(B.M9(F),B.qI(()=>u(h-l,a))):u(e,s)}),_.oA),onFailure:B.AT,onDone:()=>B.rI}),s=(0,d.Fs)(l.Ru,I.TjK(e=>u(t,e)),_.oA);return new U((0,d.Fs)(nx(e),_.tw(s)))},of=(e,n,t,r,o)=>{let u=(e,s)=>B.u({onInput:F=>(0,d.Fs)(n(F),I.yU6(l.Ru),I.TjK(n=>{let[a,I]=n,f=e+(I-s)/i.kE(r)*t,h=t+o<0?1/0:t+o,c=(f<0?h:Math.min(f,h))-a,Y=c>=0?0:-c/t,p=i.ne(Math.max(0,Y*i.kE(r)));return i.MM(p,i.v_)?(0,d.Fs)(B.uS(l.yy(p)),_.aN(B.M9(F)),B.qI(()=>u(c,I))):B.qI(B.M9(F),()=>u(c,I))}),_.oA),onFailure:B.AT,onDone:()=>B.rI}),s=(0,d.Fs)(l.Ru,I.TjK(e=>u(t,e)),_.oA);return new U((0,d.Fs)(nx(e),_.tw(s)))},oh=e=>{let n,t;return n=void 0,t=q.ji(e),rY(I.PyW(n),t)},oc=(0,d.XY)(2,(e,n)=>(0,d.Fs)(ov(e),I.TjK(I.ANz({onTimeout:()=>v.dv(),duration:n})),n$)),oY=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,od(t,nI(n)))),op=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(ov(e),I.TjK(I.ny8({onTimeout:()=>u.Tj(n(),v.zN),duration:t})),n$)),od=(0,d.XY)(3,(e,n,t)=>{let r=new u.Al("Stream Timeout");return(0,d.Fs)(e,op(()=>u.F_(r),n),ej(e=>u.VY(e)&&u.Mr(e.defect)&&void 0!==e.defect.message&&"Stream Timeout"===e.defect.message?v.zN(t):v.dv()))}),oT=e=>{if("number"==typeof e)return m.Mm(e);if("unbounded"===e.capacity)return m.dT({replay:e.replay});switch(e.strategy){case"dropping":return m.Ke(e);case"sliding":return m.p2(e);default:return m.Mm(e)}},oy=(0,d.XY)(2,(e,n)=>(0,d.Fs)(I.Q56(oT(n),e=>m.n_(e)),I.Mim(n=>(0,d.Fs)(e,rD(n),I.x6Z)))),ov=e=>I.TjK(_.Vl(nx(e)),e=>(0,d.Fs)(e,I.xm_(v.zN),I.qIB(f.YW({onLeft:()=>I.fJG(v.dv()),onRight:I.PyW})))),oS=(0,d.XY)(e=>ee(e[0]),(e,n)=>{var t,r,o;return I.Mim(I.Q56((null==n?void 0:n.strategy)==="unbounded"?N.dT():(null==n?void 0:n.strategy)==="dropping"?N.Ke(null!=(t=n.capacity)?t:2):(null==n?void 0:n.strategy)==="sliding"?N.p2(null!=(r=n.capacity)?r:2):N.Mm(null!=(o=null==n?void 0:n.capacity)?o:2),e=>N.n_(e)),n=>I.x6Z(rH(e,n)))}),oX=(0,d.XY)(e=>ee(e[0]),(e,n)=>{var t;return I.Mim(I.Q56(N.Mm(null!=(t=null==n?void 0:n.capacity)?t:2),e=>N.n_(e)),n=>I.x6Z(rO(e,n)))}),om=(0,d.XY)(e=>ee(e[0]),(e,n)=>og(e,W.KD,n)),oN=(0,d.XY)(e=>ee(e[0]),(e,n)=>I.TjK(I.fA(),t=>og(e,t,n))),og=(0,d.XY)(e=>ee(e[0]),(e,n,t)=>{let r,o,s=W.MY(n),l=I.d_d(!1);return new ReadableStream({start(n){(o=s(rA(e,e=>l.whenOpen(I.OH5(()=>{for(let t of(l.unsafeClose(),e))n.enqueue(t);r(),r=void 0}))))).addObserver(e=>{"Failure"===e._tag?n.error(u.iw(e.cause)):n.close()})},pull:()=>new Promise(e=>{r=e,I.HZF(l.open)}),cancel(){if(o)return I.pR5(I.NLW(Y.G(o)))}},null==t?void 0:t.strategy)}),ow=(0,d.XY)(2,(e,n)=>new U(B.DY(()=>{let t={ref:s.Ie()},r={ref:!1},o=B.DY(()=>{let e=t.ref;return s.Im(e)?B.$5({onInput:e=>(0,d.Fs)(B.M9(e),B.qI(()=>o)),onFailure:B.fJ,onDone:B.B6}):(t.ref=s.Ie(),(0,d.Fs)(_.xs(e),B.qI(()=>o)))}),u=B.$5({onInput:e=>B.qI(B.M9(e),()=>u),onFailure:B.fJ,onDone:e=>_.aN(B.OH(()=>{r.ref=!0}),B.B6(e))}),l=(0,d.Fs)(n,O.pr,B.ye,B.qI(e=>{let n,o,[u,F]=e;return(0,d.Fs)(B.Py([r.ref,(n=t.ref,t.ref=o=s.u2(n,s.pb(u,e=>0!==e.length)),o)]),B.qI(e=>{let[n,t]=e,r=n&&s.Im(t)?B.rI:l;return(0,d.Fs)(B.M9(s.of(F)),B.qI(()=>r))}))}));return(0,d.Fs)(nx(e),B.WK(u),B.WK(o),_.tw(l))}))),oW=(e,n)=>oq(e,e=>(0,d.Fs)(n(e),v.Tj(e=>{let[n,t]=e;return[s.of(n),t]}))),oq=(e,n)=>{let t=e=>v.YW(n(e),{onNone:()=>B.rI,onSome:e=>{let[n,r]=e;return B.qI(B.M9(n),()=>t(r))}});return new U(B.DY(()=>t(e)))},oK=(e,n)=>r7(()=>{let t=e=>_.oA(I.TjK(n(e),v.YW({onNone:()=>B.rI,onSome:e=>{let[n,r]=e;return B.qI(B.M9(n),()=>t(r))}})));return new U(t(e))}),oA=(e,n)=>oK(e,e=>(0,d.Fs)(n(e),I.TjK(v.Tj(e=>{let[n,t]=e;return[s.of(n),t]})))),oj=r8(void 0),oM=e=>nw(nH(e)),o_=e=>nw(rZ(e)),oP=e=>nw(rV(n=>e(n))),ox=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,t6(e=>(0,d.Fs)(e,F.WQ(n,t((0,d.Fs)(e,F.$v(n)))))))),oB=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,oO(I.OH5(n)))),oD=(e,n)=>oJ(n)(I.OH5(e)),oJ=(0,d.XY)(2,(e,n)=>(0,d.Fs)(nH(e),nm(e=>(0,d.Fs)(n(e),v.WL(()=>nt))))),oO=(0,d.XY)(2,(e,n)=>(0,d.Fs)(nH(n),nm(n=>n?e:nt))),oH=function(){let e="string"!=typeof arguments[0],n=e?arguments[1]:arguments[0],t=Z.ZA(e?arguments[2]:arguments[1]);if(e){let e=arguments[0];return new U(_.fR(nx(e),n,t))}return e=>new U(_.fR(nx(e),n,t))},oz=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,o1(n,(e,n)=>[e,n]))),ob=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,o1(n,(e,n)=>[...e,n]))),oL=(0,d.XY)(2,(e,n)=>oZ(e,{other:n.other,onSelf:e=>[e,n.defaultOther],onOther:e=>[n.defaultSelf,e],onBoth:(e,n)=>[e,n]})),ok=(0,d.XY)(3,(e,n,t)=>oZ(e,{other:n,onSelf:d.D_,onOther:()=>t,onBoth:e=>e})),oE=(0,d.XY)(3,(e,n,t)=>oZ(e,{other:n,onSelf:()=>t,onOther:d.D_,onBoth:(e,n)=>n})),oQ=(0,d.XY)(2,(e,n)=>oC(e,{other:n.other,onSelf:e=>[e,n.defaultOther],onOther:e=>[n.defaultSelf,e],onBoth:(e,n)=>[e,n],order:n.order})),o$=(0,d.XY)(2,(e,n)=>oC(e,{other:n.other,onSelf:d.D_,onOther:()=>n.defaultSelf,onBoth:e=>e,order:n.order})),oR=(0,d.XY)(2,(e,n)=>oC(e,{other:n.other,onSelf:()=>n.defaultOther,onOther:d.D_,onBoth:(e,n)=>n,order:n.order})),oC=(0,d.XY)(2,(e,n)=>{let t=(e,o,u)=>{switch(e._tag){case $.Lj:return(0,d.Fs)(o,I.YWq({onFailure:c.fJ,onSuccess:e=>c.Py([s.Tj(e,e=>{let[t,r]=e;return[t,n.onSelf(r)]}),$.WQ])}));case $.OH:return(0,d.Fs)(u,I.YWq({onFailure:c.fJ,onSuccess:e=>c.Py([s.Tj(e,e=>{let[t,r]=e;return[t,n.onOther(r)]}),$.Nk])}));case $.Oj:return(0,d.Fs)(eO(o),I.yU6(eO(u),{concurrent:!0}),I.tvg({onFailure:e=>I.PyW(c.fJ(v.zN(e))),onSuccess:e=>{let[l,F]=e;return v.Ru(l)&&v.Ru(F)?s.Im(l.value)&&s.Im(F.value)?t($.rT,o,u):s.Im(l.value)?t($.Fd(F.value),o,u):s.Im(F.value)?t($.CO(l.value),o,u):I.PyW(c.Py(r(l.value,F.value))):v.Ru(l)&&v.$I(F)?s.Im(l.value)?t($.WQ,o,u):I.PyW(c.Py([(0,d.Fs)(l.value,s.Tj(e=>{let[t,r]=e;return[t,n.onSelf(r)]})),$.WQ])):v.$I(l)&&v.Ru(F)?s.Im(F.value)?t($.Nk,o,u):I.PyW(c.Py([(0,d.Fs)(F.value,s.Tj(e=>{let[t,r]=e;return[t,n.onOther(r)]})),$.Nk])):I.PyW(c.fJ(v.dv()))}}));case $.ox:return I.tvg(o,{onFailure:v.YW({onNone:()=>I.PyW(c.Py([(0,d.Fs)(e.rightChunk,s.Tj(e=>{let[t,r]=e;return[t,n.onOther(r)]})),$.Nk])),onSome:e=>I.PyW(c.fJ(v.zN(e)))}),onSuccess:n=>s.Im(n)?t($.Fd(e.rightChunk),o,u):I.PyW(c.Py(r(n,e.rightChunk)))});case $.T$:return I.tvg(u,{onFailure:v.YW({onNone:()=>I.PyW(c.Py([s.Tj(e.leftChunk,e=>{let[t,r]=e;return[t,n.onSelf(r)]}),$.WQ])),onSome:e=>I.PyW(c.fJ(v.zN(e)))}),onSuccess:n=>s.Im(n)?t($.CO(e.leftChunk),o,u):I.PyW(c.Py(r(e.leftChunk,n)))})}},r=(e,t)=>{let r,o=(e,n)=>n<e.length-1,u=[],l=0,F=0,a=(0,d.Fs)(e,s.$v(l)),i=(0,d.Fs)(t,s.$v(F)),I=a[0],f=a[1],h=i[0],c=i[1],Y=!0;for(;Y;){let p=n.order(I,h);if(0===p)u.push([I,n.onBoth(f,c)]),o(e,l)&&o(t,F)?(l+=1,F+=1,a=(0,d.Fs)(e,s.$v(l)),i=(0,d.Fs)(t,s.$v(F)),I=a[0],f=a[1],h=i[0],c=i[1]):(r=o(e,l)?$.CO((0,d.Fs)(e,s.gv(l+1))):o(t,F)?$.Fd((0,d.Fs)(t,s.gv(F+1))):$.rT,Y=!1);else if(p<0)if(u.push([I,n.onSelf(f)]),o(e,l))l+=1,I=(a=(0,d.Fs)(e,s.$v(l)))[0],f=a[1];else{let e=[];for(e.push(i);o(t,F);)F+=1,i=(0,d.Fs)(t,s.$v(F)),e.push(i);r=$.Fd(s.Iv(e)),Y=!1}else if(u.push([h,n.onOther(c)]),o(t,F))F+=1,h=(i=(0,d.Fs)(t,s.$v(F)))[0],c=i[1];else{let n=[];for(n.push(a);o(e,l);)l+=1,a=(0,d.Fs)(e,s.$v(l)),n.push(a);r=$.CO(s.Iv(n)),Y=!1}}return[s.Iv(u),r]};return ez(e,n.other,$.rT,t)}),oZ=(0,d.XY)(2,(e,n)=>{let t=(e,o,u)=>{switch(e._tag){case $.Lj:return I.tvg(o,{onFailure:e=>I.PyW(c.fJ(e)),onSuccess:e=>I.PyW(c.Py([s.Tj(e,n.onSelf),$.WQ]))});case $.OH:return I.tvg(u,{onFailure:e=>I.PyW(c.fJ(e)),onSuccess:e=>I.PyW(c.Py([s.Tj(e,n.onOther),$.Nk]))});case $.Oj:return(0,d.Fs)(eO(o),I.yU6(eO(u),{concurrent:!0}),I.tvg({onFailure:e=>I.PyW(c.fJ(v.zN(e))),onSuccess:e=>{let[l,F]=e;return v.Ru(l)&&v.Ru(F)?s.Im(l.value)&&s.Im(F.value)?t($.rT,o,u):s.Im(l.value)?t($.Fd(F.value),o,u):s.Im(F.value)?t($.CO(l.value),o,u):I.PyW(c.Py(r(l.value,F.value,n.onBoth))):v.Ru(l)&&v.$I(F)?I.PyW(c.Py([s.Tj(l.value,n.onSelf),$.WQ])):v.$I(l)&&v.Ru(F)?I.PyW(c.Py([s.Tj(F.value,n.onOther),$.Nk])):I.PyW(c.fJ(v.dv()))}}));case $.ox:return I.tvg(o,{onFailure:v.YW({onNone:()=>I.PyW(c.Py([s.Tj(e.rightChunk,n.onOther),$.Nk])),onSome:e=>I.PyW(c.fJ(v.zN(e)))}),onSuccess:l=>s.Im(l)?t($.Fd(e.rightChunk),o,u):s.Im(e.rightChunk)?t($.CO(l),o,u):I.PyW(c.Py(r(l,e.rightChunk,n.onBoth)))});case $.T$:return I.tvg(u,{onFailure:v.YW({onNone:()=>I.PyW(c.Py([s.Tj(e.leftChunk,n.onSelf),$.WQ])),onSome:e=>I.PyW(c.fJ(v.zN(e)))}),onSuccess:l=>s.Im(l)?t($.CO(e.leftChunk),o,u):s.Im(e.leftChunk)?t($.Fd(l),o,u):I.PyW(c.Py(r(e.leftChunk,l,n.onBoth)))})}},r=(e,n,t)=>{let[r,o]=o7(e,n,t);switch(o._tag){case"Left":if(s.Im(o.left))return[r,$.rT];return[r,$.CO(o.left)];case"Right":if(s.Im(o.right))return[r,$.rT];return[r,$.Fd(o.right)]}};return ez(e,n.other,$.rT,t)}),oV=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,oU(n,(e,n)=>[e,n]))),oG=function(){for(var e=arguments.length,n=Array(e),t=0;t<e;t++)n[t]=arguments[t];if(0===n.length)return nt;if(1===n.length)return tl(n[0],e=>[e]);let[r,...o]=n;return oU(r,oG(...o),(e,n)=>[e,...n])},oU=(0,d.XY)(3,(e,n,t)=>{let r=e=>(0,d.Fs)(e,I.qIB(n=>s.Im(n)?r(e):I.PyW(n)));return(0,d.Fs)(ov(e),I.TjK(r),I.yU6((0,d.Fs)(ov(n),I.TjK(r))),I.qIB(e=>{let[n,r]=e;return(0,d.Fs)(nz(I.wV9(n,r,{onSelfDone:(e,n)=>(0,d.Fs)(I.DYE(()=>e),I.OYO(Y.fj(n),(e,n)=>[e,n,!0])),onOtherDone:(e,n)=>(0,d.Fs)(I.DYE(()=>e),I.OYO(Y.fj(n),(e,n)=>[n,e,!1]))})),nm(e=>{let[o,u,l]=e;return(0,d.Fs)(nH(w.L8([s.tt(o),s.tt(u)])),nm(e=>(0,d.Fs)(nB(l?(0,d.Fs)(u,s.Tj(e=>t(s.tt(o),e))):(0,d.Fs)(o,s.Tj(e=>t(e,s.tt(u))))),eb((0,d.Fs)(ra(n),tN(ra(r)),td(f.YW({onLeft:n=>(0,d.Fs)(w.JP(e,e=>{let[r,o]=e;return[(0,d.Fs)(n,s.Tj(e=>t(e,o))),[s.tt(n),o]]})),onRight:n=>(0,d.Fs)(w.JP(e,e=>{let[r,o]=e;return[(0,d.Fs)(n,s.Tj(e=>t(r,e))),[r,s.tt(n)]]}))})),nm(nB))))))}),ov)}),n$)}),o0=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,o9(n,(e,n)=>e.length>n.length?[(0,d.Fs)(e,s.s(n.length)),f.kb((0,d.Fs)(e,s.s(n.length)))]:[e,f.pG((0,d.Fs)(n,s.gv(e.length)))]))),o2=(0,d.XY)(2,(e,n)=>(0,d.Fs)(e,o9(n,(e,n)=>e.length>n.length?[n,f.kb((0,d.Fs)(e,s.s(n.length)))]:[(0,d.Fs)(n,s.s(e.length)),f.pG((0,d.Fs)(n,s.gv(e.length)))]))),o1=(0,d.XY)(3,(e,n,t)=>(0,d.Fs)(e,o9(n,(e,n)=>o7(e,n,t)))),o9=(0,d.XY)(3,(e,n,t)=>{let r=(e,n,t)=>{switch(e._tag){case R.Oj:return(0,d.Fs)(eO(n),I.yU6(eO(t),{concurrent:!0}),I.tvg({onFailure:e=>I.PyW(c.fJ(v.zN(e))),onSuccess:e=>{let[u,l]=e;return v.Ru(u)&&v.Ru(l)?s.Im(u.value)&&s.Im(l.value)?r(R.rT,n,t):s.Im(u.value)?r(R.Fd(l.value),n,t):s.Im(l.value)?r(R.CO(u.value),n,t):I.PyW(c.Py(o(u.value,l.value))):I.PyW(c.fJ(v.dv()))}}));case R.ox:return I.tvg(n,{onFailure:e=>I.PyW(c.fJ(e)),onSuccess:u=>s.Im(u)?r(R.Fd(e.rightChunk),n,t):s.Im(e.rightChunk)?r(R.CO(u),n,t):I.PyW(c.Py(o(u,e.rightChunk)))});case R.T$:return I.tvg(t,{onFailure:e=>I.PyW(c.fJ(e)),onSuccess:u=>s.Im(u)?r(R.CO(e.leftChunk),n,t):s.Im(e.leftChunk)?r(R.Fd(u),n,t):I.PyW(c.Py(o(e.leftChunk,u)))})}},o=(e,n)=>{let[r,o]=t(e,n);switch(o._tag){case"Left":if(s.Im(o.left))return[r,R.rT];return[r,R.CO(o.left)];case"Right":if(s.Im(o.right))return[r,R.rT];return[r,R.Fd(o.right)]}};return(0,d.Fs)(e,ez(n,R.rT,r))}),o5=e=>(0,d.Fs)(e,tF(0,(e,n)=>[e+1,[n,e]])),o6=e=>{let n=e=>B.u({onInput:t=>{let[r,o]=s.OM(t,e,(e,n)=>[v.zN(n),(0,d.Fs)(e,v.Tj(e=>[e,n]))]),u=s.x1(o,e=>v.Ru(e)?v.zN([e.value[0],v.zN(e.value[1])]):v.dv());return B.qI(B.M9(u),()=>n(r))},onFailure:B.AT,onDone:()=>v.YW(e,{onNone:()=>B.rI,onSome:e=>_.aN(B.M9(s.of([e,v.dv()])),B.rI)})});return new U((0,d.Fs)(nx(e),_.tw(n(v.dv()))))},o8=e=>(0,d.Fs)(e,tF(v.dv(),(e,n)=>[v.zN(n),[e,n]])),o3=e=>(0,d.Fs)(o6(o8(e)),tl(e=>{let[[n,t],r]=e;return[n,t,(0,d.Fs)(r,v.Tj(e=>e[1]))]})),o7=(e,n,t)=>e.length>n.length?[(0,d.Fs)(e,s.s(n.length),s.OY(n,t)),f.kb((0,d.Fs)(e,s.gv(n.length)))]:[(0,d.Fs)(e,s.OY((0,d.Fs)(n,s.s(e.length)),t)),f.pG((0,d.Fs)(n,s.gv(e.length)))],o4=r8({}),ue=(0,d.XY)(e=>"string"!=typeof e[0],(e,n,t,u)=>nm(e,e=>tl(t(e),t=>(0,o._)((0,r._)({},e),{[n]:t})),u)),un=D.Jr(tl),ut=D.zM(tl),ur=e=>new U(e),uo=(0,d.XY)(e=>ee(e[0]),function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"utf-8";return r7(()=>{let t=new TextDecoder(n);return tl(e,e=>t.decode(e))})}),uu=e=>r7(()=>{let n=new TextEncoder;return tl(e,e=>n.encode(e))}),us=(e,n,t)=>ef(r=>I.Q56(I.OH5(()=>e.addEventListener(n,r.single,t)),()=>I.OH5(()=>e.removeEventListener(n,r.single,t))),{bufferSize:"object"==typeof t?t.bufferSize:void 0})}}]);