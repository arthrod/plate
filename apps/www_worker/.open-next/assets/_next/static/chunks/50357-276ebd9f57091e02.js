"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[50357],{2498:(e,t,n)=>{n.d(t,{Jf:()=>p,No:()=>i,O9:()=>f,OG:()=>l,gU:()=>d,gv:()=>g,sY:()=>r,v6:()=>c});let r="u">typeof navigator&&navigator.userAgent.includes("Mac OS X"),i=(e,t)=>e&&e.nodeName!==t?i(e.parentElement,t):e,l=e=>btoa((e.match(/\w{2}/g)||[]).map(e=>String.fromCodePoint(Number.parseInt(e,16))).join("")),a=/^(?:\w+:)?\/\/(\S+)$/,o=/mailto:([^?\\]+)/,s=/^localhost[\d:?]*(?:[^\d:?]\S*)?$/,u=/^[^\s.]+\.\S{2,}$/,d=e=>{if("string"!=typeof e)return!1;let t=a.exec(e),n=o.exec(e),r=t||n;if(!r)return!1;let i=r[1];if(!i)return!1;try{new URL(e)}catch(e){return!1}return s.test(i)||u.test(i)},c=function(e,t){let{handlerKeys:n,handlerQuery:r=e=>e.startsWith("on")}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new Map,l={},a=e=>{e&&Object.entries(e).forEach(e=>{let[t,a]=e;if((!n||n.includes(t))&&(!r||r(t))&&"function"==typeof a){var o;i.has(t)||i.set(t,[]),null==(o=i.get(t))||o.push(a),l[t]=function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];let l=i.get(t);if(l)for(let e of l)e(...n)}}else l[t]=a})};return a(e),a(t),l},p=(e,t)=>{let{allowedSchemes:n,permitInvalid:r=!1}=t;if(!e)return null;if(e.startsWith("/")||e.startsWith("#"))return e;let i=null;try{i=new URL(e)}catch(t){return r?e:null}return n&&!n.includes(i.protocol.slice(0,-1))?null:i.href},f=e=>{let t;return null!=(t=e)};function g(e,t){return function(){for(var n=arguments.length,r=Array(n),i=0;i<n;i++)r[i]=arguments[i];return e(t,...r)}}},14796:(e,t,n)=>{n.d(t,{$7:()=>f,$k:()=>tY,Cb:()=>k,Jb:()=>eN,LQ:()=>_,MO:()=>es,Qg:()=>h,Ty:()=>Y,Wr:()=>b,YW:()=>Z,f4:()=>G,ie:()=>tQ,lZ:()=>v,lw:()=>ed,s2:()=>g,sM:()=>U,ul:()=>e_,vv:()=>eu});var r=n(99019),i=n(5147),l=n(15457),a=n(2498),o=n(83751),s=n(80958),u=n(40331),d=n(49844),c=n(49690),p=n(65705);let f=(0,r._)({},o.Hg),g=(0,i._)((0,r._)({},o.wA),{child:(e,t)=>e.concat([t]),firstChild:e=>g.child(e,0),lastIndex:e=>{var t;return null!=(t=e.at(-1))?t:-1},next:e=>{try{return o.wA.next(e)}catch(t){return e}},parent:e=>{try{return o.wA.parent(e)}catch(t){return e}},previous:e=>{if(0===e.length)return;let t=e.at(-1);if(!(t<=0))return e.slice(0,-1).concat(t-1)}}),h=o.EY,v=(0,r._)((0,i._)((0,r._)({},o.bP),{isAncestor:f.isAncestor,ancestor:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.ancestor(...t)}catch(e){}},common:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.common(...t)}catch(e){}},descendant:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.descendant(...t)}catch(e){}},first:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.first(...t)}catch(e){}},fragment:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return(0,o.bP.fragment)(...t)}catch(e){return[]}},get:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.get(...t)}catch(e){}},hasSingleChild:e=>!!h.isText(e)||1===e.children.length&&v.hasSingleChild(e.children[0]),isDescendant:e=>f.isElement(e)||h.isText(e),last:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.last(...t)}catch(e){}},leaf:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.leaf(...t)}catch(e){}},parent:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];try{return o.bP.parent(...t)}catch(e){}}}),{*children(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{from:r,reverse:i=!1,to:l}=n,a=v.ancestor(e,t);if(!a)return;let{children:o}=a,s=i?o.length-1:0,u=null!=l?l:i?0:o.length;for(void 0!==r&&(s=r);i?s>=u:s<u;)yield[v.child(a,s),t.concat(s)],s=i?s-1:s+1},firstChild:(e,t)=>v.children(e,t).next().value,firstText:(e,t)=>v.texts(e,t).next().value,isEditor:e=>(0,o.sb)(e),isLastChild(e,t){if(0===t.length)return!1;let n=v.parent(e,t);return!!n&&t.at(-1)===n.children.length-1},lastChild:(e,t)=>v.children(e,t,{reverse:!0}).next().value}),m=(0,i._)((0,r._)({},o.aZ),{isAt:e=>m.isLocation(e)||v.isNode(e)}),y=o.L9,b=o.I,k=(0,i._)((0,r._)({},o.Q6),{contains:(e,t)=>{let[n,r]=k.edges(t);return k.includes(e,n)&&k.includes(e,r)},isCollapsed:e=>!!e&&o.Q6.isCollapsed(e),isExpanded:e=>!!e&&o.Q6.isExpanded(e)}),_=(0,i._)((0,r._)({},o.bR),{get:function(e){let t,{focus:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return k.isRange(e)&&(t=n?e.focus:e.anchor),_.isPoint(e)&&(t=e),g.isPath(e)&&(t={offset:0,path:e}),t}}),E=e=>s.wE.blur(e),N=e=>s.wE.deselect(e),x=e=>{try{return s.wE.findDocumentOrShadowRoot(e)}catch(e){}},w=(e,t)=>{try{return s.wE.findEventRange(e,t)}catch(e){}},O=(e,t)=>{try{return s.wE.findKey(e,t)}catch(e){}},S=(e,t,n)=>{let l=()=>{var l;return null==(l=e.api.node((0,i._)((0,r._)({},n),{at:[],match:e=>e===t})))?void 0:l[1]};if(n)return l();try{return s.wE.findPath(e,t)}catch(e){return l()}},C=function(e){let{at:t,edge:n,retries:r=5}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t=>{e.tf.withoutNormalizing(()=>{e.tf.deselect(),e.tf.select(t)})};if(n){let r="startEditor"===n||"endEditor"===n?[]:null!=t?t:e.selection;r&&i("start"===n?e.api.start(r):e.api.end(r))}else t&&i(t);try{s.wE.focus(e,{retries:r})}catch(e){console.error(e)}},T=e=>{try{return s.wE.getWindow(e)}catch(e){}},P=(e,t,n)=>{try{return s.wE.hasDOMNode(e,t,n)}catch(e){}return!1},R=(e,t)=>{try{return s.wE.hasEditableTarget(e,t)}catch(e){}return!1},M=(e,t)=>{try{return s.wE.hasRange(e,t)}catch(e){}return!1},A=(e,t)=>{try{return s.wE.hasSelectableTarget(e,t)}catch(e){}return!1},B=(e,t)=>{try{return s.wE.hasTarget(e,t)}catch(e){}return!1},I=e=>s.wE.isComposing(e),z=e=>s.wE.isFocused(e),D=e=>s.wE.isReadOnly(e),j=(e,t)=>{try{return s.wE.isTargetInsideNonReadonlyVoid(e,t)}catch(e){}return!1},L=(e,t)=>{try{return s.wE.toDOMNode(e,t)}catch(e){}},F=(e,t)=>{try{return s.wE.toDOMPoint(e,t)}catch(e){}},V=(e,t)=>{try{return s.wE.toDOMRange(e,t)}catch(e){}},W=(e,t)=>{try{return s.wE.toSlateNode(e,t)}catch(e){}},$=(e,t,n)=>{try{return s.wE.toSlatePoint(e,t,n)}catch(e){}},H=(e,t,n)=>{try{return s.wE.toSlateRange(e,t,n)}catch(e){}},U=(e,t)=>t&&u(t)&&v.isNode(t)?e.api.findPath(t):null!=t?t:void 0,Z=(e,t,n)=>!n||("object"==typeof n?Object.entries(n).every(t=>{let[n,r]=t;return(Array.isArray(r)?r:[r]).includes(e[n])}):n(e,t)),q=function(e){let{id:t,block:n,empty:r,match:i,text:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=!1,o=()=>!0;return void 0!==l&&(a=!0,o=Q(o,e=>h.isText(e)===l)),void 0!==r&&(a=!0,o=Q(o,t=>h.isText(t)?t.text.length>0==!r:e.api.isEmpty(t)===r)),void 0!==n&&(a=!0,o=Q(o,t=>e.api.isBlock(t)===n)),void 0!==t&&(a=!0,o=Q(o,e=>!0===t&&!!e.id||e.id===t)),"object"==typeof i?(a=!0,o=Q(o,(e,t)=>Z(e,t,i))):"function"==typeof i&&(a=!0,o=Q(o,i)),a?o:void 0},K=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[n={}]=[t],{id:a,empty:o,match:s,text:u}=n,d=(0,l._)(n,["id","empty","match","text"]),{at:c,block:p}=d;return(0,i._)((0,r._)({},d),{at:U(e,c),match:q(e,{id:a,block:p,empty:o,match:s,text:u})})},Q=(e,t)=>(n,r)=>e(n,r)&&(!t||t(n,r)),Y=(e,t,n)=>(r,i)=>{let l=q(e,n);return(!t||t(r,i))&&(!l||l(r,i))},G=(e,t,n)=>(r,i)=>{let l=(()=>{if(!(null==n?void 0:n.match)){if((null==n?void 0:n.at)&&g.isPath(n.at)){var t;let[r]=null!=(t=e.api.node(n.at))?t:[];return e=>e===r}return t=>f.isElement(t)&&e.api.isBlock(t)}return q(e,n)})();return(!t||t(r,i))&&(!l||l(r,i))},J=(e,t)=>{try{return(0,o.G1)(e,K(e,t))}catch(e){return}},X=(e,t,n)=>(0,o.BY)(e,t,n),ee=(e,t,n)=>(0,o.Rx)(e,t,n),et=(e,t,n)=>(0,o.ip)(e,t,n),en=(e,t,n)=>(0,o.fc)(e,t,n),er=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"character";(0,o.nm)(e,t)},ei=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"character";(0,o.GJ)(e,t)},el=(e,t)=>(0,o.WD)(e,t),ea=new Set(["addMark","apply","blur","collapse","delete","deleteBackward","deleteForward","deleteFragment","deselect","deselectDOM","focus","insertBreak","insertData","insertFragment","insertFragmentData","insertNode","insertNodes","insertSoftBreak","insertText","insertTextData","liftNodes","mergeNodes","move","moveNodes","normalize","normalizeNode","redo","removeMark","removeNodes","select","setFragmentData","setNodes","setPoint","setSelection","setSplittingOnce","splitNodes","undo","unsetNodes","unwrapNodes","withMerging","withNewBatch","withoutMerging","withoutNormalizing","withoutSaving","wrapNodes","writeHistory"]),eo=new Set(["above","after","before","edges","elementReadOnly","end","findDocumentOrShadowRoot","findEventRange","findKey","findPath","first","fragment","getDirtyPaths","getFragment","getMarks","getWindow","hasBlocks","hasDOMNode","hasEditableTarget","hasInlines","hasPath","hasRange","hasSelectableTarget","hasTarget","hasTexts","highestBlock","isBlock","isComposing","isEdge","isElementReadOnly","isEmpty","isEnd","isFocused","isInline","isMerging","isNormalizing","isReadOnly","isSaving","isSelectable","isSplittingOnce","isStart","isTargetInsideNonReadonlyVoid","isVoid","last","leaf","levels","markableVoid","next","node","nodes","normalize","onChange","operations","parent","path","pathRef","pathRefs","point","pointRef","pointRefs","positions","previous","range","rangeRef","rangeRefs","selection","setNormalizing","shouldMergeNodes","shouldNormalize","start","string","toDOMNode","toDOMPoint","toDOMRange","toSlateNode","toSlatePoint","toSlateRange","unhangRange","void"]),es=(e,t)=>{t&&Object.assign(e,Object.entries(t).reduce((e,t)=>{let[n,r]=t;return ea.has(n)&&(e[n]=r),e},{}))},eu=(e,t)=>{!t||(Object.assign(e,Object.entries(t).reduce((e,t)=>{let[n,r]=t;return eo.has(n)&&(e[n]=r),e},{})),t.marks&&(e.getMarks=t.marks))},ed=e=>{eo.forEach(t=>{e[t]&&("getMarks"===t?e.api.marks=e.getMarks:e.api[t]=e[t])}),ea.forEach(t=>{e[t]&&(e.tf[t]=e[t])})},ec=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(n.previous){let n=e.api.previous({at:U(e,t)});if(!n)return;return(0,o._N)(e,n[1])}return(0,o._N)(e,U(e,t))}catch(e){}},ep=(e,t,n)=>{try{return(0,o.V4)(e,U(e,t),n)}catch(e){}},ef=(e,t,n)=>{try{return(0,o.Pl)(e,U(e,t),n)}catch(e){}},eg=(e,t,n)=>{var r;let i;if(!n||!n.match&&!n.matchString){try{return(0,o.gM)(e,U(e,t),n)}catch(e){}return}let l=!n.unit||"offset"===n.unit,a=n.matchString?d(n.matchString):[""],s=null!=(r=n.matchByRegex)&&r;return a.some(r=>{let a=t,u=e.api.point(t,{edge:"end"}),d=r.length+1,p=Array.from({length:d}),f=0;for(;;){var g,h;let v=(0,o.gM)(e,U(e,a),n);if(!v||e.api.isAt({at:{anchor:v,focus:u},blocks:!0})){n.matchBlockStart&&(i=u);break}let m=e.api.string({anchor:v,focus:u}),y=m;if(l&&d&&(p.unshift({point:v,text:m}),p.pop(),y=c(p.slice(0,-1),"text").join("")),(s?!!r.match(y):y===r)||(null==(g=n.match)?void 0:g.call(n,{at:t,beforePoint:v,beforeString:y}))){if(n.afterMatch){if(d&&l)return!!(i=null==(h=p.at(-1))?void 0:h.point);return i=u,!0}return i=v,!0}if(u=v,a=v,f+=1,!n.skipInvalid&&(!r||f>=r.length))break}return!1}),i},eh=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{if(n.next){let n=e.api.next({at:U(e,t)});if(!n)return;return(0,o.ni)(e,n[1])}return(0,o.ni)(e,U(e,t))}catch(e){}},ev=(e,t)=>(0,o.$H)(e,(0,i._)((0,r._)({},t),{at:U(e,null==t?void 0:t.at)})),em=(e,t)=>f.isElement(t)&&(0,o.WH)(e,t);function*ey(e){var t;let n,r,i,l=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=K(e,l),{ignoreNonSelectable:o=!1,mode:s="all",reverse:u=!1,universal:d=!1,voids:c=!1}=a,p=null!=(t=U(e,a.at))?t:e.selection,m=q(e,a);if(m||(m=()=>!0),!p)return;if(y.isSpan(p))n=p[0],r=p[1];else{let t=e.api.path(p,{edge:"start"}),i=e.api.path(p,{edge:"end"});if(n=u?i:t,r=u?t:i,!t||!i)return}let b=v.nodes(e,{from:n,reverse:u,to:r,pass:t=>{let[n]=t;return!!f.isElement(n)&&!(!(!c&&(e.api.isVoid(n)||e.api.isElementReadOnly(n)))&&(!o||e.api.isSelectable(n)))}}),k=[];for(let[t,n]of b){if(o&&f.isElement(t)&&!e.api.isSelectable(t))continue;let r=i&&0===g.compare(n,i[1]);if("highest"===s&&r)continue;if(!m(t,n)){if(d&&!r&&h.isText(t))return;continue}if("lowest"===s&&r){i=[t,n];continue}let l="lowest"===s?i:[t,n];l&&(d?k.push(l):yield l),i=[t,n]}"lowest"===s&&i&&(d?k.push(i):yield i),d&&(yield*k)}let eb=(e,t)=>{let n=!1;return(0,o.rx)(e,()=>{n=!!t()}),n},ek=function(e,t){var n,r,i;let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{edge:a,focus:s,next:u,previous:d}=l;if(s&&e.tf.focus(),u||d){let r=null!=(n=U(e,t))?n:e.selection;if(!r)return;let i=e.api.path(r);if(!i)return;let l=d?e.api.end(i,{previous:!0}):e.api.start(i,{next:!0});if(!l)return;(0,o.Lt)(e,l);return}if(a){let n=null!=(r=U(e,t))?r:e.selection;if(!n)return;let l=g.isPath(n)?n:null==(i=e.api.node({at:n,block:!0}))?void 0:i[1];if(!l)return;let s="end"===a?e.api.end(l):e.api.start(l);if(!s)return;(0,o.Lt)(e,s);return}let c=U(e,t);c&&(0,o.Lt)(e,c)},e_=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};eb(e,()=>{let n,{distance:r=1,reverse:i=!1,unit:l="character",voids:a=!1}=t,{at:s=e.selection,hanging:u=!1}=t;if(!s)return;if(k.isRange(s)&&k.isCollapsed(s)&&(s=s.anchor),_.isPoint(s)){let t=ev(e,{at:s,mode:"highest"});if(!a&&t){let[,e]=t;s=e}else{let t={distance:r,unit:l},n=i?eg(e,s,t)||eh(e,[]):ef(e,s,t)||ec(e,[]);s={anchor:s,focus:n},u=!0}}if(g.isPath(s))return void e.tf.removeNodes({at:s,voids:a});if(k.isCollapsed(s))return;u||(s=o.KE.unhangRange(e,s,{voids:a}));let[d,c]=k.edges(s),p=e.api.above({at:d,voids:a,match:t=>em(e,t)}),f=e.api.above({at:c,voids:a,match:t=>em(e,t)}),h=p&&f&&!g.equals(p[1],f[1]),v=g.equals(d.path,c.path),m=a?null:ev(e,{at:d,mode:"highest"}),y=a?null:ev(e,{at:c,mode:"highest"});if(m){let t=eg(e,d);t&&p&&g.isAncestor(p[1],t.path)&&(d=t)}if(y){let t=ef(e,c);t&&f&&g.isAncestor(f[1],t.path)&&(c=t)}let b=[];for(let t of ey(e,{at:s,voids:a})){let[r,i]=t;n&&0===g.compare(i,n)||(!a&&e.api.isVoid(r)||!g.isCommon(i,d.path)&&!g.isCommon(i,c.path))&&(b.push(t),n=i)}let E=Array.from(b,t=>{let[,n]=t;return ee(e,n)}),N=et(e,d),x=et(e,c);if(!v&&!m){let t=N.current,[n]=ep(e,t),{path:r}=t,{offset:i}=d,l=n.text.slice(i);e.apply({offset:i,path:r,text:l,type:"remove_text"})}for(let t of E){let n=t.unref();e.tf.removeNodes({at:n,voids:a})}if(!y){let t=x.current,[n]=ep(e,t),{path:r}=t,i=v?d.offset:0,l=n.text.slice(i,c.offset);e.apply({offset:i,path:r,text:l,type:"remove_text"})}!v&&h&&x.current&&N.current&&e.tf.mergeNodes({at:x.current,hanging:!0,voids:a});let w=x.unref()||N.unref();null==t.at&&w&&ek(e,w)})};function eE(e){return Array.isArray(e)?e:[e]}let eN=function(e){let{allow:t,exclude:n,filter:r,level:i,maxLevel:l}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return!1;let[a,o]=e;if(i&&!eE(i).includes(o.length)||l&&o.length>l||r&&!r(e))return!1;if(t){let e=eE(t);if(e.length>0&&!e.includes(a.type))return!1}if(n){let e=eE(n);if(e.length>0&&e.includes(a.type))return!1}return!0},ex=(e,t,n)=>{try{if(m.isAt(t))return(0,o.rH)(e,U(e,t),n);return e.api.nodes(t).next().value}catch(e){return}},ew=(e,t,n)=>{try{return(0,o.Ae)(e,U(e,t),n)}catch(e){}},eO=(e,t)=>{try{return(0,o.Jo)(e,U(e,t))}catch(e){}},eS=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.selection,n=arguments.length>2?arguments[2]:void 0;if(!t)return"";try{return(0,o.Yj)(e,U(e,t),n)}catch(e){return""}},eC=(e,t)=>{try{return(0,o.$1)(e,U(e,t))}catch(e){}},eT=(e,t,n)=>{if(null===t)return[];try{let i=void 0===t?(0,o.hn)(e):(0,o.aM)(e,U(e,t));if(i.length>0&&(null==n?void 0:n.unwrap)&&n.unwrap.length>0){var r;let e;return r=n.unwrap,(e=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t.forEach(t=>{(null==r?void 0:r.includes(t.type))?e(t.children,n):n.push(t)}),n})(i)}return i}catch(e){return[]}},eP=(e,t)=>(0,o.yr)(e,K(e,t)),eR=e=>(0,o.Z8)(e),eM=e=>(0,o.ML)(e),eA=(e,t,n)=>{try{return(0,o.zx)(e,U(e,t),n)}catch(e){}},eB=e=>(0,o.ZF)(e),eI=(e,t)=>(0,o.oO)(e,(0,i._)((0,r._)({},t),{at:U(e,null==t?void 0:t.at)})),ez=e=>(0,o.Q1)(e),eD=(e,t)=>(0,o.XP)(e,t),ej=(e,t)=>(0,o.Xq)(e,t),eL=(e,t)=>(0,o.fx)(e,t),eF=e=>(0,o.J7)(e),eV=(e,t,n)=>e.tf.insertNodes(t,n),eW=(e,t,n)=>(0,o.UP)(e,t,n),e$=e=>(0,o.jM)(e),eH=(e,t)=>(0,o.dQ)(e,t),eU=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,l=n;if(null===l)return!0;if(g.isPath(l)&&0===l.length||v.isEditor(l))return 1===e.children.length&&(0,o.Im)(e,e.children[0]);if(null==i?void 0:i.after){let t=e.api.block({above:!0,at:l});if(!t)return!1;let n=e.api.point(l),r=e.api.parent(l);if(!r)return!1;let[,i]=r;if(!e.api.isEnd(n,i))return!1;let a=Array.from(v.children(e,t[1],{from:g.lastIndex(n.path)+1})).map(e=>{let[t]=e;return t});if(!(a.length>0))return e.api.isEnd(n,t[1]);for(let e of a)if(h.isText(e)&&e.text)return!1;return!0}if(g.isPath(l))return(0,o.Im)(e,null==(t=e.api.node(l))?void 0:t[0]);if(null==i?void 0:i.block){let t=e.api.block({at:l});if(!t)return!1;l=t[0]}if(!v.isNode(l)){for(let t of e.api.nodes((0,r._)({at:l},i)))if(!(0,o.Im)(e,t[0]))return!1;return!0}return(0,o.Im)(e,l)},eZ=(e,t,n)=>!!t&&(0,o.uV)(e,t,n),eq=(e,t,n)=>!!t&&(0,o.n)(e,t,n),eK=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};try{let{level:r}=n,i=(0,o.HV)(e,U(e,t));if(i&&"number"==typeof r){if(0===e.children.length)return;return((e,t,n)=>{let[r,i]=t,l=i.slice(0,n+1),a=e.api.node(l);return a||[r,i]})(e,i,r)}return i}catch(e){}},eQ=function(e){var t;let n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{from:i="after",mode:l="child"===i?"all":"lowest",voids:a=!1}=r,o=q(e,r),s=null!=(t=U(e,r.at))?t:e.selection;if(!s)return;if("child"===i&&g.isPath(s)){let t=g.firstChild(s);e.api.node(t)&&(n=t,o=Q((e,t)=>!g.isAncestor(t,s)&&!g.equals(t,s),o))}if(!n){let t=e.api.after(s,{voids:a});if(!t)return;n=t.path}let[,u]=e.api.last([]),d=[n,u];if(g.isPath(s)&&0===s.length)return;if(null==o)if(g.isPath(s)){let[t]=e.api.parent(s);o=e=>t.children.includes(e)}else o=()=>!0;let[c]=e.api.nodes({at:d,match:o,mode:l,voids:a});return c},eY=(e,t)=>(0,o.S8)(e,t),eG=(e,t,n)=>{let r=e.meta.isNormalizing;e.meta.isNormalizing=!0,(0,o.Iz)(e,t,n),e.meta.isNormalizing=r},eJ=(e,t,n)=>{try{return(0,o.$t)(e,U(e,t),n)}catch(e){}},eX=(e,t)=>{let n=t=>{try{return((e,t)=>{var n;let r,{from:i="after",mode:l="lowest",voids:a=!1}=t,o=q(e,t),s=null!=(n=U(e,t.at))?n:e.selection;if(!s)return;if("parent"===i&&g.isPath(s)&&s.length>1&&(r=s,o=Q((e,t)=>!g.isAfter(t,s)&&!g.equals(t,s),o)),!r){let t=e.api.before(s,{voids:a});if(!t)return;r=t.path}let[,u]=e.api.first([]),d=[r,u];if(g.isPath(s)&&0===s.length)return;if(null==o)if(g.isPath(s)){let[t]=e.api.parent(s);o=e=>t.children.includes(e)}else o=()=>!0;let[c]=e.api.nodes({at:d,match:o,mode:l,reverse:!0,voids:a});return c})(e,t)}catch(e){}};if(null==t?void 0:t.sibling){let n=K(e,t).at;if(!n)return;let r=g.previous(n);if(!r)return;return e.api.node(r)}if(!((null==t?void 0:t.id)&&(null==t?void 0:t.block)))return n(t);let r=e.api.node({id:t.id,at:[]});if(r)return n({at:r[1],block:!0})},e0=(e,t,n,r)=>{var i,l;let a=U(e,t);if(k.isRange(a)&&!n)return a;if("start"===a){let t=null==(l=e.api.block({at:n}))?void 0:l[1];if(!t)return;let r=e.api.start(t);if(!r)return;let i=_.get(n);if(!i)return;return{anchor:r,focus:i}}return n&&"before"===a&&(a=null!=(i=e.api.before(n,null==r?void 0:r.before))?i:U(e,n)),(0,o.y1)(e,a,U(e,n))},e1=(e,t)=>(0,o.i4)(e,t),e2=(e,t,n)=>{let[r,i]=t;return!(f.isElement(r)&&e.api.isEmpty(r)||h.isText(r)&&""===r.text&&0!==i.at(-1))||(e.tf.removeNodes({at:i}),!1)},e7=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{character:r,unhang:i=!0,voids:l}=n;if(!k.isRange(t))return t;if(r){let[n,r]=k.edges(t);if(!g.equals(n.path,r.path))if(0===r.offset){let t=e.api.after(n);t&&(r=t)}else{let t=e.api.before(r);t&&(n=t)}return{anchor:n,focus:r}}return i?(0,o.lR)(e,t,{voids:l}):t},e9=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[n={}]=[t],{at:i}=n,a=(0,l._)(n,["at"]),o=null!=i?i:e.selection;if(!o)return null;let[s,u]=e.api.edges(null!=o?o:e.selection),d=e.api.block((0,r._)({at:s},a));if(!d)return null;let c=e.api.block((0,r._)({at:u},a));return c?[d,c]:null},e4=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[n={}]=[t],{above:a,highest:o}=n,s=(0,l._)(n,["above","highest"]);if(o){var u,d;let t=null!=(u=s.at)?u:e.selection;if(!t)return;let n=null==(d=e.api.path(t))?void 0:d[0];if(void 0===n)return;return e.api.node([n])}return a?e.api.above((0,i._)((0,r._)({},s),{block:!0})):e.api.node((0,i._)((0,r._)({},s),{block:!0,mode:"lowest"}))},e5=(e,t)=>[...e.api.nodes((0,i._)((0,r._)({},t),{block:!0}))],e8=(e,t)=>{try{let n,r,{at:i=e.selection,match:l,reverse:a=!1,voids:o=!1}=t;if(!i)return;if(y.isSpan(i))[n,r]=i;else if(k.isRange(i)){let t=e.api.path(i,{edge:"start"}),l=e.api.path(i,{edge:"end"});n=a?l:t,r=a?t:l}let s=[e,[]];for(let[t,u]of(g.isPath(i)&&(s=e.api.node(i)),v.descendants(s[0],{from:n,reverse:a,to:r,pass:t=>{let[n]=t;return!o&&e.api.isVoid(n)}})))if(Z(t,u,l))return[t,i.concat(u)]}catch(e){return}},e6=(e,t)=>{var n;return null==(n=e.api.marks())?void 0:n[t]},e3=(e,t)=>!!e.api.mark(t),te=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},{contains:r=!1}=n;if(!e.selection)return!1;let i=k.isRange(t)?t:e.api.range(t);return!!i&&(r?k.contains(e.selection,i):!!k.intersection(e.selection,i))},tt=/^(?:\s|$)/,tn=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[n={}]=[t],{at:i=e.selection,block:a,blocks:o,end:s,start:u,text:d,word:c}=n,p=(0,l._)(n,["at","block","blocks","end","start","text","word"]);if(!i)return!1;if(_.isPoint(i)){if(c&&s){let t=e.api.after(i);if(!t)return!0;let n=e.api.range(i,t),r=e.api.string(n);return tt.test(r)}return!1}if(k.isRange(i)){let[t,n]=k.edges(i);if(d)return g.equals(t.path,n.path);let l=e.api.block((0,r._)({at:t},p)),c=e.api.block((0,r._)({at:n},p));if(o)return(!!l||!!c)&&(!l||!c||!g.equals(l[1],c[1]));if(!l||!c)return!1;if(a)return g.equals(l[1],c[1]);if(u)return e.api.isStart(t,l[1])||k.isExpanded(i)&&e.api.isStart(n,l[1]);if(s)return e.api.isEnd(n,c[1])}return!1},tr=e=>{if(e.selection){let t=e.selection.focus,n=e.api.end([]);return 0===n.offset&&e.api.isEnd(t,t)&&g.equals(g.next(g.parent(t.path)),n.path)}return!1},ti=(e,t)=>{var n;let r=null==(n=e.api.node(t))?void 0:n[0];return h.isText(r)},tl=(e,t)=>{if(0===t.length)return;let n=t[0][1],r=t.at(-1)[1];return e.api.range(n,r)};function ta(e){let t,{key:n,defaultValue:r,getProp:i,mode:l="block",nodes:a}=e;if(0===a.length)return r;let o=null!=i?i:e=>e[n];for(let e of a){if("block"===l||"all"===l){let n=o(e);if(void 0!==n){if(void 0===t)t=n;else if(t!==n)return;if("block"===l)continue}else if("block"===l)return r}if("text"===l||"all"===l)for(let[n]of Array.from(v.texts(e))){let e=o(n);if(void 0!==e){if(void 0===t)t=e;else if(t!==e)return}else if("text"===l)return r}}return t}let to=e=>"object"==typeof e&&null!=e&&1===e.nodeType,ts=(e,t)=>(!t||"hidden"!==e)&&"visible"!==e&&"clip"!==e,tu=(e,t)=>{if(e.clientHeight<e.scrollHeight||e.clientWidth<e.scrollWidth){let n,r=getComputedStyle(e,null);return ts(r.overflowY,t)||ts(r.overflowX,t)||!!(n=(e=>{if(!e.ownerDocument||!e.ownerDocument.defaultView)return null;try{return e.ownerDocument.defaultView.frameElement}catch(e){return null}})(e))&&(n.clientHeight<e.scrollHeight||n.clientWidth<e.scrollWidth)}return!1},td=(e,t,n,r,i,l,a,o)=>l<e&&a>t||l>e&&a<t?0:l<=e&&o<=n||a>=t&&o>=n?l-e-r:a>t&&o<n||l<e&&o>n?a-t+i:0,tc=e=>{let t=e.parentElement;return null==t?e.getRootNode().host||null:t},tp=(e,t)=>{var n,r,i,l;let a;if("u"<typeof document)return[];let{scrollMode:o,block:s,inline:u,boundary:d,skipOverflowHiddenElements:c}=t,p="function"==typeof d?d:e=>e!==d;if(!to(e))throw TypeError("Invalid target");let f=document.scrollingElement||document.documentElement,g=[],h=e;for(;to(h)&&p(h);){if((h=tc(h))===f){g.push(h);break}null!=h&&h===document.body&&tu(h)&&!tu(document.documentElement)||null!=h&&tu(h,c)&&g.push(h)}let v=null!=(r=null==(n=window.visualViewport)?void 0:n.width)?r:innerWidth,m=null!=(l=null==(i=window.visualViewport)?void 0:i.height)?l:innerHeight,{scrollX:y,scrollY:b}=window,{height:k,width:_,top:E,right:N,bottom:x,left:w}=e.getBoundingClientRect(),{top:O,right:S,bottom:C,left:T}={top:parseFloat((a=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(a.scrollMarginRight)||0,bottom:parseFloat(a.scrollMarginBottom)||0,left:parseFloat(a.scrollMarginLeft)||0},P="start"===s||"nearest"===s?E-O:"end"===s?x+C:E+k/2-O+C,R="center"===u?w+_/2-T+S:"end"===u?N+S:w-T,M=[];for(let e=0;e<g.length;e++){let t=g[e],{height:n,width:r,top:i,right:l,bottom:a,left:d}=t.getBoundingClientRect();if("if-needed"===o&&E>=0&&w>=0&&x<=m&&N<=v&&(t===f&&!tu(t)||E>=i&&x<=a&&w>=d&&N<=l))break;let c=getComputedStyle(t),p=parseInt(c.borderLeftWidth,10),h=parseInt(c.borderTopWidth,10),O=parseInt(c.borderRightWidth,10),S=parseInt(c.borderBottomWidth,10),C=0,T=0,A="offsetWidth"in t?t.offsetWidth-t.clientWidth-p-O:0,B="offsetHeight"in t?t.offsetHeight-t.clientHeight-h-S:0,I="offsetWidth"in t?0===t.offsetWidth?0:r/t.offsetWidth:0,z="offsetHeight"in t?0===t.offsetHeight?0:n/t.offsetHeight:0;if(f===t)C="start"===s?P:"end"===s?P-m:"nearest"===s?td(b,b+m,m,h,S,b+P,b+P+k,k):P-m/2,T="start"===u?R:"center"===u?R-v/2:"end"===u?R-v:td(y,y+v,v,p,O,y+R,y+R+_,_),C=Math.max(0,C+b),T=Math.max(0,T+y);else{C="start"===s?P-i-h:"end"===s?P-a+S+B:"nearest"===s?td(i,a,n,h,S+B,P,P+k,k):P-(i+n/2)+B/2,T="start"===u?R-d-p:"center"===u?R-(d+r/2)+A/2:"end"===u?R-l+O+A:td(d,l,r,p,O+A,R,R+_,_);let{scrollLeft:e,scrollTop:o}=t;C=0===z?0:Math.max(0,Math.min(o+C/z,t.scrollHeight-n/z+B)),T=0===I?0:Math.max(0,Math.min(e+T/I,t.scrollWidth-r/I+A)),P+=o-C,R+=e-T}M.push({el:t,top:C,left:T})}return M},tf={scrollMode:"if-needed"};function tg(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tf;requestAnimationFrame(()=>{let r;if(_.isPoint(t)){let{offset:n=0,path:i}=t;r=e.api.toDOMRange({anchor:{offset:n,path:i},focus:{offset:n,path:i}})}else r=t;if(!r)return;let i=r.startContainer.parentElement;i.getBoundingClientRect=r.getBoundingClientRect.bind(r),function(e,t){let n;if(!e.isConnected||!(e=>{let t=e;for(;t&&t.parentNode;){if(t.parentNode===document)return!0;t=t.parentNode instanceof ShadowRoot?t.parentNode.host:t.parentNode}return!1})(e))return;let r={top:parseFloat((n=window.getComputedStyle(e)).scrollMarginTop)||0,right:parseFloat(n.scrollMarginRight)||0,bottom:parseFloat(n.scrollMarginBottom)||0,left:parseFloat(n.scrollMarginLeft)||0};if("object"==typeof t&&"function"==typeof t.behavior)return t.behavior(tp(e,t));let i="boolean"==typeof t||null==t?void 0:t.behavior;for(let{el:n,top:l,left:a}of tp(e,!1===t?{block:"end",inline:"nearest"}:t===Object(t)&&0!==Object.keys(t).length?t:{block:"start",inline:"nearest"})){let e=l-r.top+r.bottom,t=a-r.left+r.right;n.scroll({top:e,left:t,behavior:i})}}(i,n),setTimeout(()=>{i.getBoundingClientRect=void 0},0)})}let th=(e,t)=>!!e.api.node(t),tv=(e,t)=>{(0,o.ap)(e,t)},tm=/[\u0E00-\u0E7F]+/,ty=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null!=(t=U(e,null==n?void 0:n.at))?t:e.selection;e.tf.withoutNormalizing(()=>{var t,i;let l,{distance:a=1,reverse:o=!1,unit:s="character",voids:u=!1}=n,{hanging:d=!1}=n;if(!r)return;let c=!1;if(k.isRange(r)&&k.isCollapsed(r)&&(c=!0,r=r.anchor),_.isPoint(r)){let t=e.api.void({at:r,mode:"highest"});if(!u&&t){let[,e]=t;r=e}else{let t={distance:a,unit:s},n=o?e.api.before(r,t)||e.api.start([]):e.api.after(r,t)||e.api.end([]);r={anchor:r,focus:n},d=!0}}if(g.isPath(r))return void e.tf.removeNodes({at:r,voids:u});if(k.isCollapsed(r))return;if(!d){let[,t]=k.edges(r),n=e.api.end([]);_.equals(t,n)||(r=e.api.unhangRange(r,{voids:u}))}let[p,h]=k.edges(r),v=e.api.above({at:p,voids:u,match:t=>f.isElement(t)&&e.api.isBlock(t)}),m=e.api.above({at:h,voids:u,match:t=>f.isElement(t)&&e.api.isBlock(t)}),y=v&&m&&!g.equals(v[1],m[1]),b=g.equals(p.path,h.path),E=u?null:null!=(t=e.api.void({at:p,mode:"highest"}))?t:e.api.elementReadOnly({at:p,mode:"highest"}),N=u?null:null!=(i=e.api.void({at:h,mode:"highest"}))?i:e.api.elementReadOnly({at:h,mode:"highest"});if(E){let t=e.api.before(p);t&&v&&g.isAncestor(v[1],t.path)&&(p=t)}if(N){let t=e.api.after(h);t&&m&&g.isAncestor(m[1],t.path)&&(h=t)}let x=[];for(let t of e.api.nodes({at:r,voids:u})){let[n,r]=t;(!l||0!==g.compare(r,l))&&(!u&&f.isElement(n)&&e.api.isElementReadOnly(n)||!g.isCommon(r,p.path)&&!g.isCommon(r,h.path))&&(x.push(t),l=r)}let w=Array.from(x,t=>{let[,n]=t;return e.api.pathRef(n)}),O=e.api.pointRef(p),S=e.api.pointRef(h),C="";if(!b&&!E){let t=O.current,[n]=e.api.leaf(t),{path:r}=t,{offset:i}=p,l=n.text.slice(i);l.length>0&&(e.tf.apply({offset:i,path:r,text:l,type:"remove_text"}),C=l)}for(let t of w.reverse().map(e=>e.unref()).filter(e=>null!==e))e.tf.removeNodes({at:t,voids:u});if(!N){let t=S.current,[n]=e.api.leaf(t),{path:r}=t,i=b?p.offset:0,l=n.text.slice(i,h.offset);l.length>0&&(e.tf.apply({offset:i,path:r,text:l,type:"remove_text"}),C=l)}!b&&y&&S.current&&O.current&&e.tf.mergeNodes({at:S.current,hanging:!0,reverse:!o,voids:u}),c&&o&&"character"===s&&C.length>1&&tm.exec(C)&&e.tf.insertText(C.slice(0,C.length-a));let T=O.unref(),P=S.unref(),R=o?T||P:P||T;(null==n?void 0:n.at)==null&&R&&e.tf.select(R)})},tb=e=>{(0,o.wm)(e)},tk=(e,t,n)=>{(0,o.Cc)(e,t,(0,i._)((0,r._)({},n),{at:U(e,null==n?void 0:n.at)}))},t_=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[r={}]=[n],{nextBlock:i,removeEmpty:a}=r,s=(0,l._)(r,["nextBlock","removeEmpty"]);s=K(e,s),e.tf.withoutNormalizing(()=>{if(a){let t=e.api.above({at:s.at});if(t){let n=!0===a?{allow:["p"]}:a,{filter:r}=n;n.filter=t=>{let[n,i]=t;return!(v.string(n)||n.children.some(t=>e.api.isInline(t)))&&(!r||r([n,i]))},eN(t,n)&&(e.tf.removeNodes({at:t[1]}),i=!1)}}if(i){let{at:t=e.selection}=s;if(t){let n=e.api.end(t),r=e.api.above({at:n,block:!0});r&&(s.at=g.next(r[1]))}}(0,o.pW)(e,t,s)})},tE=e=>{e.tf.withoutNormalizing(()=>{e.api.isExpanded()&&e.tf.delete(),e.tf.insertText("\n")})},tN=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[a={}]=[n],{marks:s=!0}=a,u=(0,l._)(a,["marks"]),d=U(e,u.at);if(d)return void o.gB.insertText(e,t,(0,i._)((0,r._)({},u),{at:d}));if(e.selection)if(s&&e.marks){let n=(0,r._)({text:t},e.marks);e.tf.insertNodes(n,{voids:u.voids}),e.marks=null}else o.gB.insertText(e,t,u)},tx=(e,t)=>(0,o.fL)(e,K(e,t)),tw=(e,t)=>f.isElement(t)?!!e.api.isVoid(t)||1===t.children.length&&tw(e,t.children[0]):!v.isEditor(t),tO=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=K(e,t);e.tf.withoutNormalizing(()=>{let t,r,{at:i=e.selection,match:a}=n,{hanging:o=!1,mode:s="lowest",voids:u=!1}=n;if(!i)return;if(null==a)if(g.isPath(i)){let[t]=e.api.parent(i);a=e=>t.children.includes(e)}else a=t=>f.isElement(t)&&e.api.isBlock(t);if(!o&&k.isRange(i)&&(i=e.api.unhangRange(i)),k.isRange(i))if(k.isCollapsed(i))i=i.anchor;else{let[,t]=k.edges(i),r=e.api.pointRef(t);e.tf.delete({at:i}),i=r.unref(),null==n.at&&e.tf.select(i)}let[d]=Array.from(e.api.nodes({at:i,match:a,mode:s,voids:u})),c=e.api.previous({at:i,match:a,mode:s,voids:u});if(!d||!c)return;let[p,v]=d,[m,y]=c;if(0===v.length||0===y.length)return;let b=g.next(y),_=g.common(v,y),E=g.isSibling(v,y),N=new Set(Array.from(e.api.levels({at:v}),e=>{let[t]=e;return t}).slice(_.length).slice(0,-1)),x=e.api.above({at:v,mode:"highest",match:t=>N.has(t)&&tw(e,t)}),w=x&&e.api.pathRef(x[1]);if(h.isText(p)&&h.isText(m)){let{text:e}=p,n=(0,l._)(p,["text"]);r=m.text.length,t=n}else if(f.isElement(p)&&f.isElement(m)){let{children:e}=p,n=(0,l._)(p,["children"]);r=m.children.length,t=n}else throw TypeError("Cannot merge the node at path [".concat(v,"] with the previous sibling because it is not the same kind: ").concat(JSON.stringify(p)," ").concat(JSON.stringify(m)));e.api.shouldMergeNodes(c,d,{reverse:n.reverse})&&(E||e.tf.moveNodes({at:v,to:b,voids:u}),w&&e.tf.removeNodes({at:w.current,event:{type:"mergeNodes"},voids:u}),w&&w.unref(),e.tf.apply({path:b,position:r,properties:t,type:"merge_node"}))})},tS=(e,t)=>{let{children:n,fromIndex:a=0}=t,s=K(e,(0,l._)(t,["children","fromIndex"])),u=!1;if(n){if(!s.at)return u;let t=e.api.node(s.at);if(!t)return u;let[n,l]=t;if(!e.api.isBlock(n))return u;for(let t=n.children.length-1;t>=a;t--){let n=[...l,t],a=v.get(e,n);(!s.match||a&&s.match(a,n))&&((0,o.z7)(e,(0,i._)((0,r._)({},s),{at:n})),u=!0)}return u}return(0,o.z7)(e,s)},tC=(e,t)=>{(0,o.Cy)(e,t)},tT=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[n={}]=[t],{children:a,previousEmptyBlock:s}=n,u=K(e,(0,l._)(n,["children","previousEmptyBlock"]));e.tf.withoutNormalizing(()=>{if(s){let t=e.api.block({at:u.at});if(!t)return;let n=e.api.previous({at:t[1],sibling:!0});if(!n)return;let[r,i]=n;e.api.isEmpty(r)&&e.tf.removeNodes({at:i});return}if(a&&u.at){for(let[,t]of v.children(e,u.at,{reverse:!0}))e.tf.removeNodes((0,i._)((0,r._)({},u),{at:t}));return}return(0,o.if)(e,K(e,u))})},tP=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[a={}]=[n],{marks:s}=a,u=(0,l._)(a,["marks"]);if(s){var d;let n=null!=(d=U(e,u.at))?d:e.selection;if(!n||(g.isPath(n)&&(n=e.api.range(n)),!k.isRange(n)))return;let l=(t,n)=>{if(!h.isText(t))return!1;let r=e.api.parent(n);if(!r)return!1;let[i]=r;return!e.api.isVoid(i)||e.api.markableVoid(i)},a=k.isExpanded(n),s=!1;if(!a){let t=e.api.node(n);if(!t)return;let[r,i]=t;if(r&&l(r,i)){let t=e.api.parent(i);if(!t)return;let[n]=t;s=n&&e.api.markableVoid(n)}}if(a||s)return(0,o.CU)(e,t,K(e,(0,i._)((0,r._)({},u),{at:n,match:l,split:!0,voids:!0})))}return(0,o.CU)(e,t,K(e,u))},tR=(e,t,n)=>{(0,o.rO)(e,t,n)},tM=(e,t)=>{(0,o.td)(e,t)},tA=(e,t)=>(0,o.M$)(e,K(e,t)),tB=(e,t,n)=>(0,o.Xs)(e,t,K(e,n)),tI=(e,t)=>{(0,o.F7)(e,K(e,t))},tz=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[a={}]=[n],{children:s}=a,u=K(e,(0,l._)(a,["children"]));if(u.at&&(u.at=e.api.unhangRange(u.at,u)),s){let n=e.api.path(u.at);if(!n)return;let l=v.get(e,n);if(!(null==l?void 0:l.children))return;e.tf.withoutNormalizing(()=>{let a=g.firstChild(n);(0,o.UO)(e,t,(0,i._)((0,r._)({},u),{at:a})),l.children.length>1&&e.tf.moveNodes({at:n,children:!0,fromIndex:1,to:g.child(a,1)})});return}(0,o.UO)(e,t,u)},tD=function(e,t){let{remove:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.selection&&e.tf.withoutNormalizing(()=>{e.tf.removeMarks([...d(n),...Object.keys(t)]),Object.entries(t).forEach(t=>{let[n,r]=t;e.tf.addMark(n,r)})})},tj=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[i={}]=[n],{block:a,nodes:o}=i,s=(0,l._)(i,["block","nodes"]),u=null!=(t=U(e,s.at))?t:e.selection;if(!o)return;let d=null!=o?o:u&&a?e.api.blocks({at:u}):[];if(0===d.length)return;let c=d.at(-1),p=g.next(c[1]),f=d.map(e=>{let[t]=e;return t});e.tf.insertNodes(f,(0,r._)({at:p},s))},tL=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[i={}]=[n],{at:a,shouldChange:o=!0}=i,s=(0,l._)(i,["at","shouldChange"]),u=null!=a?a:e.selection;if(!u)return;let c=(t,n)=>{if(!h.isText(t))return!1;let[r]=e.api.parent(n);return!e.api.isVoid(r)||e.api.markableVoid(r)},p=k.isExpanded(u),f=!1;if(!p){let[t,n]=e.api.node(u);if(t&&c(t,n)){let[t]=e.api.parent(n);f=t&&e.api.markableVoid(t)}}if(t&&(p||f)){let n=d(t);e.tf.unsetNodes(n,(0,r._)({at:u,match:c,split:!0,voids:!0},s))}else if(!a){let n=(0,r._)({},e.api.marks());t?(d(t).forEach(e=>{delete n[e]}),e.marks=n):e.marks={},o&&e.api.onChange()}},tF=(e,t,n)=>{let{at:a,children:o,removeNodes:s}=n,u=(0,l._)(n,["at","children","removeNodes"]);e.tf.withoutNormalizing(()=>{if(o){if(!a)return;a=U(e,a);let n=e.api.path(a);n&&(e.tf.removeNodes((0,i._)((0,r._)({},s),{at:n,children:!0})),e.tf.insertNodes(t,(0,i._)((0,r._)({},u),{at:n.concat([0])})))}else e.tf.removeNodes((0,i._)((0,r._)({},s),{at:a})),e.tf.insertNodes(t,(0,i._)((0,r._)({},u),{at:a}))})},tV=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e.tf.replaceNodes(e.api.create.value(),(0,r._)({at:[],children:!0},t)),!t.children){var n;e.operations=[],e.marks=null,(null==(n=e.history)?void 0:n.undos)&&(e.history.undos=[],e.history.redos=[])}},tW=function(e,t){var n,a;let o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,[s={}]=[o],{defaultType:u,someOptions:d,wrap:c}=s,p=(0,l._)(s,["defaultType","someOptions","wrap"]),f=null!=(n=p.at)?n:e.selection;if(!f)return;let g=e.api.some((0,i._)((0,r._)({at:f},d),{match:{type:t}}));if(c)return void(g?e.tf.unwrapNodes({at:f,match:{type:t}}):e.tf.wrapNodes({children:[],type:t},{at:f}));let h=null!=(a=null!=u?u:e.api.create.block().type)?a:"p";g&&t===h||e.tf.setNodes({type:g?h:t},(0,r._)({at:f},p))},t$=function(e,t){let{remove:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};e.selection&&e.tf.withoutNormalizing(()=>{e.api.hasMark(t)?e.tf.removeMark(t):(e.tf.removeMarks([...d(n),t]),e.tf.addMark(t,!0))})},tH=new WeakMap,tU=new WeakMap,tZ=new WeakMap,tq={isHistory:e=>(0,p.Q)(e)&&Array.isArray(e.redos)&&Array.isArray(e.undos)&&(0===e.redos.length||b.isOperationList(e.redos[0].operations))&&(0===e.undos.length||b.isOperationList(e.undos[0].operations)),isMerging:e=>tU.get(e),isSaving:e=>tH.get(e),isSplittingOnce:e=>tZ.get(e),redo(e){e.redo()},setSplittingOnce(e,t){tZ.set(e,t)},undo(e){e.undo()},withMerging(e,t){let n=e.api.isMerging();tU.set(e,!0),t(),tU.set(e,n)},withNewBatch(e,t){let n=e.api.isMerging();tU.set(e,!0),tZ.set(e,!0),t(),tU.set(e,n),tZ.delete(e)},withoutMerging(e,t){let n=e.api.isMerging();tU.set(e,!1),t(),tU.set(e,n)},withoutSaving(e,t){let n=e.api.isSaving();tH.set(e,!1),t(),tH.set(e,n)}},tK=(e,t)=>()=>(console.warn("[OVERRIDE_MISSING] The method editor.".concat(e,"() has not been implemented or overridden. This may cause unexpected behavior. Please ensure that all required editor methods are properly defined.")),t),tQ=function(){let{children:e,selection:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=(0,o.ie)();e&&(n.children=e),t&&(n.selection=t),Object.assign(n,{apply:(0,a.gv)(o.Bb,n),isElementReadOnly:n.isElementReadOnly,isInline:n.isInline,isSelectable:n.isSelectable,isVoid:n.isVoid,markableVoid:n.markableVoid,onChange:n.onChange}),Object.assign(n,{addMark:(0,a.gv)(X,n),deleteBackward:(0,a.gv)(er,n),deleteForward:(0,a.gv)(ei,n),deleteFragment:(0,a.gv)(el,n),getDirtyPaths:(0,a.gv)(o.PY,n),getFragment:(0,a.gv)(eT,n),insertBreak:(0,a.gv)(eF,n),insertFragment:(0,a.gv)(tk,n),insertNode:(0,a.gv)(eV,n),insertSoftBreak:(0,a.gv)(tE,n),insertText:(0,a.gv)(tN,n),normalizeNode:(0,a.gv)(eG,n),removeMark:(0,a.gv)(e1,n),shouldNormalize:(0,a.gv)(o.v1,n)}),Object.assign(n,{above:(0,a.gv)(J,n),after:(0,a.gv)(ef,n),before:(0,a.gv)(eg,n),collapse:(0,a.gv)(tv,n),delete:(0,a.gv)(ty,n),deselect:(0,a.gv)(tb,n),deselectDOM:(0,a.gv)(N,n),edges:(0,a.gv)(eO,n),elementReadOnly:(0,a.gv)(eH,n),end:(0,a.gv)(ec,n),first:(0,a.gv)(eC,n),fragment:(0,a.gv)(eT,n),getMarks:(0,a.gv)(eR,n),hasBlocks:(0,a.gv)(eD,n),hasInlines:(0,a.gv)(ej,n),hasPath:(0,a.gv)(o.a6,n),hasTexts:(0,a.gv)(eL,n),insertNodes:(0,a.gv)(t_,n),isBlock:(0,a.gv)(em,n),isEdge:(0,a.gv)(eW,n),isEmpty:(0,a.gv)(eU,n),isEnd:(0,a.gv)(eZ,n),isNormalizing:(0,a.gv)(e$,n),isStart:(0,a.gv)(eq,n),last:(0,a.gv)(eK,n),leaf:(0,a.gv)(ep,n),levels:(0,a.gv)(eP,n),liftNodes:(0,a.gv)(tx,n),mergeNodes:(0,a.gv)(tO,n),move:(0,a.gv)(tC,n),moveNodes:(0,a.gv)(tS,n),next:(0,a.gv)(eQ,n),node:(0,a.gv)(ex,n),nodes:(0,a.gv)(ey,n),normalize:(0,a.gv)(eY,n),parent:(0,a.gv)(eJ,n),path:(0,a.gv)(ew,n),pathRef:(0,a.gv)(ee,n),pathRefs:(0,a.gv)(eM,n),point:(0,a.gv)(eA,n),pointRef:(0,a.gv)(et,n),pointRefs:(0,a.gv)(eB,n),positions:(0,a.gv)(eI,n),previous:(0,a.gv)(eX,n),range:(0,a.gv)(e0,n),rangeRef:(0,a.gv)(en,n),rangeRefs:(0,a.gv)(ez,n),removeNodes:(0,a.gv)(tT,n),select:(0,a.gv)(ek,n),setNodes:(0,a.gv)(tP,n),setNormalizing:(0,a.gv)(o.b$,n),setPoint:(0,a.gv)(tR,n),setSelection:(0,a.gv)(tM,n),shouldMergeNodes:(0,a.gv)(e2,n),splitNodes:(0,a.gv)(tA,n),start:(0,a.gv)(eh,n),string:(0,a.gv)(eS,n),unhangRange:(0,a.gv)(e7,n),unsetNodes:(0,a.gv)(tB,n),unwrapNodes:(0,a.gv)(tI,n),void:(0,a.gv)(ev,n),withoutNormalizing:(0,a.gv)(eb,n),wrapNodes:(0,a.gv)(tz,n)}),Object.assign(n,{history:{redos:[],undos:[]},meta:{isNormalizing:!1},redo:tK("redo"),undo:tK("undo"),writeHistory:tK("writeHistory")}),Object.assign(n,{insertData:tK("insertData"),insertFragmentData:tK("insertFragmentData",!1),insertTextData:tK("insertTextData",!1),setFragmentData:tK("setFragmentData")});let i={block:(0,a.gv)(e4,n),blocks:(0,a.gv)(e5,n),create:{block:e=>(0,r._)({children:[{text:""}],type:"p"},e),value:()=>[i.create.block()]},descendant:(0,a.gv)(e8,n),edgeBlocks:(0,a.gv)(e9,n),findDocumentOrShadowRoot:(0,a.gv)(x,n),findEventRange:(0,a.gv)(w,n),findKey:(0,a.gv)(O,n),findPath:(0,a.gv)(S,n),getWindow:(0,a.gv)(T,n),hasDOMNode:(0,a.gv)(P,n),hasEditableTarget:(0,a.gv)(R,n),hasMark:(0,a.gv)(e3,n),hasRange:(0,a.gv)(M,n),hasSelectableTarget:(0,a.gv)(A,n),hasTarget:(0,a.gv)(B,n),isAt:(0,a.gv)(tn,n),isComposing:(0,a.gv)(I,n),isEditorEnd:(0,a.gv)(tr,n),isFocused:(0,a.gv)(z,n),isMerging:(0,a.gv)(tq.isMerging,n),isReadOnly:(0,a.gv)(D,n),isSaving:(0,a.gv)(tq.isSaving,n),isSelected:(0,a.gv)(te,n),isSplittingOnce:(0,a.gv)(tq.isSplittingOnce,n),isTargetInsideNonReadonlyVoid:(0,a.gv)(j,n),isText:(0,a.gv)(ti,n),mark:(0,a.gv)(e6,n),nodesRange:(0,a.gv)(tl,n),prop:ta,scrollIntoView:(0,a.gv)(tg,n),some:(0,a.gv)(th,n),toDOMNode:(0,a.gv)(L,n),toDOMPoint:(0,a.gv)(F,n),toDOMRange:(0,a.gv)(V,n),toSlateNode:(0,a.gv)(W,n),toSlatePoint:(0,a.gv)($,n),toSlateRange:(0,a.gv)(H,n),isCollapsed:()=>k.isCollapsed(n.selection),isExpanded:()=>k.isExpanded(n.selection),shouldNormalizeNode:()=>!0},l={addMarks:(0,a.gv)(tD,n),blur:(0,a.gv)(E,n),deselectDOM:(0,a.gv)(N,n),duplicateNodes:(0,a.gv)(tj,n),focus:(0,a.gv)(C,n),removeMarks:(0,a.gv)(tL,n),replaceNodes:(0,a.gv)(tF,n),reset:(0,a.gv)(tV,n),setSplittingOnce:(0,a.gv)(tq.setSplittingOnce,n),toggleBlock:(0,a.gv)(tW,n),toggleMark:(0,a.gv)(t$,n),withMerging:(0,a.gv)(tq.withMerging,n),withNewBatch:(0,a.gv)(tq.withNewBatch,n),withoutMerging:(0,a.gv)(tq.withoutMerging,n),withoutSaving:(0,a.gv)(tq.withoutSaving,n),escape:()=>!1,moveLine:()=>!1,selectAll:()=>!1,tab:()=>!1};return n.api=i,n.tf=l,n.transforms=l,ed(n),n},tY=e=>{let{apply:t}=e;return e.history={redos:[],undos:[]},e.redo=()=>{let{history:t}=e,{redos:n}=t;if(n.length>0){let r=n.at(-1);r.selectionBefore&&e.tf.setSelection(r.selectionBefore),e.tf.withoutSaving(()=>{e.tf.withoutNormalizing(()=>{for(let t of r.operations)e.apply(t)})}),t.redos.pop(),e.writeHistory("undos",r)}},e.undo=()=>{let{history:t}=e,{undos:n}=t;if(n.length>0){let r=n.at(-1);e.tf.withoutSaving(()=>{e.tf.withoutNormalizing(()=>{for(let t of r.operations.map(b.inverse).reverse())e.apply(t);r.selectionBefore&&e.tf.setSelection(r.selectionBefore)})}),e.writeHistory("redos",r),t.undos.pop()}},e.apply=n=>{let{history:r,operations:i}=e,{undos:l}=r,a=l.at(-1),o=null==a?void 0:a.operations.at(-1),s=e.api.isSaving(),u=e.api.isMerging();if(null==s&&(s=tJ(n,o)),s){if(null==u&&(u=null!=a&&(i.length>0||tG(n,o))),e.api.isSplittingOnce()&&(u=!1,e.tf.setSplittingOnce(void 0)),a&&u)a.operations.push(n);else{let t={operations:[n],selectionBefore:e.selection};e.writeHistory("undos",t)}for(;l.length>100;)l.shift();r.redos=[]}t(n)},e.writeHistory=(t,n)=>{e.history[t].push(n)},e},tG=(e,t)=>!!(t&&"insert_text"===e.type&&"insert_text"===t.type&&e.offset===t.offset+t.text.length&&g.equals(e.path,t.path)||t&&"remove_text"===e.type&&"remove_text"===t.type&&e.offset+e.text.length===t.offset&&g.equals(e.path,t.path)),tJ=(e,t)=>"set_selection"!==e.type},50357:(e,t,n)=>{n.d(t,{Bt:()=>M,G:()=>eb,Gt:()=>S,Ht:()=>P,J:()=>ev,Kt:()=>w,Pt:()=>H,Rt:()=>B,Ut:()=>R,Y:()=>eh,Z:()=>eg,a:()=>eU,dt:()=>en,f:()=>eD,g:()=>eB,ht:()=>X,mt:()=>ee,n:()=>eq,pt:()=>et,qt:()=>O,s:()=>eW,t:()=>eK,tt:()=>ed,ut:()=>er,vt:()=>G,wt:()=>Y,zt:()=>A});var r=n(99019),i=n(5147),l=n(15457),a=n(14796),o=n(80958),s=n(81993),u=n(2498),d=n(99588),c=n(16033),p=n(16408),f=n(11218),g=n(67725),h=n(42113),v=n(49844),m=n(83751),y=n(91188),b=n(98540),k=n(78048),_=n(65459),E=n(91579);function N(e){return"function"==typeof e}function x(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return p({},e,...n,(e,t,n)=>Array.isArray(t)?t:"options"===n?(0,r._)({},e,t):void 0)}function w(){var e;let t,n,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};N(l)?(t={key:""},n=e=>l(e)):t=l;let a=null!=(e=t.key)?e:"",o=x({key:a,__apiExtensions:[],__configuration:null,__extensions:n?[n]:[],__selectorExtensions:[],api:{},dependencies:[],editor:{},handlers:{},inject:{},node:{type:a},options:{},override:{},parser:{},parsers:{},plugins:[],priority:100,render:{},rules:{},shortcuts:{},transforms:{}},l);return o.node.isLeaf&&!(0,u.O9)(o.node.isDecoration)&&(o.node.isDecoration=!0),o.configure=e=>{let t=(0,r._)({},o);return t.__configuration=t=>N(e)?e(t):e,w(t)},o.configurePlugin=(e,t)=>{let n=(0,r._)({},o),l=n=>{let a=!1,o=n.map(n=>{if(n.key===e.key)return a=!0,w((0,i._)((0,r._)({},n),{__configuration:e=>N(t)?t(e):t}));if(n.plugins&&n.plugins.length>0){let e=l(n.plugins);if(e.found)return a=!0,(0,i._)((0,r._)({},n),{plugins:e.plugins})}return n});return{found:a,plugins:o}};return n.plugins=l(n.plugins).plugins,w(n)},o.extendEditorApi=e=>{let t=(0,r._)({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1}],w(t)},o.extendSelectors=e=>{let t=(0,r._)({},o);return t.__selectorExtensions=[...t.__selectorExtensions,e],w(t)},o.extendApi=e=>{let t=(0,r._)({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0}],w(t)},o.extendEditorTransforms=e=>{let t=(0,r._)({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!1,isTransform:!0}],w(t)},o.extendTransforms=e=>{let t=(0,r._)({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isPluginSpecific:!0,isTransform:!0}],w(t)},o.overrideEditor=e=>{let t=(0,r._)({},o);return t.__apiExtensions=[...t.__apiExtensions,{extension:e,isOverride:!0,isPluginSpecific:!1,isTransform:!0}],w(t)},o.extend=e=>{let t=(0,r._)({},o);return N(e)?t.__extensions=[...t.__extensions,e]:t=x(t,e),w(t)},o.clone=()=>x(o),o.extendPlugin=(e,t)=>{let n=(0,r._)({},o),l=n=>{let a=!1,o=n.map(n=>{if(n.key===e.key)return a=!0,w((0,i._)((0,r._)({},n),{__extensions:[...n.__extensions,e=>N(t)?t(e):t]}));if(n.plugins&&n.plugins.length>0){let e=l(n.plugins);if(e.found)return a=!0,(0,i._)((0,r._)({},n),{plugins:e.plugins})}return n});return{found:a,plugins:o}},a=l(n.plugins);return n.plugins=a.plugins,a.found||n.plugins.push(w({key:e.key,__extensions:[e=>N(t)?t(e):t]})),w(n)},o.withComponent=e=>o.extend({node:{component:e},render:{node:e}}),o}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return w(e)}function S(e,t){let n=e.getPlugin(t);return{api:e.api,editor:e,plugin:n,setOption:(t,r)=>e.setOption(n,t,r),setOptions:t=>e.setOptions(n,t),tf:e.transforms,type:n.node.type,getOption:function(t){for(var r=arguments.length,i=Array(r>1?r-1:0),l=1;l<r;l++)i[l-1]=arguments[l];return e.getOption(n,t,...i)},getOptions:()=>e.getOptions(n)}}let C=(e,t)=>{var n,l,a,o;let s=x({},t);if(s.__resolved=!0,s.__configuration){let t=s.__configuration(S(e,s));(s=x(s,t)).__configuration=void 0}if(s.__extensions&&s.__extensions.length>0){for(let t of s.__extensions)s=x(s,t(S(e,s)));s.__extensions=[]}let u=null==(n=s.inject)?void 0:n.targetPluginToInject,c=null==(l=s.inject)?void 0:l.targetPlugins;return u&&c&&c.length>0&&(s.inject=s.inject||{},s.inject.plugins=d({},s.inject.plugins,Object.fromEntries(c.map(t=>[t,u((0,i._)((0,r._)({},S(e,s)),{targetPlugin:t}))])))),(null==(a=s.node)?void 0:a.component)&&(s.render.node=s.node.component),(null==(o=s.render)?void 0:o.node)&&(s.node.component=s.render.node),T(e,s),s},T=(e,t)=>{t.__extensions||e.api.debug.error("Invalid plugin '".concat(t.key,"', you should use createSlatePlugin."),"USE_CREATE_PLUGIN"),t.node.isElement&&t.node.isLeaf&&e.api.debug.error("Plugin ".concat(t.key," cannot be both an element and a leaf."),"PLUGIN_NODE_TYPE")};function P(e,t){var n,r;let i=e.getPlugin({key:t});return null!=(n=null!=(r=i.node.type)?r:i.key)?n:""}let R=(e,t)=>t.map(t=>e.getType(t)),M=(e,t)=>e.meta.pluginCache.node.types[t],A=(e,t)=>{let n=M(e,t);return n?e.getPlugin({key:n}):null},B=e=>R(e,e.meta.pluginCache.node.isContainer),I=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.H$;e.plugins={},e.meta.pluginList=[],e.meta.shortcuts={},e.meta.components={},e.meta.pluginCache={decorate:[],handlers:{onChange:[],onNodeChange:[],onTextChange:[]},inject:{nodeProps:[]},node:{isContainer:[],isLeaf:[],isText:[],leafProps:[],textProps:[],types:{}},normalizeInitialValue:[],render:{aboveEditable:[],aboveNodes:[],aboveSlate:[],afterContainer:[],afterEditable:[],beforeContainer:[],beforeEditable:[],belowNodes:[],belowRootNodes:[]},rules:{match:[]},useHooks:[]};let r=L(e,t);return F(e,r),V(e),z(e,n),e.meta.pluginList.forEach(t=>{var n,r,i,l,o,s,u,d,c,p;t.extendEditor&&(e=t.extendEditor(S(e,t)),(0,a.lw)(e)),D(e,t),(null==(n=t.node)?void 0:n.isContainer)&&e.meta.pluginCache.node.isContainer.push(t.key),e.meta.pluginCache.node.types[t.node.type]=t.key,(null==(r=t.inject)?void 0:r.nodeProps)&&e.meta.pluginCache.inject.nodeProps.push(t.key),(null==(i=t.render)?void 0:i.node)&&(e.meta.components[t.key]=t.render.node),(null==(l=t.node)?void 0:l.isLeaf)&&((null==(o=t.node)?void 0:o.isDecoration)===!0||t.render.leaf)&&e.meta.pluginCache.node.isLeaf.push(t.key),t.node.isLeaf&&!1===t.node.isDecoration&&e.meta.pluginCache.node.isText.push(t.key),(null==(s=t.node)?void 0:s.leafProps)&&e.meta.pluginCache.node.leafProps.push(t.key),t.node.textProps&&e.meta.pluginCache.node.textProps.push(t.key),t.render.aboveEditable&&e.meta.pluginCache.render.aboveEditable.push(t.key),t.render.aboveSlate&&e.meta.pluginCache.render.aboveSlate.push(t.key),t.render.afterEditable&&e.meta.pluginCache.render.afterEditable.push(t.key),t.render.beforeEditable&&e.meta.pluginCache.render.beforeEditable.push(t.key),(null==(u=t.rules)?void 0:u.match)&&e.meta.pluginCache.rules.match.push(t.key),t.render.afterContainer&&e.meta.pluginCache.render.afterContainer.push(t.key),t.render.beforeContainer&&e.meta.pluginCache.render.beforeContainer.push(t.key),t.render.belowRootNodes&&e.meta.pluginCache.render.belowRootNodes.push(t.key),t.normalizeInitialValue&&e.meta.pluginCache.normalizeInitialValue.push(t.key),t.decorate&&e.meta.pluginCache.decorate.push(t.key),t.render.aboveNodes&&e.meta.pluginCache.render.aboveNodes.push(t.key),t.render.belowNodes&&e.meta.pluginCache.render.belowNodes.push(t.key),t.useHooks&&e.meta.pluginCache.useHooks.push(t.key),(null==(d=t.handlers)?void 0:d.onChange)&&e.meta.pluginCache.handlers.onChange.push(t.key),(null==(c=t.handlers)?void 0:c.onNodeChange)&&e.meta.pluginCache.handlers.onNodeChange.push(t.key),(null==(p=t.handlers)?void 0:p.onTextChange)&&e.meta.pluginCache.handlers.onTextChange.push(t.key)}),j(e),e},z=(e,t)=>{e.meta.pluginList.forEach(n=>{let r=t(n.options,{mutative:!0,name:n.key});n.__selectorExtensions&&n.__selectorExtensions.length>0&&n.__selectorExtensions.forEach(t=>{let i=t(S(e,n));r=r.extendSelectors(()=>i)}),n.optionsStore=r})},D=(e,t)=>{Object.entries(t.api).forEach(t=>{let[n,r]=t;e.api[n]=r}),t.__apiExtensions&&t.__apiExtensions.length>0&&(t.__apiExtensions.forEach(n=>{let{extension:r,isOverride:i,isPluginSpecific:l,isTransform:o}=n,s=r(S(e,t));i?(s.api&&(d(e.api,s.api),d(t.api,s.api),(0,a.vv)(e,e.api)),s.transforms&&(d(e.transforms,s.transforms),d(t.transforms,s.transforms),(0,a.MO)(e,s.transforms))):o?l?(e.transforms[t.key]||(e.transforms[t.key]={}),t.transforms[t.key]||(t.transforms[t.key]={}),d(e.transforms[t.key],s),d(t.transforms[t.key],s)):(d(e.transforms,s),d(t.transforms,s),(0,a.MO)(e,s)):l?(e.api[t.key]||(e.api[t.key]={}),t.api[t.key]||(t.api[t.key]={}),d(e.api[t.key],s),d(t.api[t.key],s)):(d(e.api,s),d(t.api,s),(0,a.vv)(e,e.api))}),t.__apiExtensions=void 0)},j=e=>{e.meta.shortcuts={},e.meta.pluginList.forEach(t=>{Object.entries(t.shortcuts).forEach(n=>{let[i,l]=n,a="".concat(t.key,".").concat(i);if(null===l)delete e.meta.shortcuts[a];else if(l&&"object"==typeof l){var o,s,u;let n=(0,r._)({},l);if(!n.handler){let e=null==(s=t.transforms)?void 0:s[t.key],r=null==(u=t.api)?void 0:u[t.key];(null==e?void 0:e[i])?n.handler=()=>e[i]():(null==r?void 0:r[i])&&(n.handler=()=>r[i]())}n.priority=null!=(o=n.priority)?o:t.priority,e.meta.shortcuts[a]=n}})})},L=(e,t)=>{let n,r,i=(n=new Map,r=t=>{let i=C(e,t);if(i.key){let e=n.get(i.key);e?n.set(i.key,x(e,i)):n.set(i.key,i)}i.plugins&&i.plugins.length>0&&i.plugins.forEach(r)},t.forEach(r),n),l=Array.from(i.values()).filter(e=>!1!==e.enabled);l.sort((e,t)=>t.priority-e.priority);let a=[],o=new Set,s=t=>{var n;o.has(t.key)||(o.add(t.key),null==(n=t.dependencies)||n.forEach(n=>{let r=i.get(n);r?s(r):e.api.debug.warn('Plugin "'.concat(t.key,'" depends on missing plugin "').concat(n,'"'),"PLUGIN_DEPENDENCY_MISSING")}),a.push(t))};return l.forEach(s),a},F=(e,t)=>{e.meta.pluginList=t,e.plugins=Object.fromEntries(t.map(e=>[e.key,e]))},V=e=>{let t=e=>{let n=[...e],l={},a={},o={};for(let t of e)t.override.enabled&&Object.assign(l,t.override.enabled),t.override.components&&Object.entries(t.override.components).forEach(e=>{let[n,r]=e;(!a[n]||t.priority>a[n].priority)&&(a[n]={component:r,priority:t.priority})}),t.override.plugins&&Object.entries(t.override.plugins).forEach(e=>{let[t,n]=e;o[t]=x(o[t],n),void 0!==n.enabled&&(l[t]=n.enabled)});return(n=n.map(e=>{var t;let n=(0,r._)({},e);o[e.key]&&(n=x(n,o[e.key])),a[e.key]&&(!e.render.node&&!e.node.component||a[e.key].priority>e.priority)&&(n.render.node=a[e.key].component,n.node.component=a[e.key].component);let i=null!=(t=l[e.key])?t:n.enabled;return(0,u.O9)(i)&&(n.enabled=i),n})).filter(e=>!1!==e.enabled).map(e=>(0,i._)((0,r._)({},e),{plugins:t(e.plugins||[])}))};e.meta.pluginList=t(e.meta.pluginList),e.plugins=Object.fromEntries(e.meta.pluginList.map(e=>[e.key,e]))},W=w({key:"ast",parser:{format:"application/x-slate-fragment",deserialize:e=>{let t,{data:n}=e,r=decodeURIComponent(window.atob(n));try{t=JSON.parse(r)}catch(e){}return t}}}),$=w({key:"history",extendEditor:e=>{let{editor:t}=e;return(0,a.$k)(t)}}),H=w({key:"p",node:{isElement:!0},parsers:{html:{deserializer:{rules:[{validNodeName:"P"}],query:e=>{let{element:t}=e;return"Consolas"!==t.style.fontFamily}}}},rules:{merge:{removeEmpty:!0}}}),U=w({key:"override"}).overrideEditor(e=>{let{api:{isInline:t,isSelectable:n,isVoid:i,markableVoid:l},editor:a}=e;return{api:{create:{block:e=>(0,r._)({children:[{text:""}],type:a.getType(H.key)},e)},isInline(e){var n;return null!=(n=A(a,e.type))&&!!n.node.isInline||t(e)},isSelectable(e){var t;return(null==(t=A(a,e.type))?void 0:t.node.isSelectable)!==!1&&n(e)},isVoid(e){var t;return null!=(t=A(a,e.type))&&!!t.node.isVoid||i(e)},markableVoid(e){var t;return null!=(t=A(a,e.type))&&!!t.node.isMarkableVoid||l(e)}}}}).overrideEditor(e=>{let{editor:t,tf:{insertBreak:n}}=e,l=(n,l,a)=>{for(let d of t.meta.pluginCache.rules.match){var o,s,u;let c=t.getPlugin({key:d});if((null==(o=c.rules)?void 0:o.break)&&(null==(u=c.rules)||null==(s=u.match)?void 0:s.call(u,(0,i._)((0,r._)({},e),{node:l,path:a,rule:n}))))return c.rules.break}return null},o=(e,n)=>"reset"===e?(t.tf.resetBlock({at:n}),!0):"exit"===e?(t.tf.insertExitBreak(),!0):"deleteExit"===e?(t.tf.deleteBackward("character"),t.tf.insertExitBreak(),!0):"lineBreak"===e&&(t.tf.insertSoftBreak(),!0);return{transforms:{insertBreak(){if(t.selection&&t.api.isCollapsed()){let c=t.api.block();if(c){var e,r,i,s,u,d;let[p,f]=c,g=null==(r=A(t,p.type))?void 0:r.rules.break;if(t.api.isEmpty(t.selection,{block:!0})&&o(null==(u=l("break.empty",p,f)||g)?void 0:u.empty,f))return;if(!t.api.isEmpty(t.selection,{block:!0})&&t.api.isAt({end:!0})){let e=t.api.range("before",t.selection);if(e&&"\n"===t.api.string(e)&&o(null==(d=l("break.emptyLineEnd",p,f)||g)?void 0:d.emptyLineEnd,f))return}if(o(null==(i=l("break.default",p,f)||g)?void 0:i.default,f))return;if(null!=(e=null==(s=l("break.splitReset",p,f))?void 0:s.splitReset)?e:null==g?void 0:g.splitReset){let e=t.api.isAt({start:!0});n(),t.tf.resetBlock({at:e?f:a.s2.next(f)});return}}}n()}}}}).overrideEditor(e=>{let{editor:t,tf:{deleteBackward:n,deleteForward:l,deleteFragment:o}}=e,s=()=>{t.api.isAt({start:!0})&&t.tf.removeMarks()},u=(n,l,a)=>{for(let d of t.meta.pluginCache.rules.match){var o,s,u;let c=t.getPlugin({key:d});if((null==(o=c.rules)?void 0:o.delete)&&(null==(u=c.rules)||null==(s=u.match)?void 0:s.call(u,(0,i._)((0,r._)({},e),{node:l,path:a,rule:n}))))return c.rules.delete}return null},d=(e,n)=>"reset"===e&&(t.tf.resetBlock({at:n}),!0);return{transforms:{deleteBackward(e){if(t.selection&&t.api.isCollapsed()){let e=t.api.block();if(e){var r,i,l;let[n,a]=e,o=null==(r=A(t,n.type))?void 0:r.rules.delete;if(t.api.isAt({start:!0})&&d(null==(i=u("delete.start",n,a)||o)?void 0:i.start,a)||t.api.isEmpty(t.selection,{block:!0})&&d(null==(l=u("delete.empty",n,a)||o)?void 0:l.empty,a))return}if(a.LQ.equals(t.selection.anchor,t.api.start([])))return void t.tf.resetBlock({at:[0]})}n(e),s()},deleteForward(e){l(e),s()},deleteFragment(e){t.selection&&a.Cb.equals(t.selection,t.api.range([]))?t.tf.reset({children:!0,select:!0}):(o(e),s())}}}}).overrideEditor(e=>{let{editor:t,tf:{removeNodes:n}}=e,l=(n,l,a)=>{for(let u of t.meta.pluginCache.rules.match){var o,s;let d=t.getPlugin({key:u});if(d.rules.merge&&(null==(s=d.rules)||null==(o=s.match)?void 0:o.call(s,(0,i._)((0,r._)({},e),{node:l,path:a,rule:n}))))return d.rules.merge}return null};return{api:{shouldMergeNodes(e,n){let{reverse:r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},[i,o]=e,[,s]=n,[u,d]=r?e:n,[c,p]=r?n:e;if(a.Qg.isText(i)&&""===i.text&&0!==o.at(-1))return t.tf.removeNodes({at:o}),!1;let f=(e,n)=>{var r,i;let a=A(t,e.type);return!a||!!(null==(r=a.rules.merge)?void 0:r.removeEmpty)&&(null==(i=l("merge.removeEmpty",e,n))?void 0:i.removeEmpty)!==!1};return a.$7.isElement(c)&&t.api.isVoid(c)?(f(c,p)?t.tf.removeNodes({at:o}):a.$7.isElement(u)&&t.api.isEmpty(u)&&t.tf.removeNodes({at:d}),!1):!(a.$7.isElement(i)&&t.api.isEmpty(i)&&a.s2.isSibling(o,s)&&f(i,o))||(t.tf.removeNodes({at:o}),!1)}},transforms:{removeNodes(){var e,r;let i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if((null==(e=i.event)?void 0:e.type)==="mergeNodes"&&i.at){let e=t.api.node(i.at);if(e){let[n,i]=e;if(a.$7.isElement(n)){let e=A(t,n.type);if(e){let t=e.rules.merge;if((null==(r=l("merge.removeEmpty",n,i))?void 0:r.removeEmpty)===!1||(null==t?void 0:t.removeEmpty)===!1)return}}}}n(i)}}}}).overrideEditor(e=>{let{editor:t,tf:{normalizeNode:n}}=e;return{transforms:{normalizeNode(l){let[o,s]=l;if(a.$7.isElement(o)&&o.type){var u,d;let n=null==(u=A(t,o.type))?void 0:u.rules.normalize;if((null==(d=((n,l,a)=>{for(let d of t.meta.pluginCache.rules.match){var o,s,u;let c=t.getPlugin({key:d});if((null==(o=c.rules)?void 0:o.normalize)&&(null==(u=c.rules)||null==(s=u.match)?void 0:s.call(u,(0,i._)((0,r._)({},e),{node:l,path:a,rule:n}))))return c.rules.normalize}return null})("normalize.removeEmpty",o,s)||n)?void 0:d.removeEmpty)&&t.api.isEmpty(o))return void t.tf.removeNodes({at:s})}n([o,s])}}}}),Z=(e,t,n)=>{let{fragment:a}=n,o=(0,l._)(n,["fragment"]);e.tf.withoutNormalizing(()=>{t.some(t=>{var n,l;return(null==(l=t.parser)||null==(n=l.preInsert)?void 0:n.call(l,(0,r._)((0,i._)((0,r._)({},S(e,t)),{fragment:a}),o)))===!0}),e.tf.insertFragment(a)})},q=(e,t,n)=>{let{data:a}=n,o=(0,l._)(n,["data"]);return t.forEach(t=>{var n;let l=null==(n=t.parser)?void 0:n.transformData;l&&(a=l((0,r._)((0,i._)((0,r._)({},S(e,t)),{data:a}),o)))}),a},K=(e,t,n)=>{let{fragment:i}=n,a=(0,l._)(n,["fragment"]);return t.forEach(t=>{var n;let l=null==(n=t.parser)?void 0:n.transformFragment;l&&(i=l((0,r._)({fragment:i},a,S(e,t))))}),i},Q=e=>{let{apply:t,node:n,path:r=[],query:i,source:l}=e;(0,a.Jb)([n,r],i)&&("function"==typeof l?t(n,l()):t(n,l)),a.lZ.isAncestor(n)&&n.children.forEach((e,n)=>{Q({apply:t,node:e,path:r.concat([n]),query:i,source:l})})},Y=e=>"true"===e.dataset.slateString,G=e=>"true"===e.dataset.slateEditor,J=e=>"true"===e.dataset.slateLeaf||"element"===e.dataset.slateNode||"true"===e.dataset.slateVoid||Y(e)||"text"===e.dataset.slateNode,X=(e,t)=>(n,r)=>{let{inject:{excludeBelowPlugins:i,excludePlugins:l,isBlock:o,isElement:s,isLeaf:u,maxLevel:d,targetPlugins:c}}=t,p=a.$7.isElement(n)?n:void 0;if(s&&!p||o&&(!p||!e.api.isBlock(p))||u&&p||(null==p?void 0:p.type)&&((null==l?void 0:l.includes(M(e,p.type)))||c&&!c.includes(M(e,p.type))))return!1;if(i||d){if(d&&r.length>d)return!1;if(i){let t=i.map(t=>{var n;return null!=(n=M(e,t))?n:t}).filter(Boolean);if(e.api.above({at:r,match:e=>a.$7.isElement(e)&&t.includes(e.type)}))return!1}}return!0},ee=(e,t)=>{let n=[];return[...e.meta.pluginList].reverse().forEach(e=>{var r;let i=null==(r=e.inject.plugins)?void 0:r[t.key];i&&n.push(i)}),[t,...n]},et=e=>"data-slate-".concat(g(e)),en=e=>{var t,n;let{attributes:l,node:o,plugin:s,props:u}=e,d=(0,i._)((0,r._)({},u),{attributes:(0,r._)({},u.attributes)});if(null==s?void 0:s.node.props){let e=null!=(n="function"==typeof s.node.props?s.node.props(d):s.node.props)?n:{};d.attributes=(0,r._)({},d.attributes,e)}return l&&s&&(d.attributes=(0,r._)({},d.attributes,h(l,...null!=(t=s.node.dangerouslyAllowAttributes)?t:[],[...o?Object.keys(o).filter(e=>"object"!=typeof o[e]&&(!a.Qg.isText(o)||"text"!==e)).map(e=>et(e)):[]]))),Object.keys(d.attributes).forEach(e=>{var t,n;(null==(t=d.attributes)?void 0:t[e])===void 0&&(null==(n=d.attributes)||delete n[e])}),d},er=e=>e?"slate-".concat(e):"",ei=e=>{var t;if(!e.api.isCollapsed())return null;let n=e.selection.anchor,r=e.api.range(n.path);if(!r)return null;let i=e.api.isStart(n,r)?"start":e.api.isEnd(n,r)?"end":null;if(!i)return null;let l=null!=(t=a.lZ.parent(e,n.path))?t:null,o=(()=>{var t,n;if(!l||!a.$7.isElement(l))return!1;let r=null==(n=A(e,l.type))||null==(t=n.rules.selection)?void 0:t.affinity;return"hard"===r||"directional"===r})(),s=o?[l,a.s2.parent(n.path)]:[a.lZ.get(e,n.path),n.path];if("start"===i&&0===n.path.at(-1)&&!o)return[null,s];let u="end"===i?m.wA.next(s[1]):m.wA.previous(s[1]),d=a.lZ.get(e,u),c=d?[d,u]:null;return"end"===i?[s,c]:[c,s]},el=(e,t,n)=>{let r=Object.keys(a.lZ.extractProps(t));return(a.$7.isElement(t)?[t.type]:r).some(t=>{var r,i;return(null==(i=A(e,t))||null==(r=i.rules.selection)?void 0:r.affinity)===n})},ea=(e,t,n)=>{let[r,i]=t;return r&&el(e,r[0],n)||i&&el(e,i[0],n)},eo=(e,t,n)=>{let r=t=>{e.marks=t,e.api.onChange()},i=t=>{e.tf.setSelection({anchor:t,focus:t})},[l,o]=t;if("backward"===n){if(null===l)return void r({});let t=e.api.end(l[1]);return void(t&&i(t),a.$7.isElement(l[0])||r(null))}null===l?r(null):null===o?r({}):(i(e.api.end(l[1])),a.$7.isElement(o[0])||r(a.lZ.extractProps(o[0])))},es=O({key:"affinity"}).overrideEditor(e=>{let{editor:t,tf:{deleteBackward:n,insertText:l,move:s}}=e;return{transforms:{deleteBackward:e=>{(()=>{if("character"===e&&t.api.isCollapsed()){var r;let[i]=null!=(r=ei(t))?r:[null],l=i&&(a.Qg.isText(i[0])?i[0].text:a.lZ.string(i[0]));n(e);let o=ei(t);return o&&ea(t,o,"directional")&&!eu(o)&&eo(t,o,l&&l.length>1?"backward":"forward"),!0}})()||n(e)},insertText:(e,n)=>((()=>{if(!t.selection||t.api.isExpanded())return;let e=t.selection.focus.path,n=a.lZ.get(t,e);if(!n)return;let r=Object.keys(a.lZ.extractProps(n)).filter(e=>{var n,r;return(null==(r=A(t,e))||null==(n=r.rules.selection)?void 0:n.affinity)==="outward"});if(!r.length||!t.api.isEnd(t.selection.focus,e))return;let i=t.api.start(e,{next:!0}),l=[],o=null;if(i){let e=i.path;o=a.lZ.get(t,e)||null}for(let e of r)n[e]&&((null==o?void 0:o[e])||l.push(e));l.length>0&&t.tf.removeMarks(l)})(),l(e,n)),move:e=>{(()=>{let{distance:n=1,reverse:l=!1,unit:u="character"}=e||{};if("character"===u&&1===n&&t.api.isCollapsed()){let n=ei(t);if(n&&ea(t,n,"hard"))return n&&null===n[+!l]&&((e,t)=>{let{marks:n,selection:r}=e;if(!r)return;let i=e=>n&&y(a.lZ.extractProps(e),n)&&Object.keys(n).length>1,[l,s]=t;if(!l||!s){let e=l||s;return!n||i(e[0])?e===l?"backward":"forward":void 0}let u=n&&(l&&i(l[0])?"backward":s&&i(s[0])?"forward":null),d=0===r.anchor.offset?"forward":"backward";return"backward"===d&&"forward"===u||o.$M&&"forward"===d&&"backward"!==u?"forward":"backward"})(t,n)===(l?"forward":"backward")?eo(t,n,l?"backward":"forward"):s((0,i._)((0,r._)({},e),{unit:"offset"})),!0;s(e);let u=ei(t);return u&&ea(t,u,"directional")&&!eu(u)&&eo(t,u,l?"forward":"backward"),!0}})()||s(e)}}}}),eu=e=>{let[t,n]=e;return t&&a.$7.isElement(t[0])||n&&a.$7.isElement(n[0])},ed=O({key:"chunking",options:{chunkSize:1e3,contentVisibilityAuto:!0,query:a.lZ.isEditor}}).overrideEditor(e=>{let{editor:t,getOptions:n}=e,{chunkSize:r,query:i}=n();return t.getChunkSize=e=>i(e)?r:null,{}}),ec=O({key:"debug",options:{isProduction:!0,logger:{error:(e,t,n)=>console.error("".concat(t?"[".concat(t,"] "):"").concat(e),n),info:(e,t,n)=>console.info("".concat(t?"[".concat(t,"] "):"").concat(e),n),log:(e,t,n)=>console.log("".concat(t?"[".concat(t,"] "):"").concat(e),n),warn:(e,t,n)=>console.warn("".concat(t?"[".concat(t,"] "):"").concat(e),n)},logLevel:"error",throwErrors:!0}}).extendEditorApi(e=>{let{getOptions:t}=e,n=(e,t,n,r)=>{};return{debug:{error:(e,t,r)=>n("error",e,t,r),info:(e,t,r)=>n("info",e,t,r),log:(e,t,r)=>n("log",e,t,r),warn:(e,t,r)=>n("warn",e,t,r)}}}),ep=(e,t,n)=>{var i;let l=e.getOptions(eg),a=null!=(i=ef.get(e))&&i;if(n){let t=(0,r._)({},l,k(n,b));e.setOptions(eg,t)}ef.set(e,!0),t(),ef.set(e,a),e.setOptions(eg,l)},ef=new WeakMap,eg=O({key:"dom",options:{scrollMode:"last",scrollOperations:{insert_node:!0,insert_text:!0},scrollOptions:{scrollMode:"if-needed"}}}).extendEditorApi(e=>{let{editor:t}=e;return{isScrolling:()=>{var e;return null!=(e=ef.get(t))&&e}}}).extendEditorTransforms(e=>{let{editor:t}=e;return{withScrolling:(0,u.gv)(ep,t)}}).overrideEditor(e=>{let{api:t,editor:n,getOption:r,tf:{apply:i}}=e;return{transforms:{apply(e){if(t.isScrolling()){i(e);let l=r("scrollOperations");if(!l[e.type])return;let a=n.operations.filter(e=>!!l[e.type]);if(0===a.length)return;let o="first"===r("scrollMode")?a[0]:a.at(-1);if(!o)return;let{offset:s,path:u}=o.path?o:{};if(!u)return;let d=r("scrollOptions");t.scrollIntoView({offset:null!=s?s:0,path:u},d);return}return i(e)}}}}).overrideEditor(e=>{let{editor:t,tf:{apply:n}}=e;return{transforms:{apply(e){if("set_selection"===e.type){let{properties:r}=e;t.dom.prevSelection=r,n(e),t.dom.currentKeyboardEvent=null;return}n(e)}}}}),eh=e=>e.nodeType===Node.ELEMENT_NODE,ev=e=>e.nodeType===Node.TEXT_NODE,em=new Set(["A","ABBR","ACRONYM","B","BDI","BDO","BIG","BR","BUTTON","CANVAS","CITE","CODE","CONTENT","DATA","DEL","DFN","EM","EMBED","FONT","I","IFRAME","IMG","IMG","INPUT","INS","KBD","LABEL","MAP","MARK","MARQUEE","math","MENUITEM","METER","NOBR","OBJECT","OUTPUT","PICTURE","PORTAL","PROGRESS","Q","S","SAMP","SELECT","SHADOW","SMALL","SOURCE","SPAN","STRIKE","STRONG","SUB","SUP","svg","TEXTAREA","TIME","TRACK","TT","U","VAR","VIDEO","WBR"]),ey=e=>{if(!eh(e))return!1;let t=em.has(e.tagName),n=e.style.display.split(" ")[0];return""===n?t:!!n.startsWith("inline")||("inherit"===n&&e.parentElement?ey(e.parentElement):!!["contents","initial","none","revert","revert-layer","unset"].includes(n)&&t)},eb=e=>!!eh(e)&&!ey(e),ek=/^\s+/,e_=/\n$/,eE=function(e){let{shouldCollapseWhiteSpace:t=!0,trimEnd:n="collapse",trimStart:r="collapse",whiteSpaceIncludesNewlines:i=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=e;return"all"===r&&(l=l.replace(ek,"")),"single-newline"===n&&(l=l.replace(e_,"")),t&&(l=i?l.replaceAll(/\s+/g," "):(l=(l=l.replaceAll(/[^\S\n\r]+/g," ")).replaceAll(/^[^\S\n\r]+/gm,"")).replaceAll(/[^\S\n\r]+$/gm,"")),l},eN=e=>{e.inlineFormattingContext=null},ex=(e,t)=>{eh(e)?eO(e,t):ev(e)?((e,t)=>{let n=e.textContent||"",r=""===n.trim();(t.inlineFormattingContext||!r)&&(t.inlineFormattingContext?t.inlineFormattingContext.atStart=!1:t.inlineFormattingContext={atStart:!0,lastHasTrailingWhiteSpace:!1});let{whiteSpaceRule:i}=t,l="normal"!==i?"collapse":!t.inlineFormattingContext||t.inlineFormattingContext.atStart||t.inlineFormattingContext.lastHasTrailingWhiteSpace?"all":"collapse",a="normal"===i?"collapse":(e=>{let t=e;for(;;){if(t.nextSibling)t=t.nextSibling;else{if((t=t.parentElement)&&eb(t))return!0;t=(null==t?void 0:t.nextSibling)||null}if(!t||eb(t))return!0;if((t.textContent||"").length>0)return!1}})(e)?"single-newline":"collapse",o={normal:!0,pre:!1,"pre-line":!0}[i],s=eE(n||"",{shouldCollapseWhiteSpace:o,trimEnd:a,trimStart:l,whiteSpaceIncludesNewlines:"pre-line"!==i});t.inlineFormattingContext&&o&&(t.inlineFormattingContext.lastHasTrailingWhiteSpace=s.endsWith(" ")),e.textContent=s})(e,t):ew(e,t)},ew=(e,t)=>{for(let n of Array.from(e.childNodes))ex(n,t)},eO=(e,t)=>{let n=ey(e),r=t.whiteSpaceRule,i=(e=>{let t=e.style.whiteSpace;switch(t){case"break-spaces":case"pre":case"pre-wrap":return"pre";case"normal":case"nowrap":return"normal";case"pre-line":return"pre-line"}return"PRE"===e.tagName?"pre":"initial"===t?"normal":null})(e);i&&(t.whiteSpaceRule=i),n||eN(t),ew(e,t),n||eN(t),t.whiteSpaceRule=r},eS=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Array.from(t.childNodes).flatMap(t=>1===t.nodeType&&!J(t)&&n?eS(e,t,n):eP(e)(t))},eC=(e,t,n)=>{var l,a,o,s;let d,c,p,{deserializeLeaf:f,element:g}=n,{node:{isElement:h,isLeaf:m}}=t,y=(p=(c=null!=(l=null==(d=null==(o=t.parsers)||null==(a=o.html)?void 0:a.deserializer)?void 0:d.rules)?l:[]).some(e=>{var n;return null==(n=e.validClassName)?void 0:n.includes("slate-".concat(t.key))})?c:[{validClassName:"slate-".concat(t.key),validNodeName:"*"},...c],d||(d={rules:p}),d.rules=p,d);if(!y)return;let{attributeNames:b,isElement:k,isLeaf:_,query:E,rules:N}=y,{parse:x}=y,w=k||h,O=_||m;if(!f&&!w||f&&!O||N&&!N.some(e=>{let{validAttribute:n,validClassName:r,validNodeName:i="*",validStyle:l}=e;if(i){let e=v(i);if(e.length>0&&!e.includes(g.nodeName)&&"*"!==i)return!1}if(r&&!g.classList.contains(r))return!1;if(l)for(let[e,n]of Object.entries(l)){var a;if(!v(n).includes(g.style[e])&&"*"!==n||"*"===n&&!g.style[e])return!1;let r=null==(a=t.inject.nodeProps)?void 0:a.defaultNodeValue;if(r&&r===g.style[e])return!1}if(n)if("string"==typeof n){if(!g.getAttributeNames().includes(n))return!1}else for(let[e,t]of Object.entries(n)){let n=v(t),r=g.getAttribute(e);if(!(0,u.O9)(r)||!n.includes(r))return!1}return!0})||E&&!E((0,i._)((0,r._)({},S(e,t)),{element:g})))return;if(!x)if(w)x=e=>{let{type:t}=e;return{type:t}};else{if(!O)return;x=e=>{let{type:t}=e;return{[t]:!0}}}let C=J(g)?{}:null!=(s=x((0,i._)((0,r._)({},S(e,t)),{element:g,node:{}})))?s:{},T=(e=>{var t,n,l,a,o,s;let{editor:u,element:d,plugin:c}=e,p=null==(a=c.parsers.html)||null==(l=a.deserializer)?void 0:l.toNodeProps,f=null!=(t=null==(s=c.parsers.html)||null==(o=s.deserializer)?void 0:o.disableDefaultNodeProps)&&t?{}:(e=>{let{element:t,type:n}=e;if(!t.classList.contains("slate-".concat(n))&&"true"!==t.dataset.slateLeaf)return;let r={};if(Object.entries(t.dataset).forEach(e=>{let[t,n]=e;if(t.startsWith("slate")&&n&&!["slateInline","slateLeaf","slateNode","slateVoid"].includes(t)){let e=t.slice(5).charAt(0).toLowerCase()+t.slice(6);if(void 0===n)return;let i=n;"true"===n?i=!0:"false"===n?i=!1:Number.isNaN(Number(n))||(i=Number(n)),r[e]=i}}),Object.keys(r).length>0)return r})((0,i._)((0,r._)({},S(u,c)),{element:d}));if(!p)return f;let g=null!=(n=p((0,i._)((0,r._)({},S(u,c)),{element:d})))?n:{};return(0,r._)({},f,g)})({editor:e,element:g,plugin:t}),P=(0,r._)({},C,T);if(0!==Object.keys(P).length){if(ee(e,t).forEach(n=>{var l,a,o,s;let u=null==(s=n.parsers)||null==(o=s.html)||null==(a=o.deserializer)||null==(l=a.parse)?void 0:l.call(a,(0,i._)((0,r._)({},S(e,t)),{element:g,node:P}));u&&!J(g)&&(P=(0,r._)({},P,u))}),b){let e={};for(let t of g.getAttributeNames())b.includes(t)&&(e[t]=g.getAttribute(t));Object.keys(e).length>0&&(P.attributes=e)}return(0,i._)((0,r._)({},y),{node:P})}},eT=function(e,t){var n;let r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],l=([...e.meta.pluginList].reverse().some(n=>!!(r=eC(e,n,{element:t}))),r);if(l){let{node:r,withoutChildren:a}=l,o=null!=(n=r.children)?n:eS(e,t,i);return(0===o.length||a||"true"===t.dataset.slateVoid)&&(o=[{text:""}]),(0,_.Y)("element",r,o)}},eP=e=>t=>{let n,l,o=(e=>{if(ev(e)){var t;return(null==(t=e.parentElement)?void 0:t.dataset.platePreventDeserialization)?"":e.textContent||""}})(t);if(o)return o;if(!eh(t))return null;if((e=>{if("BR"!==e.nodeName||"Apple-interchange-newline"===e.className)return!1;let t=e.parentElement;return!!t&&"P"!==t.tagName&&"SPAN"!==t.tagName&&!(()=>{var t,n;let r=e.previousSibling;for(;r;){if(r.nodeType===Node.TEXT_NODE&&(null==(t=r.textContent)?void 0:t.trim()))return!0;r=r.previousSibling}for(r=e.nextSibling;r;){if(r.nodeType===Node.TEXT_NODE&&(null==(n=r.textContent)?void 0:n.trim()))return!0;r=r.nextSibling}return!1})()})(t))return{children:[{text:""}],type:e.getType("p")};if("BR"===t.nodeName&&"Apple-interchange-newline"===t.className)return null;let s=(e=>{if("BR"===e.nodeName)return"\n"})(t);if(s)return s;let u=((e,t)=>{if("BODY"===t.nodeName)return(0,_.Y)("fragment",{},eS(e,t))})(e,t);if(u)return u;let c=eT(e,t,J(t));return c?c:(n={},[...e.meta.pluginList].reverse().forEach(i=>{let l=eC(e,i,{deserializeLeaf:!0,element:t});l&&(n=(0,r._)({},n,l.node))}),l=n,eS(e,t).reduce((e,t)=>{if(!t)return e;if(a.$7.isElement(t))Object.keys(l).length>0&&Q((0,i._)((0,r._)({},{node:t,query:{filter:e=>{let[t]=e;return a.Qg.isText(t)}},source:l}),{apply:d})),e.push(t);else{let n=(0,r._)({},l);a.Qg.isText(t)&&t.text&&Object.keys(n).forEach(e=>{n[e]&&t[e]&&(n[e]=t[e])}),e.push((0,_.Y)("text",n,t))}return e},[]))},eR=(e,t)=>{var n;let r,i,l,{collapseWhiteSpace:a=!0,defaultElementPlugin:o,element:s}=t;return"string"==typeof s&&(n=s,(r=document.createElement("body")).innerHTML=n,s=r),a&&(eO(i=s.cloneNode(!0),{inlineFormattingContext:null,whiteSpaceRule:"normal"}),s=i),eH(e,{defaultElementPlugin:o,descendants:(l=s,eP(e)(l))})},eM=w({key:"html"}).extendApi(e=>{let{editor:t}=e;return{deserialize:(0,u.gv)(eR,t)}}).extend({parser:{format:"text/html",deserialize:e=>{let{api:t,data:n}=e,r=new DOMParser().parseFromString(n,"text/html");return t.html.deserialize({element:r.body})}}}),eA=O({key:"length"}).overrideEditor(e=>{let{editor:t,getOptions:n,tf:{apply:r}}=e;return{transforms:{apply(e){t.tf.withoutNormalizing(()=>{r(e);let i=n();if(i.maxLength){let e=t.api.string([]).length;if(e>i.maxLength){let n=e-i.maxLength;t.tf.delete({distance:n,reverse:!0,unit:"character"})}}})}}}}),eB=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{allow:n,exclude:i,filter:l=()=>!0,filterInline:o=!0,filterText:u=!0,idCreator:d=()=>(0,s.Ak)(10),idKey:c="id"}=t,p=(e,t)=>{let s=(0,r._)({},e);return!s[c]&&(0,a.Jb)([s,t],{allow:n,exclude:i,filter:e=>{let[t]=e;return!(u&&!a.$7.isElement(t)||o&&a.$7.isElement(t)&&!0===t.inline)&&l(e)}})&&(s[c]=d()),a.$7.isElement(s)&&(s.children=s.children.map((e,n)=>p(e,[...t,n]))),s};return e.map((e,t)=>p(e,[t]))},eI=O({key:"nodeId",options:{filterInline:!0,filterText:!0,idKey:"id",normalizeInitialValue:!1,filter:()=>!0,idCreator:()=>(0,s.Ak)(10)}}).extendTransforms(e=>{let{editor:t,getOptions:n}=e;return{normalize(){let{allow:e,exclude:r,filter:i,filterInline:l,filterText:o,idKey:s}=n(),u=d=>{let[c,p]=d;if(!c[s]&&(0,a.Jb)([c,p],{allow:e,exclude:r,filter:e=>{let[n]=e;return!(o&&!a.$7.isElement(n)||l&&a.$7.isElement(n)&&!t.api.isBlock(n))&&i(e)}})){if(!t.api.node(p))return;t.tf.withoutSaving(()=>{t.tf.setNodes({[s]:n().idCreator()},{at:p})})}a.$7.isElement(c)&&c.children.forEach((e,t)=>{u([e,[...p,t]])})};t.children.forEach((e,t)=>{u([e,[t]])})}}}).extend({normalizeInitialValue:e=>{let{editor:t,getOptions:n,tf:r}=e,{normalizeInitialValue:i}=n();if(!i){let e=t.children[0],n=t.children.at(-1);if((null==e?void 0:e.id)&&(null==n?void 0:n.id))return}r.nodeId.normalize()}}).overrideEditor(e=>{let{editor:t,getOptions:n,tf:{apply:l,insertNode:o,insertNodes:s}}=e,d=()=>{var e;return{[null!=(e=n().idKey)?e:""]:n().idCreator()}},c=e=>{var t;let{filter:r,filterText:i}=n();return r(e)&&(!i||(null==(t=e[0])?void 0:t.type)!==void 0)},p=e=>{let{idKey:r="",reuseId:i}=n();!i&&t.api.some({at:[],match:{[r]:e[r]}})&&delete e[r]},g=e=>{let{idKey:r=""}=n();if((0,u.O9)(e._id)){let n=e._id;e._id=void 0,t.api.some({at:[],match:{[r]:n}})||(e[r]=n)}};return{transforms:{apply(e){let{allow:o,disableInsertOverrides:s,exclude:u,idCreator:h,idKey:v="",reuseId:m}=n(),y={allow:o,exclude:u,filter:c};if("insert_node"===e.type){var b;let t=E(e.node);return Q({apply:p,node:t,query:y,source:{}}),b={node:t,path:e.path,query:y,source:d},Q((0,i._)((0,r._)({},b),{apply:f})),s||Q({apply:g,node:t,query:y,source:{}}),l((0,i._)((0,r._)({},e),{node:t}))}if("split_node"===e.type){let n=e.properties,o=e.properties[v];if((0,a.Jb)([n,e.path],y))return(!m||void 0===o||t.api.some({at:[],match:{[v]:o}}))&&(o=h()),l((0,i._)((0,r._)({},e),{properties:(0,i._)((0,r._)({},e.properties),{[v]:o})}));o&&delete e.properties[v]}return l(e)},insertNode(e){let{disableInsertOverrides:t,idKey:r=""}=n();!t&&e[r]&&(Object.isExtensible(e)||(e=E(e)),e._id=e[r]),o(e)},insertNodes(e,t){let r=v(e).filter(e=>!!e);if(0===r.length)return;let{disableInsertOverrides:i,idKey:l=""}=n();s(r.map(e=>(!i&&e[l]&&(Object.isExtensible(e)||(e=E(e)),e._id=e[l]),e)),t)}}}}),ez={handlers:!0,inject:!0,normalizeInitialValue:!1,render:!0},eD=(e,t,n)=>{var r;return!!e&&(!0===t.editOnly?ez[n]:"object"==typeof t.editOnly&&(null!=(r=t.editOnly[n])?r:ez[n]))},ej=(e,t)=>{let{autoSelect:n,selection:l,shouldNormalizeEditor:a,value:o,onReady:s}=t,u=function(){var t;let o,u=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e.children&&(null==(t=e.children)?void 0:t.length)!==0||(e.children=e.api.create.value()),l)e.selection=l;else if(n){let t=("start"===n?"start":"end")=="start"?e.api.start([]):e.api.end([]);e.tf.select(t)}e.children.length>0&&(o=e.meta.isNormalizing,e.meta.isNormalizing=!0,e.meta.pluginCache.normalizeInitialValue.forEach(t=>{var n;let l=e.getPlugin({key:t});eD(e.dom.readOnly,l,"normalizeInitialValue")||null==(n=l.normalizeInitialValue)||n.call(l,(0,i._)((0,r._)({},S(e,l)),{value:e.children}))}),e.meta.isNormalizing=o),a&&e.tf.normalize({force:!0}),s&&s({editor:e,isAsync:u,value:e.children})};if(null===o)u();else if("string"==typeof o)e.children=e.api.html.deserialize({element:o}),u();else if("function"==typeof o){let t=o(e);t&&"function"==typeof t.then?t.then(t=>{e.children=t,u(!0)}):(e.children=t,u())}else o&&(e.children=o),u()},eL=function(e){var t,n;let{match:r,reverse:i}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e.selection||!e.api.isCollapsed())return;let l=e.api.block();if(!l)return;let o=null!=(t=null==(n=e.api.above({at:l[1],match:(0,a.Ty)(e,(t,n)=>{var r;return 1===n.length||n.length>1&&!!t.type&&!(null==(r=A(e,t.type))?void 0:r.node.isStrictSiblings)},{match:r})}))?void 0:n[1])?t:l[1],s=i?o:a.s2.next(o);if(s)return e.tf.insertNodes(e.api.create.block(),{at:s,select:!0}),!0},eF=function(e){let{at:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.api.block({at:t});if(!(null==n?void 0:n[0]))return;let[r,i]=n;return e.tf.withoutNormalizing(()=>{let t=a.lZ.extractProps(r),{id:n,type:o}=t;Object.keys((0,l._)(t,["id","type"])).forEach(t=>{e.tf.unsetNodes(t,{at:i})});let s=e.getType(H.key);r.type!==s&&e.tf.setNodes({type:s},{at:i})}),!0},eV=(e,t)=>{let n=t;"string"==typeof t?n=e.api.html.deserialize({element:t}):t&&0!==t.length||(n=e.api.create.value()),e.tf.replaceNodes(n,{at:[],children:!0})},eW=O({key:"slateExtension",options:{onNodeChange:()=>{},onTextChange:()=>{}}}).extendEditorTransforms(e=>{let{editor:t,getOption:n,tf:{apply:r}}=e;return{init:(0,u.gv)(ej,t),insertExitBreak:(0,u.gv)(eL,t),resetBlock:(0,u.gv)(eF,t),setValue:(0,u.gv)(eV,t),apply(e){let i,l,o,s,u,d=()=>{},c=t.meta.pluginCache.handlers.onNodeChange.length>0||n("onNodeChange")!==d,p=t.meta.pluginCache.handlers.onTextChange.length>0||n("onTextChange")!==d;if(!c&&!p)return void r(e);if(a.Wr.isNodeOperation(e)&&c)switch(e.type){case"insert_node":case"remove_node":i=e.node,l=e.node;break;case"merge_node":case"move_node":case"set_node":case"split_node":i=a.lZ.get(t,e.path)}else if(a.Wr.isTextOperation(e)&&p){let n=a.s2.parent(e.path);u=a.lZ.get(t,n),o=a.lZ.get(t,e.path).text}if(r(e),a.Wr.isNodeOperation(e)&&c){let r,o;switch(e.type){case"insert_node":case"remove_node":break;case"merge_node":{let n=a.s2.previous(e.path);n&&(l=a.lZ.get(t,n));break}case"move_node":l=a.lZ.get(t,e.newPath);break;case"set_node":case"split_node":l=a.lZ.get(t,e.path)}l||(l=i),r=l,o=i,t.meta.pluginCache.handlers.onNodeChange.some(n=>{var i,l;let a=t.getPlugin({key:n});if(!a||(null==(i=t.dom)?void 0:i.readOnly))return!1;let s=null==(l=a.handlers)?void 0:l.onNodeChange;if(!s)return!1;let u=s({editor:t,node:r,operation:e,plugin:a,prevNode:o});return null!=u&&u})||n("onNodeChange")({editor:t,node:l,operation:e,prevNode:i})}if(a.Wr.isTextOperation(e)&&p){let r,i,l,d=a.lZ.get(t,e.path);d&&(s=d.text),r=u,i=s,l=o,t.meta.pluginCache.handlers.onTextChange.some(n=>{var a,o;let s=t.getPlugin({key:n});if(!s||(null==(a=t.dom)?void 0:a.readOnly))return!1;let u=null==(o=s.handlers)?void 0:o.onTextChange;if(!u)return!1;let d=u({editor:t,node:r,operation:e,plugin:s,prevText:l,text:i});return null!=d&&d})||n("onTextChange")({editor:t,node:u,operation:e,prevText:o,text:s})}}}}),e$=(e,t,n)=>{var l;return(e=((e,t,n)=>{let r=e.some((e,n,r)=>{let i=r[n-1];return 0!==n&&t(e)!==t(i)}),{fragment:i}=e.reduce((e,i)=>{if(r&&t(i)){let t=e.precedingBlock;t||(e.precedingBlock=t=n(),e.fragment.push(t)),t.children.push(i)}else e.fragment.push(i),e.precedingBlock=null;return e},{fragment:[],precedingBlock:null});return i})(e=0===(l=e).length?[{text:""}]:l,t,n)).map(e=>a.$7.isElement(e)?(0,i._)((0,r._)({},e),{children:e$(e.children,t,n)}):e)},eH=(e,t)=>{let n,{defaultElementPlugin:r=H,descendants:i}=t;return e$(i,t=>a.Qg.isText(t)||a.$7.isElement(t)&&e.api.isInline(t),(n=e.getType(r.key),()=>({children:[],type:n})))},eU=(e,t,n)=>t.every(t=>{var i;let l=null==(i=t.parser)?void 0:i.query;return!l||l((0,r._)({},S(e,t),n))}),eZ=w({key:"parser"}).overrideEditor(e=>{let{editor:t,tf:{insertData:n}}=e;return{transforms:{insertData(e){[...t.meta.pluginList].reverse().some(n=>{let l=n.parser;if(!l)return!1;let a=ee(t,n),{deserialize:o,format:s,mimeTypes:u}=l;if(!s&&!u)return!1;for(let l of u||(Array.isArray(s)?s:s?[s]:[]).map(e=>e.includes("/")?e:"text/".concat(e))){let s=e.getData(l);if("Files"!==l&&!s||"Files"===l&&0===e.files.length||!eU(t,a,{data:s,dataTransfer:e,mimeType:l}))continue;s=q(t,a,{data:s,dataTransfer:e,mimeType:l});let u=null==o?void 0:o((0,i._)((0,r._)({},S(t,n)),{data:s,dataTransfer:e,mimeType:l}));if((null==u?void 0:u.length)&&0!==(u=K(t,a,{data:s,dataTransfer:e,fragment:u,mimeType:l})).length)return Z(t,a,{data:s,dataTransfer:e,fragment:u,mimeType:l}),!0}return!1})||n(e)}}}}),eq=function(e){var t,n,a;let o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,[u={}]=[o],{id:d,affinity:c=!0,autoSelect:p,chunking:f=!0,maxLength:g,nodeId:h,optionsStoreFactory:v,plugins:m=[],readOnly:y=!1,rootPlugin:b,selection:k,shouldNormalizeEditor:_,skipInitialization:E,userId:N,value:x,onReady:O}=u,S=(0,l._)(u,["id","affinity","autoSelect","chunking","maxLength","nodeId","optionsStoreFactory","plugins","readOnly","rootPlugin","selection","shouldNormalizeEditor","skipInitialization","userId","value","onReady"]);e.id=null!=(t=null!=d?d:e.id)?t:(0,s.Ak)(),e.meta.key=null!=(n=e.meta.key)?n:(0,s.Ak)(),e.meta.isFallback=!1,e.meta.userId=N,e.dom={composing:!1,currentKeyboardEvent:null,focused:!1,prevSelection:null,readOnly:y},e.getApi=()=>e.api,e.getTransforms=()=>e.transforms,e.getPlugin=t=>{let n,r;return n=t,(r=e.plugins[t.key])||(n.node||(n=w(n)),n.__resolved?n:C(e,n))},e.getType=t=>P(e,t),e.getInjectProps=t=>{var n,r,i,l;let a=null!=(n=null==(l=e.getPlugin(t).inject)?void 0:l.nodeProps)?n:{};return a.nodeKey=null!=(r=a.nodeKey)?r:e.getType(t.key),a.styleKey=null!=(i=a.styleKey)?i:a.nodeKey,a},e.getOptionsStore=t=>e.getPlugin(t).optionsStore,e.getOptions=t=>e.getOptionsStore(t)?e.getOptionsStore(t).get("state"):e.getPlugin(t).options,e.getOption=function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];let a=e.getOptionsStore(t);return a?n in a.get("state")||n in a.selectors?a.get(n,...i):void e.api.debug.error("editor.getOption: ".concat(n," option is not defined in plugin ").concat(t.key,"."),"OPTION_UNDEFINED"):e.getPlugin(t).options[n]},e.setOption=function(t,n){for(var r=arguments.length,i=Array(r>2?r-2:0),l=2;l<r;l++)i[l-2]=arguments[l];let a=e.getOptionsStore(t);if(a){if(!(n in a.get("state")))return void e.api.debug.error("editor.setOption: ".concat(n," option is not defined in plugin ").concat(t.key,"."),"OPTION_UNDEFINED");a.set(n,...i)}},e.setOptions=(t,n)=>{let r=e.getOptionsStore(t);r&&("object"==typeof n?r.set("state",e=>{Object.assign(e,n)}):"function"==typeof n&&r.set("state",n))};let T=(e=>{let{affinity:t,chunking:n,maxLength:r,nodeId:i,plugins:l=[]}=e,a=[ec,eW,eg,$,U,eZ,r?eA.configure({options:{maxLength:r}}):eA,eM,W,eI.configure({enabled:!1!==i,options:!1===i?void 0:i}),es.configure({enabled:t}),H,ed.configure({enabled:!1!==n,options:"boolean"==typeof n?void 0:n})],o=new Map(l.map(e=>[e.key,e]));return a.map(e=>{let t=o.get(e.key);if(t){let n=l.findIndex(t=>t.key===e.key);return -1!==n&&l.splice(n,1),t}return e})})({affinity:c,chunking:f,maxLength:g,nodeId:h,plugins:m}),R=w((0,i._)((0,r._)({key:"root",priority:1e4},S),{override:(0,i._)((0,r._)({},S.override),{components:(0,r._)({},S.components,null==(a=S.override)?void 0:a.components)}),plugins:[...T,...m]}));b&&(R=b(R)),I(e,[R],v);let M=e.tf.normalizeNode;return e.tf.normalizeNode=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];if(e.api.shouldNormalizeNode(n[0]))return M(...n)},e.normalizeNode=e.tf.normalizeNode,E||e.tf.init({autoSelect:p,selection:k,shouldNormalizeEditor:_,value:x,onReady:O}),e},eK=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,[t={}]=[e],{editor:n=(0,a.ie)()}=t;return eq(n,(0,l._)(t,["editor"]))}}}]);