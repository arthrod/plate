"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[51241],{41212:(e,t,n)=>{n.d(t,{D5:()=>v,Hz:()=>w,aL:()=>b});var r=n(62483),o=n(7620);let u=Symbol(),a=Symbol(),i=Object.getPrototypeOf,s=new WeakMap,c=e=>"object"==typeof e&&null!==e,l=e=>e[a]||e,f=(e,t,n,r)=>{var o;let c,p,g,d;if(!(e&&(s.has(e)?s.get(e):i(e)===Object.prototype||i(e)===Array.prototype)))return e;let y=r&&r.get(e);if(!y){let t=l(e);y=Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable)?[t,(e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(i(e),t)})(t)]:[t],null==r||r.set(e,y)}let[h,v]=y,b=n&&n.get(h);return b&&!!v===b[1].f||(c={f:o=!!v},p=!1,g=(e,t)=>{if(!p){let n=c.a.get(h);if(n||(n={},c.a.set(h,n)),"w"===e)n.w=!0;else{let r=n[e];r||(r=new Set,n[e]=r),r.add(t)}}},d={get:(e,t)=>t===a?h:(g("k",t),f(Reflect.get(e,t),c.a,c.c,c.t)),has:(e,t)=>t===u?(p=!0,c.a.delete(h),!0):(g("h",t),Reflect.has(e,t)),getOwnPropertyDescriptor:(e,t)=>(g("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(g("w"),Reflect.ownKeys(e))},o&&(d.set=d.deleteProperty=()=>!1),(b=[d,c])[1].p=new Proxy(v||h,b[0]),n&&n.set(h,b)),b[1].a=t,b[1].c=n,b[1].t=r,b[1].p},p=(e,t,n,r,o=Object.is)=>{if(o(e,t))return!1;if(!c(e)||!c(t))return!0;let u=n.get(l(e));if(!u)return!0;if(r){let n=r.get(e);if(n&&n.n===t)return n.g;r.set(e,{n:t,g:!1})}let a=null;try{for(let n of u.h||[])if(a=Reflect.has(e,n)!==Reflect.has(t,n))return a;if(!0===u.w){let n,r;if(n=Reflect.ownKeys(e),r=Reflect.ownKeys(t),a=n.length!==r.length||n.some((e,t)=>e!==r[t]))return a}else for(let n of u.o||[])if(a=!!Reflect.getOwnPropertyDescriptor(e,n)!=!!Reflect.getOwnPropertyDescriptor(t,n))return a;for(let i of u.k||[])if(a=p(e[i],t[i],n,r,o))return a;return null===a&&(a=!0),a}finally{r&&r.set(e,{n:t,g:a})}};n(40459);var g=n(45698),d=n(23884);let{useSyncExternalStoreWithSelector:y}=g,h=(e,t)=>{let n=(0,d.y)(e),r=(e,r=t)=>(function(e,t=e=>e,n){let r=y(e.subscribe,e.getState,e.getInitialState,t,n);return o.useDebugValue(r),r})(n,e,r);return Object.assign(r,n),r};var v=(e,t)=>{let n,u,a=(0,r.sV)(e,t),i=(n=a.stateCreator)?h(n,void 0):h,s=()=>{let[,e]=(0,o.useReducer)(e=>e+1,0),t=new WeakMap,n=(0,o.useRef)(),r=(0,o.useRef)(),u=(0,o.useRef)();return(0,o.useEffect)(()=>{n.current=t,r.current!==u.current&&p(r.current,u.current,t,new WeakMap)&&(r.current=u.current,e())}),f(i((0,o.useCallback)(e=>(u.current=e,r.current&&r.current!==e&&n.current&&!p(r.current,e,n.current,new WeakMap))?r.current:(r.current=e,e),[])),t,(0,o.useMemo)(()=>new WeakMap,[]))},c=(0,r.wx)(i,{name:a.name,isMutative:a.isMutative}),l=(e,t)=>i(t=>t[e],t);return u={...c,store:i,useStore:i,useValue:l,useState:(e,t)=>[l(e,t),t=>c.set(e,t)],useTracked:e=>s()[e],useTrackedStore:s},(0,r.S_)(u,{extendSelectors:(e,t)=>(0,r.tW)(e,t,{selectWithStore:(e,n)=>t.useStore(e,n)}),extendActions:(e,t)=>(0,r.WK)(e,t)})};function b(e,t,...n){return e.useValue(t,...n)}var w=(e,t,n)=>e.useStore(t,n)},45698:(e,t,n)=>{e.exports=n(91932)},51661:(e,t,n)=>{n.r(t),n.d(t,{MarkdownKit:()=>i});var r=n(45806),o=n(48674),u=n(13921),a=n(56240);let i=[r.LK.configure({options:{plainMarks:[o.t.suggestion,o.t.comment],remarkPlugins:[a.A,u.A,r.Ko,r.nn]}})]},58027:(e,t,n)=>{var r=n(7620),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},u=r.useState,a=r.useEffect,i=r.useLayoutEffect,s=r.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var l="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=u({inst:{value:n,getSnapshot:t}}),o=r[0].inst,l=r[1];return i(function(){o.value=n,o.getSnapshot=t,c(o)&&l({inst:o})},[e,n,t]),a(function(){return c(o)&&l({inst:o}),e(function(){c(o)&&l({inst:o})})},[e]),s(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:l},63108:(e,t,n)=>{e.exports=n(58027)},69589:(e,t,n)=>{n.r(t),n.d(t,{GhostText:()=>i});var r=n(54568),o=n(99680);n(7620);var u=n(46639),a=n(28268);function i(){let e,t=(0,o.c)(1),n=(0,a.iQ)();return(0,a.gO)(u.EF,"isSuggested",n.id)?(t[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)(s,{}),t[0]=e):e=t[0],e):null}function s(){let e,t=(0,o.c)(2),n=(0,a.gO)(u.EF,"suggestionText"),i=n&&n;return t[0]!==i?(e=(0,r.jsx)("span",{className:"pointer-events-none text-muted-foreground/70 max-sm:hidden",contentEditable:!1,children:i}),t[0]=i,t[1]=e):e=t[1],e}},80604:(e,t,n)=>{n.r(t),n.d(t,{CopilotKit:()=>i});var r=n(16017),o=n(46639),u=n(45806),a=n(69589);let i=[...n(51661).MarkdownKit,o.EF.configure(e=>{let{api:t}=e;return{options:{completeOptions:{api:"/api/ai/copilot",body:{system:'You are an advanced AI writing assistant, similar to VSCode Copilot but for general text. Your task is to predict and generate the next part of the text based on the given context.\n  \n  Rules:\n  - Continue the text naturally up to the next punctuation mark (., ,, ;, :, ?, or !).\n  - Maintain style and tone. Don\'t repeat given text.\n  - For unclear context, provide the most likely continuation.\n  - Handle code snippets, lists, or structured text if needed.\n  - Don\'t include """ in your response.\n  - CRITICAL: Always end with a punctuation mark.\n  - CRITICAL: Avoid starting a new block. Do not use block formatting like >, #, 1., 2., -, etc. The suggestion should continue in the same block as the context.\n  - If no context is provided or you can\'t generate a continuation, return "0" without explanation.'},onError:()=>{t.copilot.setBlockSuggestion({text:(0,u.eA)(r.a.lorem.sentence())})},onFinish:(e,n)=>{"0"!==n&&t.copilot.setBlockSuggestion({text:(0,u.eA)(n)})}},debounceDelay:500,renderGhostText:a.GhostText,getPrompt:e=>{let{editor:t}=e,n=t.api.block({highest:!0});if(!n)return"";let r=(0,u.g$)(t,{value:[n[0]]});return'Continue the text up to the next punctuation mark:\n  """\n  '.concat(r,'\n  """')}},shortcuts:{accept:{keys:"tab"},acceptNextWord:{keys:"mod+right"},reject:{keys:"escape"},triggerSuggestion:{keys:"ctrl+space"}}}})]},91932:(e,t,n)=>{var r=n(7620),o=n(63108),u="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=o.useSyncExternalStore,i=r.useRef,s=r.useEffect,c=r.useMemo,l=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var f=i(null);if(null===f.current){var p={hasValue:!1,value:null};f.current=p}else p=f.current;var g=a(e,(f=c(function(){function e(e){if(!s){if(s=!0,a=e,e=r(e),void 0!==o&&p.hasValue){var t=p.value;if(o(t,e))return i=t}return i=e}if(t=i,u(a,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(a=e,t):(a=e,i=n)}var a,i,s=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,r,o]))[0],f[1]);return s(function(){p.hasValue=!0,p.value=g},[g]),l(g),g}}}]);