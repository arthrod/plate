(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[15777,18338],{80:(t,e,r)=>{var a=r(27724),o=r(71119);t.exports=function t(e,r,i,l,n,c){return o(e)&&o(r)&&(c.set(r,e),a(e,r,void 0,t,c),c.delete(r)),e}},13600:(t,e,r)=>{"use strict";r.d(e,{$z:()=>T,HL:()=>A,Jm:()=>w,KO:()=>C,L4:()=>f,TA:()=>x,Us:()=>M,Xj:()=>i,Y8:()=>k,ad:()=>_,be:()=>c,ex:()=>y,kR:()=>n,l8:()=>g,mM:()=>O,sR:()=>E,t6:()=>m,u7:()=>l,uZ:()=>h,wn:()=>d});var a=r(50357),o=r(49844);r(81684);let i=(t,e,r)=>{let a=o(r),i=[];for(let e of a)i.push(t.getType(e));return i.includes(null==e?void 0:e.type)},l="\r",n="\n",c="\xa0",m=" ",d="	",s=(t,e)=>{if(!e(t))return;let r=t.firstChild;for(;r;){let a=r,o=r.previousSibling;r=r.nextSibling,s(a,e),a.previousSibling||a.nextSibling||a.parentNode||!r||o===r.previousSibling||!r.parentNode?a.previousSibling||a.nextSibling||a.parentNode||!r||r.previousSibling||r.nextSibling||r.parentNode||(o?r=o.nextSibling?o.nextSibling.nextSibling:null:t.firstChild&&(r=t.firstChild.nextSibling)):r=o?o.nextSibling:t.firstChild}},f=(t,e)=>{s(t,t=>!(0,a.Y)(t)||e(t))},h=t=>{f(t,t=>{if("BR"!==t.tagName)return!0;let e=document.createTextNode(n);return t.parentElement&&t.parentElement.replaceChild(e,t),!1})},u=new Set(["BR","IMG","TD","TH"]),p=t=>{if(!u.has(t.nodeName)&&!t.innerHTML.trim()){let{parentElement:e}=t;t.remove(),e&&p(e)}},g=t=>{f(t,t=>(p(t),!0))},y=(t,e)=>{let r=document.createElement(e);for(let{name:e}of(r.innerHTML=t.innerHTML,t.attributes)){let a=t.getAttribute(e);a&&r.setAttribute(e,a)}return t.parentNode&&t.parentNode.replaceChild(r,t),r},x=t=>{f(t,t=>("FONT"===t.tagName&&(t.textContent?y(t,"span"):t.remove()),!0))},b=t=>{t.outerHTML=t.innerHTML},k=t=>{f(t,t=>{if("A"!==t.tagName)return!0;let e=t.getAttribute("href");if((!e||e.startsWith("#"))&&b(t),e&&t.querySelector("img"))for(let e of t.querySelectorAll("span"))e.textContent||b(e);return!0})},v=/^\n\s*$/,N=/\S/,S=/^[\n\r]+/,T=t=>{s(t,t=>!(0,a.J)(t)||(t=>{if(v.test(t.data)&&(t.previousElementSibling||t.nextElementSibling))return t.remove(),!0;if(t.data=t.data.replaceAll(/\n\s*/g,"\n"),t.data.includes(l)||t.data.includes(n)||t.data.includes(c)){let e=t.data.includes(m),r=N.test(t.data),a=t.data.includes(n);if(!(e||r)&&!a)return t.data===c?t.data=m:t.remove(),!0;if(t.previousSibling&&"BR"===t.previousSibling.nodeName&&t.parentElement){t.previousSibling.remove();let e=S.exec(t.data),r=e?e[0].length:0;t.data=t.data.slice(Math.max(0,r)).replaceAll(RegExp(n,"g"),m).replaceAll(RegExp(l,"g"),m),t.data="\n".concat(t.data)}else t.data=t.data.replaceAll(RegExp(n,"g"),m).replaceAll(RegExp(l,"g"),m)}return!0})(t))},_=t=>{f(t,t=>{if(!t.getAttribute("style"))return!0;if((0,a.G)(t)&&"TABLE"!==t.nodeName){let{style:{backgroundColor:e,color:r,fontFamily:a,fontSize:o,fontStyle:i,fontWeight:l,textDecoration:n}}=t;if(e||r||a||o||i||l||n){let e=document.createElement("span");["inherit","initial"].includes(r)||(e.style.color=r),e.style.fontFamily=a,e.style.fontSize=o,["inherit","initial","normal"].includes(r)||(e.style.fontStyle=i),[400,"normal"].includes(l)||(e.style.fontWeight=l),e.style.textDecoration=n,e.innerHTML=t.innerHTML,t.innerHTML=e.outerHTML}}return!0})},E=(t,e)=>{let r;return r=null,f(t,t=>!e(t)||(r=t,!1)),!!r},L=()=>NodeFilter.FILTER_ACCEPT,C=t=>{let e=[],r=document.createNodeIterator(t,NodeFilter.SHOW_COMMENT,{acceptNode:L}),a=r.nextNode();for(;a;)a.nodeValue&&e.push(a.nodeValue),a=r.nextNode();return e},A=t=>t.nodeType===Node.COMMENT_NODE,w=t=>"<body>".concat(t.trim().replaceAll(RegExp("​","g"),""),"</body>"),B=[t=>{var e;let r,a;return -1===(a=(e=-1===(r=t.lastIndexOf("</html>"))?t:t.slice(0,Math.max(0,r+7))).indexOf("<html"))?e:e.slice(Math.max(0,a))},t=>t.replaceAll(/\r\n|\r/g,"\n")],M=t=>B.reduce((t,e)=>e(t),t),O=(t,e,r)=>{let a=t=>A(t)&&t.data===r;s(t,t=>!A(t)||(t=>{if(t.data===e){let e=t.nextSibling;for(t.remove();e&&!a(e);){let{nextSibling:t}=e;e.remove(),e=t}e&&a(e)&&e.remove()}return!0})(t))}},15777:(t,e,r)=>{"use strict";r.r(e),r.d(e,{AutoformatKit:()=>v});var a=r(99019),o=r(5147),i=r(69954),l=r(79789),n=r(18090),c=r(66475),m=r(14796),d=r(13600),s=r(48674);function f(){let t=(0,i._)(["^d+.$ "],["^\\d+\\.$ "]);return f=function(){return t},t}function h(){let t=(0,i._)(["^d+)$ "],["^\\d+\\)$ "]);return h=function(){return t},t}let u=t=>(0,c.k)(t),p=(t,e)=>{if(t.selection){let r=t.api.parent(t.selection);if(!r)return;let[a]=r;m.$7.isElement(a)&&!(0,d.Xj)(t,a,s.t.codeBlock)&&e()}},g=function(t){let e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];p(t,()=>(0,c.b)(t,e))},y=(t,e)=>{p(t,()=>(0,c.v)(t,{type:e}))},x=[{match:"***",mode:"mark",type:[s.t.bold,s.t.italic]},{match:"__*",mode:"mark",type:[s.t.underline,s.t.italic]},{match:"__**",mode:"mark",type:[s.t.underline,s.t.bold]},{match:"___***",mode:"mark",type:[s.t.underline,s.t.bold,s.t.italic]},{match:"**",mode:"mark",type:s.t.bold},{match:"__",mode:"mark",type:s.t.underline},{match:"*",mode:"mark",type:s.t.italic},{match:"_",mode:"mark",type:s.t.italic},{match:"~~",mode:"mark",type:s.t.strikethrough},{match:"^",mode:"mark",type:s.t.sup},{match:"~",mode:"mark",type:s.t.sub},{match:"==",mode:"mark",type:s.t.highlight},{match:"≡",mode:"mark",type:s.t.highlight},{match:"`",mode:"mark",type:s.t.code}],b=[{match:"# ",mode:"block",preFormat:u,type:s.t.h1},{match:"## ",mode:"block",preFormat:u,type:s.t.h2},{match:"### ",mode:"block",preFormat:u,type:s.t.h3},{match:"#### ",mode:"block",preFormat:u,type:s.t.h4},{match:"##### ",mode:"block",preFormat:u,type:s.t.h5},{match:"###### ",mode:"block",preFormat:u,type:s.t.h6},{match:"> ",mode:"block",preFormat:u,type:s.t.blockquote},{match:"```",mode:"block",preFormat:u,type:s.t.codeBlock,format:t=>{(0,n.bl)(t,{defaultType:s.t.p,insertNodesOptions:{select:!0}})}},{match:["---","—-","___ "],mode:"block",type:s.t.hr,format:t=>{t.tf.setNodes({type:s.t.hr}),t.tf.insertNodes({children:[{text:""}],type:s.t.p})}}],k=[{match:["* ","- "],mode:"block",preFormat:u,type:s.t.li,format:t=>y(t,s.t.ulClassic)},{match:[String.raw(f()),String.raw(h())],matchByRegex:!0,mode:"block",preFormat:u,type:s.t.li,format:t=>y(t,s.t.olClassic)},{match:"[] ",mode:"block",type:s.t.taskList,format:t=>g(t,!1)},{match:"[x] ",mode:"block",type:s.t.taskList,format:t=>g(t,!0)}],v=[l.YI.configure({options:{enableUndoOnDelete:!0,rules:[...b,...x,...l.Zt,...l.VX,...l.Sd,...l.$y,...l.K9,...l.N5,...k].map(t=>(0,o._)((0,a._)({},t),{query:t=>!t.api.some({match:{type:t.getType(s.t.codeBlock)}})}))}})]},18090:(t,e,r)=>{"use strict";r.d(e,{N_:()=>d,bl:()=>n,cc:()=>l,mU:()=>s,xy:()=>c});var a=r(99019),o=r(57933),i=r(48674);let l=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!t.selection||t.api.isExpanded()||t.api.some({match:t=>t.type===i.t.codeBlock||t.type===i.t.codeLine})||(t.api.isAt({start:!0})||t.tf.insertBreak(),t.tf.setNodes({children:[{text:""}],type:i.t.codeLine},e),t.tf.wrapNodes({children:[],type:i.t.codeBlock},e))},n=function(t){let{defaultType:e=t.getType(i.t.p),insertNodesOptions:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t.selection&&((t.api.isExpanded()||!t.api.isEmpty(t.selection,{block:!0}))&&t.tf.insertNodes(t.api.create.block({children:[{text:""}],type:e}),(0,a._)({nextBlock:!0,select:!0},r)),l(t,r))},c=t=>{if(!t.selection)return;let e=t.getType(i.t.codeBlock),r=t.getType(i.t.codeLine),a=t.api.some({match:{type:e}});t.tf.withoutNormalizing(()=>{(0,o.c)(t),a||(t.tf.setNodes({type:r}),t.tf.wrapNodes({children:[],type:e}))})},m=new Set(["json"]),d=t=>!!(t&&m.has(t)),s=(t,e)=>{let{element:r}=e,{lang:a}=r;if(!a||!d(a))return;let o=t.api.string(r);if(((t,e)=>{if(!d(e)||"json"!==e)return!1;try{return JSON.parse(t),!0}catch(t){return!1}})(o,a)){let e=f(o,a);t.tf.insertText(e,{at:r})}},f=(t,e)=>{if("json"!==e)return t;try{return JSON.stringify(JSON.parse(t),null,2)}catch(e){return t}}},48674:(t,e,r)=>{"use strict";r.d(e,{t:()=>o});var a=r(99019);let o=(0,r(5147)._)((0,a._)({},{a:"a",ai:"ai",aiChat:"aiChat",audio:"audio",blockquote:"blockquote",bold:"bold",callout:"callout",code:"code",codeBlock:"code_block",codeLine:"code_line",codeSyntax:"code_syntax",column:"column",columnGroup:"column_group",comment:"comment",date:"date",emojiInput:"emoji_input",equation:"equation",excalidraw:"excalidraw",file:"file",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",highlight:"highlight",hr:"hr",img:"img",inlineEquation:"inline_equation",italic:"italic",kbd:"kbd",li:"li",lic:"lic",link:"a",listTodoClassic:"action_item",mediaEmbed:"media_embed",mention:"mention",mentionInput:"mention_input",olClassic:"ol",p:"p",searchHighlight:"search_highlight",slashInput:"slash_input",strikethrough:"strikethrough",sub:"subscript",suggestion:"suggestion",sup:"superscript",table:"table",tag:"tag",taskList:"taskList",td:"td",th:"th",toc:"toc",toggle:"toggle",tr:"tr",ulClassic:"ul",underline:"underline",video:"video"},{backgroundColor:"backgroundColor",color:"color",fontFamily:"fontFamily",fontSize:"fontSize",fontWeight:"fontWeight",indent:"indent",lineHeight:"lineHeight",listType:"listStyleType",textAlign:"textAlign",textIndent:"textIndent"}),{autoformat:"autoformat",blockMenu:"blockMenu",blockPlaceholder:"blockPlaceholder",blockSelection:"blockSelection",caption:"caption",copilot:"copilot",csv:"csv",cursorOverlay:"cursorOverlay",delete:"delete",dnd:"dnd",docx:"docx",emoji:"emoji",exitBreak:"exitBreak",heading:["h1","h2","h3","h4","h5","h6"],html:"html",juice:"juice",list:"list",listChecked:"checked",listClassic:"listClassic",listRestart:"listRestart",listRestartPolite:"listRestartPolite",listStart:"listStart",listTodo:"todo",markdown:"markdown",nodeId:"nodeId",normalizeTypes:"normalizeTypes",ol:"decimal",placeholder:"placeholder",playwright:"playwright",removeEmptyNodes:"removeEmptyNodes",resetNode:"resetNode",singleBlock:"singleBlock",singleLine:"singleLine",slashCommand:"slash_command",softBreak:"softBreak",tabbable:"tabbable",trailingBlock:"trailingBlock",ul:"disc",yjs:"yjs",codeDrawing:"code_drawing"})},57933:(t,e,r)=>{"use strict";r.d(e,{c:()=>y,n:()=>x,r:()=>b,t:()=>k});var a=r(99019),o=r(15457),i=r(48674),l=r(14796),n=r(50357);let c=function(t){let{at:e=t.selection}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(e&&t.api.some({at:e,match:{type:t.getType(i.t.codeLine)}})){let r=t.api.parent(e);if(!r)return;let[,a]=r,o=t.api.above({at:e,match:{type:t.getType(i.t.codeLine)}})||t.api.parent(a);if(!o)return;let[n,c]=o;if(l.$7.isElement(n)&&n.type!==t.getType(i.t.codeLine))return;let m=t.api.parent(c);if(!m)return;return{codeBlock:m,codeLine:o}}},m=/\S|$/,d=new WeakMap;function s(t,e){let[r,a]=e;for(let[e,n]of(function(t,e){var r;let a,[n,c]=e,m=t.getOptions(k),{defaultLanguage:d}=m,s=(0,o._)(m,["defaultLanguage"]).lowlight,f=n.children.map(t=>l.lZ.string(t)).join("\n"),h=n.lang||d;try{a=h&&"plaintext"!==h?"auto"===h?s.highlightAuto(f):s.highlight(h,f):{value:[]}}catch(r){let e=s.listLanguages();h&&e.includes(h)?t.api.debug.error(r,"CODE_HIGHLIGHT"):t.api.debug.warn('Language "'.concat(h,'" is not registered. Falling back to plaintext')),a={value:[]}}let u=function(t){let e=[[]],r=e[0];for(let a of t){let t=a.text.split("\n");for(let o=0;o<t.length;o++){let i=t[o];i&&r.push({classes:a.classes,content:i}),o<t.length-1&&(e.push([]),r=e.at(-1))}}return e}(function t(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.flatMap(e=>{let a=[...r,...e.properties?e.properties.className:[]];return e.children?t(e.children,a):{classes:a,text:e.value}})}((r=a).value||r.children||[])),p=n.children,g=new Map,y=Math.min(u.length,p.length);for(let t=0;t<y;t++){let e=u[t],r=p[t];g.has(r)||g.set(r,[]);let a=0;for(let o of e){let e=o.content.length;if(!e)continue;let l=a+e,n={anchor:{offset:a,path:[...c,t,0]},className:o.classes.join(" "),focus:{offset:l,path:[...c,t,0]},[i.t.codeSyntax]:!0};g.get(r).push(n),a=l}}return g})(t,[r,a]).entries())d.set(e,n)}let f=/\s/,h=(t,e)=>{let{codeLine:r}=e,[,a]=r,o=t.api.start(a),i=o&&t.api.after(o),l=i&&t.api.range(o,i),n=t.api.string(l);return!!f.test(n)&&(t.tf.delete({at:l}),!0)},u=/\S/,p=(t,e)=>{let{codeLine:r,indentDepth:a=2}=e,[,o]=r,i=t.api.start(o),l=" ".repeat(a);if(!t.api.isExpanded()){var n;let e=null==(n=t.selection)?void 0:n.anchor,r=t.api.range(i,e),a=t.api.string(r);if(u.test(a))return void t.tf.insertText(l,{at:t.selection})}t.tf.insertText(l,{at:i})},g=(t,e)=>{let{codeBlock:r,codeLine:a}=e;h(t,{codeBlock:r,codeLine:a})&&h(t,{codeBlock:r,codeLine:a})},y=t=>{if(!t.selection)return;let e=t.getType(i.t.codeBlock),r=t.getType(i.t.p);t.tf.withoutNormalizing(()=>{for(let a of Array.from(t.api.nodes({at:t.selection,match:{type:e}})).reverse()){for(let[,e]of l.lZ.children(t,a[1]))t.tf.setNodes({type:r},{at:e});t.tf.unwrapNodes({at:a[1],match:{type:e},split:!0})}})},x=(0,n.qt)({key:i.t.codeLine,node:{isElement:!0,isStrictSiblings:!0}}),b=(0,n.Kt)({key:i.t.codeSyntax,node:{isLeaf:!0}}),k=(0,n.qt)({key:i.t.codeBlock,inject:{plugins:{[i.t.html]:{parser:{query:t=>{let{editor:e}=t;return!e.api.some({match:{type:e.getType(i.t.codeLine)}})}}}}},node:{isElement:!0},options:{defaultLanguage:null,lowlight:null},parsers:{html:{deserializer:{rules:[{validNodeName:"PRE"},{validNodeName:"P",validStyle:{fontFamily:"Consolas"}}],parse:t=>{var e,r;let{element:a}=t,o=(null==(e=[...a.childNodes].find(t=>"SELECT"===t.nodeName))?void 0:e.textContent)||"",l=(null==(r=a.textContent)?void 0:r.replace(o,""))||"",n=l.split("\n");return(null==n?void 0:n.length)||(n=[l]),{children:n.map(t=>({children:[{text:t}],type:i.t.codeLine})),type:i.t.codeBlock}}}}},plugins:[x,b],render:{as:"pre"},rules:{delete:{empty:"reset"},match:t=>{let{editor:e,rule:r}=t;return["break.empty","delete.empty"].includes(r)&&(t=>{var e;let{codeBlock:r}=null!=(e=c(t))?e:{};if(!r)return!1;let a=Array.from(l.lZ.children(t,r[1]));if(0===a.length)return!0;if(a.length>1)return!1;let o=a[0][0];return!l.lZ.string(o)})(e)}},decorate:t=>{let{editor:e,entry:[r,a],getOptions:o,type:l}=t;if(!o().lowlight)return[];let n=e.getType(i.t.codeLine);return r.type!==l||d.get(r.children[0])||s(e,[r,a]),r.type===n&&d.get(r)||[]}}).overrideEditor(t=>{let{editor:e,getOptions:r,tf:{apply:o,insertBreak:n,resetBlock:f,selectAll:h,tab:u},type:x}=t;return{transforms:(0,a._)({apply(t){if(r().lowlight&&"set_node"===t.type){var a;let r=e.api.node(t.path);(null==r?void 0:r[0].type)===x&&(null==(a=t.newProperties)?void 0:a.lang)&&r[0].children.forEach(t=>{d.delete(t)})}o(t)},insertBreak(){(()=>{if(!e.selection)return;let t=c(e,{});if(!t)return;let{codeBlock:r,codeLine:a}=t,o=((t,e)=>{let{codeLine:r}=e,[,a]=r;return t.api.string(a).search(m)})(e,{codeBlock:r,codeLine:a});return n(),p(e,{codeBlock:r,codeLine:a,indentDepth:o}),!0})()||n()},resetBlock:t=>e.api.block({at:null==t?void 0:t.at,match:{type:x}})?void y(e):f(t),selectAll:()=>!!(()=>{let t=e.api.above({match:{type:x}});if(t&&!(e.api.isAt({end:!0})&&e.api.isAt({start:!0})))return e.tf.select(t[1]),!0})()||h(),tab:t=>!!(()=>{let r=Array.from(e.api.nodes({match:{type:x}}));if(r.length>0){let[,a]=r[0],o=e.api.parent(a);if(!o)return;return e.tf.withoutNormalizing(()=>{for(let a of r)t.reverse?g(e,{codeBlock:o,codeLine:a}):p(e,{codeBlock:o,codeLine:a})}),!0}})()||u(t)},(t=>{let{editor:e,tf:{insertData:r},type:a}=t;return{transforms:{insertData(t){var o,l;let n=t.getData("text/plain"),c=t.getData("vscode-editor-data"),m=e.getType(i.t.codeLine);if(c)try{let t=JSON.parse(c),r=n.split("\n"),[o]=null!=(l=e.api.block())?l:[];if(o&&[a,m].includes(null==o?void 0:o.type)){if(r[0]&&e.tf.insertText(r[0]),r.length>1){let t=r.slice(1).map(t=>({children:[{text:t}],type:m}));e.tf.insertNodes(t)}}else{let o={children:r.map(t=>({children:[{text:t}],type:m})),lang:null==t?void 0:t.mode,type:a};e.tf.insertNodes(o,{select:!0})}return}catch(t){}let[d]=null!=(o=e.api.block())?o:[];if(d&&[a,m].includes(null==d?void 0:d.type)&&(null==n?void 0:n.includes("\n"))){let t=n.split("\n");if(t[0]&&e.tf.insertText(t[0]),t.length>1){let r=t.slice(1).map(t=>({children:[{text:t}],type:m}));e.tf.insertNodes(r)}return}r(t)}}}})(t).transforms,(t=>{let{editor:e,tf:{insertFragment:r},type:a}=t;return{transforms:{insertFragment(t){var o;let[n]=null!=(o=e.api.block())?o:[],c=e.getType(i.t.codeLine);return n&&[a,c].includes(null==n?void 0:n.type)?r(t.flatMap(t=>t.type===a?t.children:{children:[{text:l.lZ.string(t)}],type:c})):r(t)}}}})(t).transforms,(t=>{let{editor:e,getOptions:r,tf:{normalizeNode:a},type:o}=t;return{transforms:{normalizeNode(t){let[n,c]=t;if(n.type===o&&r().lowlight&&s(e,[n,c]),a([n,c]),!l.$7.isElement(n))return;let m=e.getType(i.t.codeBlock),d=e.getType(i.t.codeLine);if(n.type===m){let t=Array.from(l.lZ.children(e,c)).find(t=>{let[e]=t;return e.type!==d});t&&e.tf.setNodes({type:d},{at:t[1]})}}}}})(t).transforms)}}).extendTransforms(t=>{let{editor:e}=t;return{toggle:()=>{e.tf.toggleBlock(e.getType(i.t.codeBlock))}}})},69954:(t,e,r)=>{"use strict";function a(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}r.d(e,{_:()=>a})},79789:(t,e,r)=>{"use strict";r.d(e,{$y:()=>x,K9:()=>g,N5:()=>v,Sd:()=>y,VX:()=>b,YI:()=>p,Zt:()=>k});var a=r(99019),o=r(5147),i=r(48674),l=r(14796),n=r(50357),c=r(49844);let m=t=>{let e,r,{match:a,trigger:o}=t;"object"==typeof a?(e=a.start,r=a.end):r=(e=a).split("").reverse().join("");let i=o?c(o):[r.slice(-1)];return{end:r=o?r:r.slice(0,-1),start:e,triggers:i}},d=(t,e)=>{let{allowSameTypeAbove:r=!1,format:a,match:o,matchByRegex:n=!1,preFormat:d,text:s,trigger:f,triggerAtBlockStart:h=!0,type:u=i.t.p}=e;for(let e of c(o)){let o,{end:i,triggers:c}=m({match:{end:e,start:""},trigger:f});if(!c.includes(s))continue;let p="";if(h){if(o=t.api.range("start",t.selection),t.api.some({at:o,match:e=>l.$7.isElement(e)&&t.api.isVoid(e)})||(p=t.api.string(o),!(n?!!p.match(i):i===p)))continue}else{if(!(o=t.api.range("before",t.selection,{before:{matchByRegex:n,matchString:i}})))continue;p=t.api.string(o)}if(!(!r&&t.api.some({match:{type:u}})))return e.length>1&&t.tf.delete({at:o}),d&&d(t),a?a(t,{matchString:p}):t.tf.setNodes({type:u},{match:e=>t.api.isBlock(e)}),!0}return!1},s=/\S+/,f=(t,e)=>{let r,a,{end:o,start:i}=e,l=t.selection,n=l.anchor;if(!o||(n=t.api.before(l,{matchString:o}))){if(i&&(!(r=t.api.before(n,{afterMatch:!0,matchString:i,skipInvalid:!0}))||(a=t.api.before(n,{matchString:i,skipInvalid:!0}),!((t,e)=>{let r=t.api.range("before",e);if(r){let e=t.api.string(r);if(e)return!s.exec(e)}return!0})(t,a))))return;return{afterStartMatchPoint:r,beforeEndMatchPoint:n,beforeStartMatchPoint:a}}},h=(t,e)=>{let{ignoreTrim:r,match:a,text:o,trigger:i,type:l}=e;if(!l)return!1;let n=t.selection;for(let e of c(a)){let{end:a,start:d,triggers:s}=m({match:e,trigger:i});if(!s.includes(o))continue;let h=f(t,{end:a,start:d});if(!h)continue;let{afterStartMatchPoint:u,beforeEndMatchPoint:p,beforeStartMatchPoint:g}=h,y={anchor:u,focus:p};if(!r){let e=t.api.string(y);if(e.trim()!==e)continue}a&&t.tf.delete({at:{anchor:p,focus:n.anchor}});let x=c(l);return t.tf.select(y),x.forEach(e=>{t.tf.addMark(e,!0)}),t.tf.collapse({edge:"end"}),t.tf.removeMarks(x,{shouldChange:!1}),t.tf.delete({at:{anchor:g,focus:u}}),!0}return!1},u=(t,e)=>{let{format:r,match:a,text:o,trigger:i}=e,l=t.selection;for(let e of c(a)){let{end:a,start:n,triggers:c}=m({match:Array.isArray(r)?e:{end:e,start:""},trigger:i});if(!c.includes(o))continue;let d=f(t,{end:a,start:n});if(!d)continue;let{afterStartMatchPoint:s,beforeEndMatchPoint:h,beforeStartMatchPoint:u}=d;if(a&&t.tf.delete({at:{anchor:h,focus:l.anchor}}),"function"==typeof r)r(t,d);else{let e=Array.isArray(r)?r[1]:r;if(t.tf.insertText(e),u){let e=Array.isArray(r)?r[0]:r;t.tf.delete({at:{anchor:u,focus:s}}),t.tf.insertText(e,{at:u})}}return!0}return!1},p=(0,n.qt)({key:i.t.autoformat,editOnly:!0,options:{rules:[]}}).overrideEditor(t=>{let{editor:e,getOptions:r,tf:{deleteBackward:i,insertText:n}}=t;return{transforms:{deleteBackward(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"character";(()=>{let{enableUndoOnDelete:a,rules:o}=r();if("character"!==t||!o||!a)return;let{selection:n}=e;if(!n||!e.api.isCollapsed())return;let[c,m]=l.Cb.edges(n),d=e.api.before(m,{distance:1,unit:"character"});if(!c||!d)return;let s={anchor:d,focus:c};if(!s)return;let f=e.api.string(s);if(!f)return;let h=[...o].filter(t=>!!t&&"text"===t.mode&&t.format===f);if(!h||0===h.length)return;i(t);let u=h[0];if(u&&"string"==typeof u.match)e.tf.insertText(u.match);else{let t=u.match;t&&t.length>0&&e.tf.insertText(t[0])}return!0})()||i(t)},insertText(t,i){if(!e.api.isCollapsed())return n(t,i);for(let i of r().rules){var l,c;let{insertTrigger:r,mode:m="text",query:s}=i;if((!s||s(e,(0,o._)((0,a._)({},i),{text:t})))&&(null==(l=(c={block:d,mark:h,text:u})[m])?void 0:l.call(c,e,(0,o._)((0,a._)({},i),{text:t}))))return r&&n(t)}n(t,i)}}}}),g=[{format:"→",match:"->",mode:"text"},{format:"←",match:"<-",mode:"text"},{format:"⇒",match:"=>",mode:"text"},{format:"⇐",match:["<=","≤="],mode:"text"}],y=[{format:"™",match:["(tm)","(TM)"],mode:"text"},{format:"\xae",match:["(r)","(R)"],mode:"text"},{format:"\xa9",match:["(c)","(C)"],mode:"text"}],x=[{format:"™",match:"&trade;",mode:"text"},{format:"\xae",match:"&reg;",mode:"text"},{format:"\xa9",match:"&copy;",mode:"text"},{format:"\xa7",match:"&sect;",mode:"text"}],b=[{format:"—",match:"--",mode:"text"},{format:"…",match:"...",mode:"text"},{format:"\xbb",match:">>",mode:"text"},{format:"\xab",match:"<<",mode:"text"}],k=[{format:["“","”"],match:'"',mode:"text"},{format:["‘","’"],match:"'",mode:"text"}],v=[{format:"≯",match:"!>",mode:"text"},{format:"≮",match:"!<",mode:"text"},{format:"≥",match:">=",mode:"text"},{format:"≤",match:"<=",mode:"text"},{format:"≱",match:"!>=",mode:"text"},{format:"≰",match:"!<=",mode:"text"},{format:"≠",match:"!=",mode:"text"},{format:"≡",match:"==",mode:"text"},{format:"≢",match:["!==","≠="],mode:"text"},{format:"≈",match:"~=",mode:"text"},{format:"≉",match:"!~=",mode:"text"},{format:"\xb1",match:"+-",mode:"text"},{format:"‰",match:"%%",mode:"text"},{format:"‱",match:["%%%","‰%"],mode:"text"},{format:"\xf7",match:"//",mode:"text"},{format:"\xbd",match:"1/2",mode:"text"},{format:"⅓",match:"1/3",mode:"text"},{format:"\xbc",match:"1/4",mode:"text"},{format:"⅕",match:"1/5",mode:"text"},{format:"⅙",match:"1/6",mode:"text"},{format:"⅐",match:"1/7",mode:"text"},{format:"⅛",match:"1/8",mode:"text"},{format:"⅑",match:"1/9",mode:"text"},{format:"⅒",match:"1/10",mode:"text"},{format:"⅔",match:"2/3",mode:"text"},{format:"⅖",match:"2/5",mode:"text"},{format:"\xbe",match:"3/4",mode:"text"},{format:"⅗",match:"3/5",mode:"text"},{format:"⅜",match:"3/8",mode:"text"},{format:"⅘",match:"4/5",mode:"text"},{format:"⅚",match:"5/6",mode:"text"},{format:"⅝",match:"5/8",mode:"text"},{format:"⅞",match:"7/8",mode:"text"},{format:"\xb0",match:"^o",mode:"text"},{format:"⁺",match:"^+",mode:"text"},{format:"⁻",match:"^-",mode:"text"},{format:"₊",match:"~+",mode:"text"},{format:"₋",match:"~-",mode:"text"},{format:"⁰",match:"^0",mode:"text"},{format:"\xb9",match:"^1",mode:"text"},{format:"\xb2",match:"^2",mode:"text"},{format:"\xb3",match:"^3",mode:"text"},{format:"⁴",match:"^4",mode:"text"},{format:"⁵",match:"^5",mode:"text"},{format:"⁶",match:"^6",mode:"text"},{format:"⁷",match:"^7",mode:"text"},{format:"⁸",match:"^8",mode:"text"},{format:"⁹",match:"^9",mode:"text"},{format:"₀",match:"~0",mode:"text"},{format:"₁",match:"~1",mode:"text"},{format:"₂",match:"~2",mode:"text"},{format:"₃",match:"~3",mode:"text"},{format:"₄",match:"~4",mode:"text"},{format:"₅",match:"~5",mode:"text"},{format:"₆",match:"~6",mode:"text"},{format:"₇",match:"~7",mode:"text"},{format:"₈",match:"~8",mode:"text"},{format:"₉",match:"~9",mode:"text"}]},81684:(t,e,r)=>{var a=r(11435),o=r(17486),i=r(80),l=r(16408);t.exports=o(function(t){return t.push(void 0,i),a(l,void 0,t)})}}]);