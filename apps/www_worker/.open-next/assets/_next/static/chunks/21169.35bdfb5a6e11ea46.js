"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[21169],{20127:(e,t,n)=>{n.r(t),n.d(t,{CommentKit:()=>c,commentPlugin:()=>a});var r=n(38088),o=n(50357),l=n(28268),i=n(52430);let a=(0,l.LS)(r.t,{handlers:{onClick:e=>{let{api:t,event:n,setOption:r,type:l}=e,i=n.target,a=!1,c=()=>{r("activeId",null),a=!0};for((0,o.wt)(i)||c();i.parentElement;){if(i.classList.contains("slate-".concat(l))){let e=t.comment.node();if(!e){c();break}let n=t.comment.nodeId(e[0]);r("activeId",null!=n?n:null),a=!0;break}i=i.parentElement}a||c()}},options:{activeId:null,commentingBlock:null,hoverId:null,uniquePathMap:new Map}}).extendTransforms(e=>{let{editor:t,setOption:n,tf:{comment:{setDraft:o}}}=e;return{setDraft:()=>{t.api.isCollapsed()&&t.tf.select(t.api.block()[1]),o(),t.tf.collapse(),n("activeId",(0,r.u)()),n("commentingBlock",t.selection.focus.path.slice(0,1))}}}).configure({node:{component:i.CommentLeaf},shortcuts:{setDraft:{keys:"mod+shift+m"}}}),c=[a]},38088:(e,t,n)=>{n.d(t,{a:()=>m,c:()=>d,i:()=>g,o:()=>h,s:()=>f,t:()=>b,u:()=>u});var r=n(99019),o=n(5147),l=n(15457),i=n(48674),a=n(50357),c=n(14796);let u=()=>"".concat(i.t.comment,"_draft"),s=e=>e.startsWith("".concat(i.t.comment,"_")),d=e=>{let t=0;return Object.keys(e).forEach(e=>{s(e)&&e!==u()&&t++}),t},f=e=>"".concat(i.t.comment,"_").concat(e),h=e=>e.replace("".concat(i.t.comment,"_"),""),m=e=>{let t=[];return Object.keys(e).forEach(e=>{s(e)&&t.push(e)}),t},g=()=>"".concat(i.t.comment,"Transient"),p=(e,t)=>!!e[f(t)],b=(0,a.qt)({key:i.t.comment,node:{isLeaf:!0},rules:{selection:{affinity:"outward"}}}).overrideEditor(e=>{let{editor:t,tf:{normalizeNode:n}}=e;return{transforms:{normalizeNode(e){let[r,o]=e;return r[i.t.comment]&&!r[u()]&&1>d(r)?void t.tf.unsetNodes(i.t.comment,{at:o}):n(e)}}}}).extendApi(e=>{let{editor:t,type:n}=e;return{has:e=>{let{id:n}=e;return new RegExp('"'.concat(f(n),'":true')).test(JSON.stringify(t.children))},node:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:i,isDraft:a}=e,c=(0,l._)(e,["id","isDraft"]);return t.api.node((0,o._)((0,r._)({},c),{match:e=>a?e[n]&&e[u()]:i?p(e,i):e[n]}))},nodeId:e=>{let t=[],n=Object.keys(e);if(!n.includes(u()))return n.forEach(e=>{if(!s(e)||e===u())return;let n=h(e);t.push(n)}),t.at(-1)},nodes:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{id:i,isDraft:a,transient:c}=e,s=(0,l._)(e,["id","isDraft","transient"]);return[...t.api.nodes((0,o._)((0,r._)({},s),{match:e=>a?e[n]&&e[u()]:c?e[n]&&e[g()]:i?p(e,i):e[n]}))]}}}).extendTransforms(e=>{let{api:t,editor:n,tf:o,type:l}=e;return{removeMark:()=>{let e=t.comment.node();if(!e)return;let r=m(e[0]);n.tf.withoutNormalizing(()=>{r.forEach(e=>{n.tf.removeMark(e)}),n.tf.removeMark(i.t.comment)})},setDraft:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o.setNodes({[u()]:!0,[l]:!0},(0,r._)({match:c.Qg.isText,split:!0},e))},unsetMark:e=>{let{id:r,transient:o}=e,l=t.comment.nodes({id:r,at:[],transient:o});l&&l.forEach(e=>{let[o]=e,l=d(o)>1,a=[],c=null!=r?r:t.comment.nodeId(o);a=l?[u(),f(c),g()]:[i.t.comment,u(),f(c),g()],n.tf.unsetNodes(a,{at:[],match:e=>e===o})})}}})},41212:(e,t,n)=>{n.d(t,{D5:()=>b,Hz:()=>k,aL:()=>v});var r=n(62483),o=n(7620);let l=Symbol(),i=Symbol(),a=Object.getPrototypeOf,c=new WeakMap,u=e=>"object"==typeof e&&null!==e,s=e=>e[i]||e,d=(e,t,n,r)=>{var o;let u,f,h,m;if(!(e&&(c.has(e)?c.get(e):a(e)===Object.prototype||a(e)===Array.prototype)))return e;let g=r&&r.get(e);if(!g){let t=s(e);g=Object.values(Object.getOwnPropertyDescriptors(t)).some(e=>!e.configurable&&!e.writable)?[t,(e=>{if(Array.isArray(e))return Array.from(e);let t=Object.getOwnPropertyDescriptors(e);return Object.values(t).forEach(e=>{e.configurable=!0}),Object.create(a(e),t)})(t)]:[t],null==r||r.set(e,g)}let[p,b]=g,v=n&&n.get(p);return v&&!!b===v[1].f||(u={f:o=!!b},f=!1,h=(e,t)=>{if(!f){let n=u.a.get(p);if(n||(n={},u.a.set(p,n)),"w"===e)n.w=!0;else{let r=n[e];r||(r=new Set,n[e]=r),r.add(t)}}},m={get:(e,t)=>t===i?p:(h("k",t),d(Reflect.get(e,t),u.a,u.c,u.t)),has:(e,t)=>t===l?(f=!0,u.a.delete(p),!0):(h("h",t),Reflect.has(e,t)),getOwnPropertyDescriptor:(e,t)=>(h("o",t),Reflect.getOwnPropertyDescriptor(e,t)),ownKeys:e=>(h("w"),Reflect.ownKeys(e))},o&&(m.set=m.deleteProperty=()=>!1),(v=[m,u])[1].p=new Proxy(b||p,v[0]),n&&n.set(p,v)),v[1].a=t,v[1].c=n,v[1].t=r,v[1].p},f=(e,t,n,r,o=Object.is)=>{if(o(e,t))return!1;if(!u(e)||!u(t))return!0;let l=n.get(s(e));if(!l)return!0;if(r){let n=r.get(e);if(n&&n.n===t)return n.g;r.set(e,{n:t,g:!1})}let i=null;try{for(let n of l.h||[])if(i=Reflect.has(e,n)!==Reflect.has(t,n))return i;if(!0===l.w){let n,r;if(n=Reflect.ownKeys(e),r=Reflect.ownKeys(t),i=n.length!==r.length||n.some((e,t)=>e!==r[t]))return i}else for(let n of l.o||[])if(i=!!Reflect.getOwnPropertyDescriptor(e,n)!=!!Reflect.getOwnPropertyDescriptor(t,n))return i;for(let a of l.k||[])if(i=f(e[a],t[a],n,r,o))return i;return null===i&&(i=!0),i}finally{r&&r.set(e,{n:t,g:i})}};n(40459);var h=n(45698),m=n(23884);let{useSyncExternalStoreWithSelector:g}=h,p=(e,t)=>{let n=(0,m.y)(e),r=(e,r=t)=>(function(e,t=e=>e,n){let r=g(e.subscribe,e.getState,e.getInitialState,t,n);return o.useDebugValue(r),r})(n,e,r);return Object.assign(r,n),r};var b=(e,t)=>{let n,l,i,a=(0,r.sV)(e,t),c=(n=a.stateCreator)?p(n,l):p,u=()=>{let[,e]=(0,o.useReducer)(e=>e+1,0),t=new WeakMap,n=(0,o.useRef)(),r=(0,o.useRef)(),l=(0,o.useRef)();return(0,o.useEffect)(()=>{n.current=t,r.current!==l.current&&f(r.current,l.current,t,new WeakMap)&&(r.current=l.current,e())}),d(c((0,o.useCallback)(e=>(l.current=e,r.current&&r.current!==e&&n.current&&!f(r.current,e,n.current,new WeakMap))?r.current:(r.current=e,e),[])),t,(0,o.useMemo)(()=>new WeakMap,[]))},s=(0,r.wx)(c,{name:a.name,isMutative:a.isMutative}),h=(e,t)=>c(t=>t[e],t);return i={...s,store:c,useStore:c,useValue:h,useState:(e,t)=>[h(e,t),t=>s.set(e,t)],useTracked:e=>u()[e],useTrackedStore:u},(0,r.S_)(i,{extendSelectors:(e,t)=>(0,r.tW)(e,t,{selectWithStore:(e,n)=>t.useStore(e,n)}),extendActions:(e,t)=>(0,r.WK)(e,t)})};function v(e,t,...n){return e.useValue(t,...n)}var k=(e,t,n)=>e.useStore(t,n)},45698:(e,t,n)=>{e.exports=n(91932)},48674:(e,t,n)=>{n.d(t,{t:()=>o});var r=n(99019);let o=(0,n(5147)._)((0,r._)({},{a:"a",ai:"ai",aiChat:"aiChat",audio:"audio",blockquote:"blockquote",bold:"bold",callout:"callout",code:"code",codeBlock:"code_block",codeLine:"code_line",codeSyntax:"code_syntax",column:"column",columnGroup:"column_group",comment:"comment",date:"date",emojiInput:"emoji_input",equation:"equation",excalidraw:"excalidraw",file:"file",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",highlight:"highlight",hr:"hr",img:"img",inlineEquation:"inline_equation",italic:"italic",kbd:"kbd",li:"li",lic:"lic",link:"a",listTodoClassic:"action_item",mediaEmbed:"media_embed",mention:"mention",mentionInput:"mention_input",olClassic:"ol",p:"p",searchHighlight:"search_highlight",slashInput:"slash_input",strikethrough:"strikethrough",sub:"subscript",suggestion:"suggestion",sup:"superscript",table:"table",tag:"tag",taskList:"taskList",td:"td",th:"th",toc:"toc",toggle:"toggle",tr:"tr",ulClassic:"ul",underline:"underline",video:"video"},{backgroundColor:"backgroundColor",color:"color",fontFamily:"fontFamily",fontSize:"fontSize",fontWeight:"fontWeight",indent:"indent",lineHeight:"lineHeight",listType:"listStyleType",textAlign:"textAlign",textIndent:"textIndent"}),{autoformat:"autoformat",blockMenu:"blockMenu",blockPlaceholder:"blockPlaceholder",blockSelection:"blockSelection",caption:"caption",copilot:"copilot",csv:"csv",cursorOverlay:"cursorOverlay",delete:"delete",dnd:"dnd",docx:"docx",emoji:"emoji",exitBreak:"exitBreak",heading:["h1","h2","h3","h4","h5","h6"],html:"html",juice:"juice",list:"list",listChecked:"checked",listClassic:"listClassic",listRestart:"listRestart",listRestartPolite:"listRestartPolite",listStart:"listStart",listTodo:"todo",markdown:"markdown",nodeId:"nodeId",normalizeTypes:"normalizeTypes",ol:"decimal",placeholder:"placeholder",playwright:"playwright",removeEmptyNodes:"removeEmptyNodes",resetNode:"resetNode",singleBlock:"singleBlock",singleLine:"singleLine",slashCommand:"slash_command",softBreak:"softBreak",tabbable:"tabbable",trailingBlock:"trailingBlock",ul:"disc",yjs:"yjs",codeDrawing:"code_drawing"})},52430:(e,t,n)=>{n.r(t),n.d(t,{CommentLeaf:()=>d});var r=n(99019),o=n(5147),l=n(54568),i=n(99680);n(7620);var a=n(38088),c=n(28268),u=n(87536),s=n(20127);function d(e){let t,n,d,f,h,m,g,p=(0,i.c)(23),{children:b,leaf:v}=e,{api:k,setOption:y}=(0,c.CF)(s.commentPlugin),w=(0,c.gO)(s.commentPlugin,"hoverId"),S=(0,c.gO)(s.commentPlugin,"activeId"),_=(0,a.c)(v)>1;p[0]!==k.comment||p[1]!==v?(t=k.comment.nodeId(v),p[0]=k.comment,p[1]=v,p[2]=t):t=p[2];let x=t,O=S===x,E=w===x,j=(E||O)&&"border-b-highlight bg-highlight/25",C=_&&"border-b-2 border-b-highlight/[.7] bg-highlight/25",I=(E||O)&&_&&"border-b-highlight bg-highlight/45";return p[3]!==j||p[4]!==C||p[5]!==I?(n=(0,u.cn)("border-b-2 border-b-highlight/[.36] bg-highlight/[.13] transition-colors duration-200",j,C,I),p[3]=j,p[4]=C,p[5]=I,p[6]=n):n=p[6],p[7]!==x||p[8]!==y?(d=()=>y("activeId",null!=x?x:null),f=()=>y("hoverId",null!=x?x:null),p[7]=x,p[8]=y,p[9]=d,p[10]=f):(d=p[9],f=p[10]),p[11]!==y?(h=()=>y("hoverId",null),p[11]=y,p[12]=h):h=p[12],p[13]!==e.attributes||p[14]!==d||p[15]!==f||p[16]!==h?(m=(0,o._)((0,r._)({},e.attributes),{onClick:d,onMouseEnter:f,onMouseLeave:h}),p[13]=e.attributes,p[14]=d,p[15]=f,p[16]=h,p[17]=m):m=p[17],p[18]!==b||p[19]!==e||p[20]!==n||p[21]!==m?(g=(0,l.jsx)(c.nK,(0,o._)((0,r._)({},e),{className:n,attributes:m,children:b})),p[18]=b,p[19]=e,p[20]=n,p[21]=m,p[22]=g):g=p[22],g}},58027:(e,t,n)=>{var r=n(7620),o="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},l=r.useState,i=r.useEffect,a=r.useLayoutEffect,c=r.useDebugValue;function u(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!o(e,n)}catch(e){return!0}}var s="u"<typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),r=l({inst:{value:n,getSnapshot:t}}),o=r[0].inst,s=r[1];return a(function(){o.value=n,o.getSnapshot=t,u(o)&&s({inst:o})},[e,n,t]),i(function(){return u(o)&&s({inst:o}),e(function(){u(o)&&s({inst:o})})},[e]),c(n),n};t.useSyncExternalStore=void 0!==r.useSyncExternalStore?r.useSyncExternalStore:s},63108:(e,t,n)=>{e.exports=n(58027)},91932:(e,t,n)=>{var r=n(7620),o=n(63108),l="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=o.useSyncExternalStore,a=r.useRef,c=r.useEffect,u=r.useMemo,s=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,o){var d=a(null);if(null===d.current){var f={hasValue:!1,value:null};d.current=f}else f=d.current;var h=i(e,(d=u(function(){function e(e){if(!c){if(c=!0,i=e,e=r(e),void 0!==o&&f.hasValue){var t=f.value;if(o(t,e))return a=t}return a=e}if(t=a,l(i,e))return t;var n=r(e);return void 0!==o&&o(t,n)?(i=e,t):(i=e,a=n)}var i,a,c=!1,u=void 0===n?null:n;return[function(){return e(t())},null===u?void 0:function(){return e(u())}]},[t,n,r,o]))[0],d[1]);return c(function(){f.hasValue=!0,f.value=h},[h]),s(h),h}}}]);