"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[26891],{22967:(t,e,n)=>{n.r(e),n.d(e,{CursorOverlay:()=>m});var s=n(99019),a=n(54568),i=n(99680);n(7620);var o=n(46639),r=n(30589),l=n(61883),d=n(14796),c=n(28268),x=n(87536);function m(){let t,e,n=(0,i.c)(4),{cursors:s}=(0,r.s8)();return n[0]!==s?(t=s.map(u),n[0]=s,n[1]=t):t=n[1],n[2]!==t?(e=(0,a.jsx)(a.Fragment,{children:t}),n[2]=t,n[3]=e):e=n[3],e}function u(t){return(0,a.jsx)(p,(0,s._)({},t),t.id)}function p(t){let e,n,r,m,u,p=(0,i.c)(16),{id:g,caretPosition:h,data:f,selection:b,selectionRects:v}=t,y=(0,c.Q_)(),w=(0,c.gO)(o.WB,"streaming");if(p[0]!==f||p[1]!==y||p[2]!==g||p[3]!==b||p[4]!==v||p[5]!==w){r=Symbol.for("react.early_return_sentinel");t:{let{style:t,selectionStyle:i}=null!=f?f:{};e=t;let o=void 0===i?e:i,c=d.Cb.isCollapsed(b);if(w||"selection"===g&&b&&(0,l.V)(y,{at:b,format:"cell"}).length>1){r=null;break t}n=v.map((t,e)=>(0,a.jsx)("div",{className:(0,x.cn)("pointer-events-none absolute z-10","selection"===g&&"bg-brand/25","selection"===g&&c&&"bg-primary"),style:(0,s._)({},o,t)},e))}p[0]=f,p[1]=y,p[2]=g,p[3]=b,p[4]=v,p[5]=w,p[6]=e,p[7]=n,p[8]=r}else e=p[6],n=p[7],r=p[8];return r!==Symbol.for("react.early_return_sentinel")?r:(p[9]!==h||p[10]!==g||p[11]!==e?(m=h&&(0,a.jsx)("div",{className:(0,x.cn)("pointer-events-none absolute z-10 w-0.5","drag"===g&&"w-px bg-brand"),style:(0,s._)({},h,e)}),p[9]=h,p[10]=g,p[11]=e,p[12]=m):m=p[12],p[13]!==n||p[14]!==m?(u=(0,a.jsxs)(a.Fragment,{children:[n,m]}),p[13]=n,p[14]=m,p[15]=u):u=p[15],u)}},32548:(t,e,n)=>{n.r(e),n.d(e,{useChat:()=>C});var s=n(99019),a=n(5147),i=n(69954),o=n(7620),r=n(65020),l=n(16017),d=n(46639),c=n(38088),x=n(45806),m=n(30589),u=n(48554),p=n(48674),g=n(81993),h=n(14796),f=n(28268),b=n(46296),v=n(13706),y=n(50250);function w(){let t=(0,i._)(['"'],['\\"']);return w=function(){return t},t}function k(){let t=(0,i._)(["\n"],["\\n"]);return k=function(){return t},t}function A(){let t=(0,i._)(["\r"],["\\r"]);return A=function(){return t},t}function _(){let t=(0,i._)(["	"],["\\t"]);return _=function(){return t},t}let C=()=>{let t=(0,f.Q_)(),e=(0,f.gO)(b.aiChatPlugin,"chatOptions"),n=o.useRef(null),i=(0,r.Y_)((0,s._)({id:"editor",transport:new u.rL({api:e.api||"/api/ai/command",fetch:async(e,i)=>{var o,r,l,d,c,x;let m=null==(o=t.getOptions(b.aiChatPlugin).chatOptions)?void 0:o.body,u=JSON.parse(null==i?void 0:i.body),g=(0,s._)({},u,m),h=await fetch(e,(0,a._)((0,s._)({},i),{body:JSON.stringify(g)}));if(!h.ok){let e=null;try{let n=JSON.parse(null==i?void 0:i.body),s=null==(r=n.messages.at(-1).parts.find(t=>"text"===t.type))?void 0:r.text;if(s.includes("Generate a markdown sample")?e="markdown":s.includes("Generate a mdx sample")?e="mdx":s.includes("comment")&&(e="comment"),!e){if((t.getOption({key:p.t.table},"selectedCells")||[]).length>1)e="table";else if((null==(l=n.ctx)?void 0:l.children)&&(null==(d=n.ctx)?void 0:d.selection)){let{selection:t,children:s}=n.ctx,a=null==(c=t.anchor)?void 0:c.path,i=null==(x=t.focus)?void 0:x.path;if(a&&a.length>=3){let t=s[a[0]];if((null==t?void 0:t.type)==="table"){let t=a.slice(0,3).join(","),n=null==i?void 0:i.slice(0,3).join(",");n&&t!==n&&(e="table")}}}}}catch(t){e=null}return n.current=new AbortController,await new Promise(t=>setTimeout(t,400)),new Response(S({editor:t,sample:e,signal:n.current.signal}),{headers:{Connection:"keep-alive","Content-Type":"text/plain"}})}return h}}),onData(e){if("data-toolName"===e.type&&t.setOption(d.WB,"toolName",e.data),"data-table"===e.type&&e.data){let n=e.data;if("finished"===n.status){let e=t.getOption(d.WB,"chatSelection");if(!e)return;t.tf.setSelection(e);return}let s=n.cellUpdate;(0,y.r)(t,()=>{(0,d.hC)(t,s)})}if("data-comment"===e.type&&e.data){let n=e.data;if("finished"===n.status)return void t.getApi(m.vO).blockSelection.deselect();let s=n.comment,a=(0,d.Sv)(t,s);if(!a)return console.warn("No range found for AI comment");let i=t.getOption(v.discussionPlugin,"discussions")||[],o=(0,g.Ak)(),r={id:(0,g.Ak)(),contentRich:[{children:[{text:s.comment}],type:"p"}],createdAt:new Date,discussionId:o,isEdited:!1,userId:t.getOption(v.discussionPlugin,"currentUserId")},l={id:o,comments:[r],createdAt:new Date,documentContent:(0,x.$r)(t,s.content).map(t=>h.lZ.string(t)).join("\n"),isResolved:!1,userId:t.getOption(v.discussionPlugin,"currentUserId")},u=[...i,l];t.setOption(v.discussionPlugin,"discussions",u),t.tf.withMerging(()=>{t.tf.setNodes({[(0,c.s)(l.id)]:!0,[(0,c.i)()]:!0,[p.t.comment]:!0},{at:a,match:h.Qg.isText,split:!0})})}}},e)),l=(0,a._)((0,s._)({},i),{_abortFakeStream:()=>{n.current&&(n.current.abort(),n.current=null)}});return o.useEffect(()=>{t.setOption(d.WB,"chat",l)},[l.status,l.messages,l.error]),l},S=t=>{let{chunkCount:e=10,editor:n,sample:s=null,signal:a}=t,i=new TextEncoder;return new ReadableStream({async start(t){let o="markdown"===s?N:"mdx"===s?B:"comment"===s?O(n):"table"===s?W(n):[Array.from({length:e},()=>({delay:l.a.number.int({max:100,min:30}),texts:"".concat(l.a.lorem.words({max:3,min:1})," ")})),Array.from({length:e+2},()=>({delay:l.a.number.int({max:100,min:30}),texts:"".concat(l.a.lorem.words({max:3,min:1})," ")})),Array.from({length:e+4},()=>({delay:l.a.number.int({max:100,min:30}),texts:"".concat(l.a.lorem.words({max:3,min:1})," ")}))];if(null==a?void 0:a.aborted)return void t.error(Error("Aborted before start"));let r=()=>{t.error(Error("Stream aborted"))};null==a||a.addEventListener("abort",r);let d="msg_".concat(l.a.string.alphanumeric(40));if("comment"===s||"table"===s){for(let e of(t.enqueue(i.encode('data: {"type":"start"}\n\n')),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode('data: {"type":"start-step"}\n\n')),await new Promise(t=>setTimeout(t,10)),o))for(let n of e){if(await new Promise(t=>setTimeout(t,n.delay)),null==a?void 0:a.aborted){null==a||a.removeEventListener("abort",r);return}t.enqueue(i.encode("data: ".concat(n.texts,"\n\n")))}t.enqueue(i.encode("data: [DONE]\n\n"))}else{t.enqueue(i.encode('data: {"type":"start"}\n\n')),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode('data: {"type":"start-step"}\n\n')),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode('data: {"type":"text-start","id":"'.concat(d,'","providerMetadata":{"openai":{"itemId":"').concat(d,'"}}}\n\n'))),await new Promise(t=>setTimeout(t,10));for(let e=0;e<o.length;e++){for(let n of o[e]){if(await new Promise(t=>setTimeout(t,n.delay)),null==a?void 0:a.aborted){null==a||a.removeEventListener("abort",r);return}let e=n.texts.replace(/\\/g,"\\\\").replace(/"/g,String.raw(w())).replace(/\n/g,String.raw(k())).replace(/\r/g,String.raw(A())).replace(/\t/g,String.raw(_()));t.enqueue(i.encode('data: {"type":"text-delta","id":"'.concat(d,'","delta":"').concat(e,'"}\n\n')))}e<o.length-1&&t.enqueue(i.encode('data: {"type":"text-delta","id":"'.concat(d,'","delta":"\\n\\n"}\n\n')))}t.enqueue(i.encode('data: {"type":"text-end","id":"'.concat(d,'"}\n\n'))),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode('data: {"type":"finish-step"}\n\n')),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode('data: {"type":"finish"}\n\n')),await new Promise(t=>setTimeout(t,10)),t.enqueue(i.encode("data: [DONE]\n\n"))}null==a||a.removeEventListener("abort",r),t.close()}})},j=l.a.number.int({max:20,min:5}),N=[[{delay:j,texts:"Make text "},{delay:j,texts:"**bold**"},{delay:j,texts:", "},{delay:j,texts:"*italic*"},{delay:j,texts:", "},{delay:j,texts:"__underlined__"},{delay:j,texts:", or apply a "},{delay:j,texts:"***combination***"},{delay:j,texts:" "},{delay:j,texts:"of "},{delay:j,texts:"these "},{delay:j,texts:"styles "},{delay:j,texts:"for "},{delay:j,texts:"a "},{delay:j,texts:"visually "},{delay:j,texts:"striking "},{delay:j,texts:"effect."},{delay:j,texts:"\n\n"},{delay:j,texts:"Add "},{delay:j,texts:"~~strikethrough~~"},{delay:j,texts:" "},{delay:j,texts:"to "},{delay:j,texts:"indicate "},{delay:j,texts:"deleted "},{delay:j,texts:"or "},{delay:j,texts:"outdated "},{delay:j,texts:"content."},{delay:j,texts:"\n\n"},{delay:j,texts:"Write "},{delay:j,texts:"code "},{delay:j,texts:"snippets "},{delay:j,texts:"with "},{delay:j,texts:"inline "},{delay:j,texts:"`code`"},{delay:j,texts:" formatting "},{delay:j,texts:"for "},{delay:j,texts:"easy "},{delay:l.a.number.int({max:100,min:30}),texts:"readability."},{delay:j,texts:"\n\n"},{delay:j,texts:"Add "},{delay:j,texts:"[links](https://example.com)"},{delay:l.a.number.int({max:100,min:30}),texts:" to "},{delay:l.a.number.int({max:100,min:30}),texts:"external "},{delay:j,texts:"resources "},{delay:j,texts:"or "},{delay:j,texts:"references.\n\n"},{delay:j,texts:"Use "},{delay:j,texts:"inline "},{delay:j,texts:"math "},{delay:j,texts:"equations "},{delay:j,texts:"like "},{delay:j,texts:"$E = mc^2$ "},{delay:j,texts:"for "},{delay:j,texts:"scientific "},{delay:j,texts:"notation."},{delay:j,texts:"\n\n"},{delay:j,texts:"# "},{delay:j,texts:"Heading "},{delay:j,texts:"1\n\n"},{delay:j,texts:"## "},{delay:j,texts:"Heading "},{delay:j,texts:"2\n\n"},{delay:j,texts:"### "},{delay:j,texts:"Heading "},{delay:j,texts:"3\n\n"},{delay:j,texts:"> "},{delay:j,texts:"Blockquote\n\n"},{delay:j,texts:"- "},{delay:j,texts:"Unordered "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"1\n"},{delay:j,texts:"- "},{delay:j,texts:"Unordered "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"2\n\n"},{delay:j,texts:"1. "},{delay:j,texts:"Ordered "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"1\n"},{delay:j,texts:"2. "},{delay:j,texts:"Ordered "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"2\n\n"},{delay:j,texts:"- "},{delay:j,texts:"[ "},{delay:j,texts:"] "},{delay:j,texts:"Task "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"1\n"},{delay:j,texts:"- "},{delay:j,texts:"[x] "},{delay:j,texts:"Task "},{delay:j,texts:"list "},{delay:j,texts:"item "},{delay:j,texts:"2\n\n"},{delay:j,texts:"![Alt "},{delay:j,texts:"text](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\n\n"},{delay:j,texts:"### Advantage blocks:\n"},{delay:j,texts:"\n"},{delay:j,texts:"$$\n"},{delay:j,texts:"a^2 + b^2 = c^2\n"},{delay:j,texts:"$$\n"},{delay:j,texts:"\n"},{delay:j,texts:"```python\n"},{delay:j,texts:"# "},{delay:j,texts:"Code "},{delay:j,texts:"block\n"},{delay:j,texts:'print("Hello, '},{delay:j,texts:'World!")\n'},{delay:j,texts:"```\n\n"},{delay:j,texts:"Horizontal "},{delay:j,texts:"rule\n\n"},{delay:j,texts:"---\n\n"},{delay:j,texts:"| "},{delay:j,texts:"Header "},{delay:j,texts:"1 "},{delay:j,texts:"| "},{delay:j,texts:"Header "},{delay:j,texts:"2 "},{delay:j,texts:"|\n"},{delay:j,texts:"|----------|----------|\n"},{delay:j,texts:"| "},{delay:j,texts:"Row "},{delay:j,texts:"1   "},{delay:j,texts:" | "},{delay:j,texts:"Data    "},{delay:j,texts:" |\n"},{delay:j,texts:"| "},{delay:j,texts:"Row "},{delay:j,texts:"2   "},{delay:j,texts:" | "},{delay:j,texts:"Data    "},{delay:j,texts:" |"}]],B=[[{delay:j,texts:"## "},{delay:j,texts:"Basic "},{delay:j,texts:"Markdown\n\n"},{delay:j,texts:"> "},{delay:j,texts:"The "},{delay:j,texts:"following "},{delay:j,texts:"node "},{delay:j,texts:"and "},{delay:j,texts:"marks "},{delay:j,texts:"is "},{delay:j,texts:"supported "},{delay:j,texts:"by "},{delay:j,texts:"the "},{delay:j,texts:"Markdown "},{delay:j,texts:"standard.\n\n"},{delay:j,texts:"Format "},{delay:j,texts:"text "},{delay:j,texts:"with **b"},{delay:j,texts:"old**, _"},{delay:j,texts:"italic_,"},{delay:j,texts:" _**comb"},{delay:j,texts:"ined sty"},{delay:j,texts:"les**_, "},{delay:j,texts:"~~strike"},{delay:j,texts:"through~"},{delay:j,texts:"~, `code"},{delay:j,texts:"` format"},{delay:j,texts:"ting, an"},{delay:j,texts:"d [hyper"},{delay:j,texts:"links](https://en.wikipedia.org/wiki/Hypertext).\n\n"},{delay:j,texts:"```javascript\n"},{delay:j,texts:"// Use code blocks to showcase code snippets\n"},{delay:j,texts:"function greet() {\n"},{delay:j,texts:'  console.info("Hello World!")\n'},{delay:j,texts:"}\n"},{delay:j,texts:"```\n\n"},{delay:j,texts:"- Simple"},{delay:j,texts:" lists f"},{delay:j,texts:"or organ"},{delay:j,texts:"izing co"},{delay:j,texts:"ntent\n"},{delay:j,texts:"1. "},{delay:j,texts:"Numbered "},{delay:j,texts:"lists "},{delay:j,texts:"for "},{delay:j,texts:"sequential "},{delay:j,texts:"steps\n\n"},{delay:j,texts:"| **Plugin**  | **Element** | **Inline** | **Void** |\n"},{delay:j,texts:"| ----------- | ----------- | ---------- | -------- |\n"},{delay:j,texts:"| **Heading** |             |            | No       |\n"},{delay:j,texts:"| **Image**   | Yes         | No         | Yes      |\n"},{delay:j,texts:"| **Ment"},{delay:j,texts:"ion** | Yes         | Yes        | Yes      |\n\n"},{delay:j,texts:"![](https://images.unsplash.com/photo-1712688930249-98e1963af7bd?q=80&w=2070&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D)\n\n"},{delay:j,texts:"- [x] Co"},{delay:j,texts:"mpleted "},{delay:j,texts:"tasks\n"},{delay:j,texts:"- [ ] Pe"},{delay:j,texts:"nding ta"},{delay:j,texts:"sks\n\n"},{delay:j,texts:"---\n\n## Advan"},{delay:j,texts:"ced Feat"},{delay:j,texts:"ures\n\n"},{delay:j,texts:"<callout> "},{delay:j,texts:"The "},{delay:j,texts:"following "},{delay:j,texts:"node "},{delay:j,texts:"and "},{delay:j,texts:"marks "},{delay:j,texts:"are "},{delay:j,texts:"not "},{delay:j,texts:"supported "},{delay:j,texts:"in "},{delay:j,texts:"Markdown "},{delay:j,texts:"but "},{delay:j,texts:"can "},{delay:j,texts:"be "},{delay:j,texts:"serialized "},{delay:j,texts:"and "},{delay:j,texts:"deserialized "},{delay:j,texts:"using "},{delay:j,texts:"MDX "},{delay:j,texts:"or "},{delay:j,texts:"specialized "},{delay:j,texts:"UnifiedJS "},{delay:j,texts:"plugins. "},{delay:j,texts:"</callout>\n\n"},{delay:j,texts:"Advanced "},{delay:j,texts:"marks: "},{delay:j,texts:"<kbd>âŒ˜ "},{delay:j,texts:"+ "},{delay:j,texts:"B</kbd>,<u>underlined</u>, "},{delay:j,texts:"<mark"},{delay:j,texts:">highli"},{delay:j,texts:"ghted</m"},{delay:j,texts:"ark"},{delay:j,texts:"> text, "},{delay:j,texts:"<span s"},{delay:j,texts:'tyle="co'},{delay:j,texts:"lor: #93"},{delay:j,texts:'C47D;">c'},{delay:j,texts:"olored t"},{delay:j,texts:"ext</spa"},{delay:j,texts:"n> and "},{delay:j,texts:"<spa"},{delay:j,texts:"n"},{delay:j,texts:' style="'},{delay:j,texts:"backgrou"},{delay:j,texts:"nd-color"},{delay:j,texts:": #6C9EE"},{delay:j,texts:'B;">back'},{delay:j,texts:"ground h"},{delay:j,texts:"ighlight"},{delay:j,texts:"s</spa"},{delay:j,texts:"n> for "},{delay:j,texts:"visual e"},{delay:j,texts:"mphasis.\n\n"},{delay:j,texts:"Superscript "},{delay:j,texts:"like "},{delay:j,texts:"E=mc<sup>2</sup> "},{delay:j,texts:"and "},{delay:j,texts:"subscript "},{delay:j,texts:"like "},{delay:j,texts:"H<sub>2</sub>O "},{delay:j,texts:"demonstrate "},{delay:j,texts:"mathematical "},{delay:j,texts:"and "},{delay:j,texts:"chemical "},{delay:j,texts:"notation "},{delay:j,texts:"capabilities.\n\n"},{delay:j,texts:"Add "},{delay:j,texts:"mentions "},{delay:j,texts:"like "},{delay:j,texts:"@BB-8, d"},{delay:j,texts:"ates (<d"},{delay:j,texts:"ate>2025"},{delay:j,texts:"-05-08</"},{delay:j,texts:"date>), "},{delay:j,texts:"and math"},{delay:j,texts:" formula"},{delay:j,texts:"s ($E=mc"},{delay:j,texts:"^2$).\n\n"},{delay:j,texts:"The "},{delay:j,texts:"table "},{delay:j,texts:"of "},{delay:j,texts:"contents "},{delay:j,texts:"feature "},{delay:j,texts:"automatically "},{delay:j,texts:"generates "},{delay:j,texts:"document "},{delay:j,texts:"structure "},{delay:j,texts:"for "},{delay:j,texts:"easy "},{delay:j,texts:"navigation.\n\n"},{delay:j,texts:"<toc "},{delay:j,texts:"/>\n\n"},{delay:j,texts:"Math "},{delay:j,texts:"formula "},{delay:j,texts:"support "},{delay:j,texts:"makes "},{delay:j,texts:"displaying "},{delay:j,texts:"complex "},{delay:j,texts:"mathematical "},{delay:j,texts:"expressions "},{delay:j,texts:"simple.\n\n"},{delay:j,texts:"$$\n"},{delay:j,texts:"a^2"},{delay:j,texts:"+b^2"},{delay:j,texts:"=c^2\n"},{delay:j,texts:"$$\n\n"},{delay:j,texts:"Multi-co"},{delay:j,texts:"lumn lay"},{delay:j,texts:"out feat"},{delay:j,texts:"ures ena"},{delay:j,texts:"ble rich"},{delay:j,texts:"er page "},{delay:j,texts:"designs "},{delay:j,texts:"and cont"},{delay:j,texts:"ent layo"},{delay:j,texts:"uts.\n\n"},{delay:j,texts:"PDF "},{delay:j,texts:"embedding "},{delay:j,texts:"makes "},{delay:j,texts:"document "},{delay:j,texts:"referencing "},{delay:j,texts:"simple "},{delay:j,texts:"and "},{delay:j,texts:"intuitive.\n\n"},{delay:j,texts:"<file "},{delay:j,texts:'name="sample.pdf" '},{delay:j,texts:'align="center" '},{delay:j,texts:'src="https://s26.q4cdn.com/900411403/files/doc_downloads/test.pdf" width="80%" isUpload="true" />\n\n'},{delay:j,texts:"Audio "},{delay:j,texts:"players "},{delay:j,texts:"can "},{delay:j,texts:"be "},{delay:j,texts:"embedded "},{delay:j,texts:"directly "},{delay:j,texts:"into "},{delay:j,texts:"documents, "},{delay:j,texts:"supporting "},{delay:j,texts:"online "},{delay:j,texts:"audio "},{delay:j,texts:"resources.\n\n"},{delay:j,texts:"<audio "},{delay:j,texts:'align="center" '},{delay:j,texts:'src="https://samplelib.com/lib/preview/mp3/sample-3s.mp3" width="80%" />\n\n'},{delay:j,texts:"Video "},{delay:j,texts:"playback "},{delay:j,texts:"features "},{delay:j,texts:"support "},{delay:j,texts:"embedding "},{delay:j,texts:"various "},{delay:j,texts:"online "},{delay:j,texts:"video "},{delay:j,texts:"resources, "},{delay:j,texts:"enriching "},{delay:j,texts:"document "},{delay:j,texts:"content.\n\n"},{delay:j,texts:"<video "},{delay:j,texts:'align="center" '},{delay:j,texts:'src="https://videos.pexels.com/video-files/6769791/6769791-uhd_2560_1440_24fps.mp4" width="80%" isUpload="true" />'}]],O=t=>{let e=t.getApi(m.vO).blockSelection.getNodes({selectionFallback:!0,sort:!0}).map(t=>{let[e]=t;return e}),n=t.getOption(m.vO,"isSelectingSome"),s=e.length>0&&(t.api.isExpanded()||n)?e:t.children,a=s.length,i=Math.ceil(a/2),o=new Set;for(;o.size<i;){let t=Math.floor(Math.random()*a);o.add(t)}let r=Array.from(o).sort((t,e)=>t-e);return[[{delay:50,texts:'{"data":"comment","type":"data-toolName"}'}],...r.map((t,e)=>{let n=s[t];if(!n)return[];let a=h.lZ.string(n),i=a.indexOf("."),o=-1===i?a:a.slice(0,i);return[{delay:l.a.number.int({max:500,min:200}),texts:'{"id":"'.concat((0,g.Ak)(),'","data":{"comment":{"blockId":"').concat(n.id,'","comment":"').concat(l.a.lorem.sentence(),'","content":"').concat(o,'"},"status":"').concat(e===r.length-1?"finished":"streaming",'"},"type":"data-comment"}')}]}).filter(t=>t.length>0)]},W=t=>{let e=t.getOption({key:p.t.table},"selectedCells")||[],n=[];if(e.length>0)n=e.map(t=>t.id).filter(Boolean);else{var s;n=Array.from(t.api.nodes({at:null!=(s=t.selection)?s:void 0,match:t=>t.type===p.t.td||t.type===p.t.th})).map(t=>{let[e]=t;return e.id}).filter(Boolean)}return 0===n.length?[[{delay:50,texts:'{"data":"edit","type":"data-toolName"}'}],[{delay:100,texts:'{"id":"'.concat((0,g.Ak)(),'","data":{"cellUpdate":null,"status":"finished"},"type":"data-table"}')}]]:[[{delay:50,texts:'{"data":"edit","type":"data-toolName"}'}],...n.map((t,e)=>[{delay:l.a.number.int({max:300,min:100}),texts:'{"id":"'.concat((0,g.Ak)(),'","data":{"cellUpdate":{"id":"').concat(t,'","content":"').concat(l.a.lorem.sentence(),'"},"status":"').concat(e===n.length-1?"finished":"streaming",'"},"type":"data-table"}')}])]}},38037:(t,e,n)=>{n.r(e),n.d(e,{AILoadingBar:()=>$,AIMenu:()=>H,AIMenuItems:()=>q});var s=n(54568),a=n(99680),i=n(7620),o=n(46639),r=n(38088),l=n(30589),d=n(42697),c=n(93606),x=n(40609),m=n(9851),u=n(18573),p=n(55447),g=n(11755),h=n(15352),f=n(83290),b=n(98683),v=n(59681),y=n(64884),w=n(74316),k=n(1232),A=n(19104),_=n(59364),C=n(1229),S=n(48674),j=n(13988),N=n(14796),B=n(28268),O=n(84914),W=n(93955),E=n(89742),M=n(54866),T=n(87536),D=n(20127),I=n(17258),P=n(27608);let z=i.memo(function(t){let e,n,i=(0,a.c)(4),{content:r}=t;i[0]===Symbol.for("react.memo_cache_sentinel")?(e={plugins:I.BaseEditorKit},i[0]=e):e=i[0];let l=(0,B.FI)(e),d=(0,o.V)(l,r);return i[1]!==l||i[2]!==d?(n=(0,s.jsx)(P.u,{variant:"aiChat",editor:l,value:d}),i[1]=l,i[2]=d,i[3]=n):n=i[3],n});function H(){var t,e;let{api:n,editor:a}=(0,B.CF)(o.WB),r=(0,B.gO)(o.WB,"mode"),m=(0,B.gO)(o.WB,"toolName"),u=(0,B.gO)(o.WB,"streaming"),p=(0,l.IV)(),g=(0,B.hc)(),h=(0,B.gO)(o.WB,"open")&&g,[f,b]=i.useState(""),[v,y]=i.useState(""),w=(0,B.gO)(o.WB,"chat"),{messages:k,status:A}=w,[_,C]=i.useState(null),N=null==(e=(0,o.DQ)())||null==(t=e.parts.find(t=>"text"===t.type))?void 0:t.text;i.useEffect(()=>{if(u){let t=n.aiChat.node({anchor:!0});setTimeout(()=>{C(a.api.toDOMNode(t[0]))},0)}},[u]);let W=t=>{t?n.aiChat.show():n.aiChat.hide()},D=t=>{C(t),W(!0)};(0,o.FV)({onOpenBlockSelection:t=>{D(a.api.toDOMNode(t.at(-1)[0]))},onOpenChange:t=>{t||(C(null),y(""))},onOpenCursor:()=>{let[t]=a.api.block({highest:!0});a.api.isAt({end:!0})||a.api.isEmpty(t)||a.getApi(l.vO).blockSelection.set(t.id),D(a.api.toDOMNode(t))},onOpenSelection:()=>{D(a.api.toDOMNode(a.api.blocks().at(-1)[0]))}}),(0,O.vC)("esc",()=>{n.aiChat.stop(),w._abortFakeStream()});let I="streaming"===A||"submitted"===A;return(i.useEffect(()=>{if("edit"===m&&"chat"===r&&!I){let t=a.api.node({at:[],reverse:!0,match:t=>!!t[S.t.suggestion]&&!!t[(0,d._)()]});if(t||(t=a.getApi(l.vO).blockSelection.getNodes({selectionFallback:!0,sort:!0}).at(-1)),!t)return;let e=a.api.block({at:t[1]});C(a.api.toDOMNode(e[0]))}},[I]),I&&"insert"===r||"comment"===m||"edit"===m&&"chat"===r&&I)?null:(0,s.jsxs)(M.AM,{open:h,onOpenChange:W,modal:!1,children:[(0,s.jsx)(M.dT,{virtualRef:{current:_}}),(0,s.jsx)(M.hl,{className:"border-none bg-transparent p-0 shadow-none",style:{width:null==_?void 0:_.offsetWidth},onEscapeKeyDown:t=>{t.preventDefault(),n.aiChat.hide()},align:"center",side:"bottom",children:(0,s.jsxs)(E.uB,{className:"w-full rounded-lg border shadow-md",value:f,onValueChange:b,children:["chat"===r&&p&&N&&"generate"===m&&(0,s.jsx)(z,{content:N}),I?(0,s.jsxs)("div",{className:"flex grow select-none items-center gap-2 p-2 text-muted-foreground text-sm",children:[(0,s.jsx)(x.A,{className:"size-4 animate-spin"}),k.length>1?"Editing...":"Thinking..."]}):(0,s.jsx)(c.uB.Input,{className:(0,T.cn)("flex h-9 w-full min-w-0 border-input bg-transparent px-3 py-1 text-base outline-none transition-[color,box-shadow] placeholder:text-muted-foreground md:text-sm dark:bg-input/30","aria-invalid:border-destructive aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40","border-b focus-visible:ring-transparent"),value:v,onKeyDown:t=>{(0,j.v_)("backspace")(t)&&0===v.length&&(t.preventDefault(),n.aiChat.hide()),!(0,j.v_)("enter")(t)||t.shiftKey||f||(t.preventDefault(),n.aiChat.submit(v),y(""))},onValueChange:y,placeholder:"Ask AI anything...","data-plate-focus":!0,autoFocus:!0}),!I&&(0,s.jsx)(E.oI,{children:(0,s.jsx)(q,{input:v,setInput:y,setValue:b})})]})})]})}let L={accept:{icon:(0,s.jsx)(m.A,{}),label:"Accept",value:"accept",onSelect:t=>{let{aiEditor:e,editor:n}=t,{mode:s,toolName:a}=n.getOptions(o.WB);if("chat"===s&&"generate"===a)return n.getTransforms(o.WB).aiChat.replaceSelection(e);n.getTransforms(o.WB).aiChat.accept(),n.tf.focus({edge:"end"})}},comment:{icon:(0,s.jsx)(()=>{let t,e=(0,a.c)(1);return e[0]===Symbol.for("react.memo_cache_sentinel")?(t=(0,s.jsxs)("svg",{fill:"none",height:"24",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",width:"24",xmlns:"http://www.w3.org/2000/svg",children:[(0,s.jsx)("path",{d:"M0 0h24v24H0z",fill:"none",stroke:"none"}),(0,s.jsx)("path",{d:"M8 9h8"}),(0,s.jsx)("path",{d:"M8 13h4.5"}),(0,s.jsx)("path",{d:"M10 19l-1 -1h-3a3 3 0 0 1 -3 -3v-8a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v4.5"}),(0,s.jsx)("path",{d:"M17.8 20.817l-2.172 1.138a.392 .392 0 0 1 -.568 -.41l.415 -2.411l-1.757 -1.707a.389 .389 0 0 1 .217 -.665l2.428 -.352l1.086 -2.193a.392 .392 0 0 1 .702 0l1.086 2.193l2.428 .352a.39 .39 0 0 1 .217 .665l-1.757 1.707l.414 2.41a.39 .39 0 0 1 -.567 .411l-2.172 -1.138z"})]}),e[0]=t):t=e[0],t},{}),label:"Comment",value:"comment",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{mode:"insert",prompt:"Please comment on the following content and provide reasonable and meaningful feedback.",toolName:"comment"})}},continueWrite:{icon:(0,s.jsx)(u.A,{}),label:"Continue writing",value:"continueWrite",onSelect:t=>{let{editor:e,input:n}=t,s=e.api.block({highest:!0});if(!s)return;let a=0===N.lZ.string(s[0]).trim().length;e.getApi(o.WB).aiChat.submit(n,{mode:"insert",prompt:a?"<Document>\n{editor}\n</Document>\nStart writing a new paragraph AFTER <Document> ONLY ONE SENTENCE":"Continue writing AFTER <Block> ONLY ONE SENTENCE. DONT REPEAT THE TEXT.",toolName:"generate"})}},discard:{icon:(0,s.jsx)(p.A,{}),label:"Discard",shortcut:"Escape",value:"discard",onSelect:t=>{let{editor:e}=t;e.getTransforms(o.of).ai.undo(),e.getApi(o.WB).aiChat.hide()}},emojify:{icon:(0,s.jsx)(g.A,{}),label:"Emojify",value:"emojify",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Add a small number of contextually relevant emojis within each block only. You may insert emojis, but do not remove, replace, or rewrite existing text, and do not modify Markdown syntax, links, or line breaks.",toolName:"edit"})}},explain:{icon:(0,s.jsx)(h.A,{}),label:"Explain",value:"explain",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:{default:"Explain {editor}",selecting:"Explain"},toolName:"generate"})}},fixSpelling:{icon:(0,s.jsx)(m.A,{}),label:"Fix spelling & grammar",value:"fixSpelling",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Fix spelling, grammar, and punctuation errors within each block only, without changing meaning, tone, or adding new information.",toolName:"edit"})}},generateMarkdownSample:{icon:(0,s.jsx)(f.A,{}),label:"Generate Markdown sample",value:"generateMarkdownSample",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Generate a markdown sample",toolName:"generate"})}},generateMdxSample:{icon:(0,s.jsx)(f.A,{}),label:"Generate MDX sample",value:"generateMdxSample",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Generate a mdx sample",toolName:"generate"})}},improveWriting:{icon:(0,s.jsx)(b.A,{}),label:"Improve writing",value:"improveWriting",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Improve the writing for clarity and flow, without changing meaning or adding new information.",toolName:"edit"})}},insertBelow:{icon:(0,s.jsx)(v.A,{}),label:"Insert below",value:"insertBelow",onSelect:t=>{let{aiEditor:e,editor:n}=t;n.getTransforms(o.WB).aiChat.insertBelow(e,{format:"none"})}},makeLonger:{icon:(0,s.jsx)(y.A,{}),label:"Make longer",value:"makeLonger",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Make the content longer by elaborating on existing ideas within each block only, without changing meaning or adding new information.",toolName:"edit"})}},makeShorter:{icon:(0,s.jsx)(w.A,{}),label:"Make shorter",value:"makeShorter",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Make the content shorter by reducing verbosity within each block only, without changing meaning or removing essential information.",toolName:"edit"})}},replace:{icon:(0,s.jsx)(m.A,{}),label:"Replace selection",value:"replace",onSelect:t=>{let{aiEditor:e,editor:n}=t;n.getTransforms(o.WB).aiChat.replaceSelection(e)}},simplifyLanguage:{icon:(0,s.jsx)(k.A,{}),label:"Simplify language",value:"simplifyLanguage",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{prompt:"Simplify the language by using clearer and more straightforward wording within each block only, without changing meaning or adding new information.",toolName:"edit"})}},summarize:{icon:(0,s.jsx)(A.A,{}),label:"Add a summary",value:"summarize",onSelect:t=>{let{editor:e,input:n}=t;e.getApi(o.WB).aiChat.submit(n,{mode:"insert",prompt:{default:"Summarize {editor}",selecting:"Summarize"},toolName:"generate"})}},tryAgain:{icon:(0,s.jsx)(_.A,{}),label:"Try again",value:"tryAgain",onSelect:t=>{let{editor:e}=t;e.getApi(o.WB).aiChat.reload()}}},F={cursorCommand:[{items:[L.comment,L.generateMdxSample,L.generateMarkdownSample,L.continueWrite,L.summarize,L.explain]}],cursorSuggestion:[{items:[L.accept,L.discard,L.tryAgain]}],selectionCommand:[{items:[L.improveWriting,L.comment,L.emojify,L.makeLonger,L.makeShorter,L.fixSpelling,L.simplifyLanguage]}],selectionSuggestion:[{items:[L.accept,L.discard,L.insertBelow,L.tryAgain]}]},q=t=>{let e,n,r,d,c,x=(0,a.c)(20),{input:m,setInput:u,setValue:p}=t,g=(0,B.Q_)(),{messages:h}=(0,B.gO)(o.WB,"chat"),f=(0,B.gO)(o.WB,"aiEditor"),b=(0,l.IV)();t:{if(h&&h.length>0){e=b?"selectionSuggestion":"cursorSuggestion";break t}e=b?"selectionCommand":"cursorCommand"}let v=F[e];if(x[0]!==v[0]||x[1]!==v.length||x[2]!==p?(n=()=>{v.length>0&&v[0].items.length>0&&p(v[0].items[0].value)},x[0]=v[0],x[1]=v.length,x[2]=p,x[3]=n):n=x[3],x[4]!==v||x[5]!==p?(r=[v,p],x[4]=v,x[5]=p,x[6]=r):r=x[6],i.useEffect(n,r),x[7]!==f||x[8]!==g||x[9]!==m||x[10]!==v||x[11]!==u){let t;x[13]!==f||x[14]!==g||x[15]!==m||x[16]!==u?(t=(t,e)=>(0,s.jsx)(E.L$,{heading:t.heading,children:t.items.map(t=>(0,s.jsxs)(E.h_,{className:"[&_svg]:text-muted-foreground",value:t.value,onSelect:()=>{var e;null==(e=t.onSelect)||e.call(t,{aiEditor:f,editor:g,input:m}),u("")},children:[t.icon,(0,s.jsx)("span",{children:t.label})]},t.value))},e),x[13]=f,x[14]=g,x[15]=m,x[16]=u,x[17]=t):t=x[17],d=v.map(t),x[7]=f,x[8]=g,x[9]=m,x[10]=v,x[11]=u,x[12]=d}else d=x[12];return x[18]!==d?(c=(0,s.jsx)(s.Fragment,{children:d}),x[18]=d,x[19]=c):c=x[19],c};function $(){let t,e,n=(0,a.c)(33),i=(0,B.Q_)(),l=(0,B.gO)(o.WB,"toolName"),d=(0,B.gO)(o.WB,"chat"),c=(0,B.gO)(o.WB,"mode"),{status:x}=d,{api:m}=(0,B.CF)(o.WB),u="streaming"===x||"submitted"===x;n[0]!==m.aiChat||n[1]!==i?(t=t=>{"accept"===t&&i.tf.unsetNodes([(0,r.i)()],{at:[],match:R}),"reject"===t&&i.getTransforms(D.commentPlugin).comment.unsetMark({transient:!0}),m.aiChat.hide()},n[0]=m.aiChat,n[1]=i,n[2]=t):t=n[2];let p=t;if(n[3]!==m.aiChat||n[4]!==d?(e=()=>{m.aiChat.stop(),d._abortFakeStream()},n[3]=m.aiChat,n[4]=d,n[5]=e):e=n[5],(0,O.vC)("esc",e),u&&("insert"===c||"comment"===l||"edit"===l&&"chat"===c)){let t,e,a,i,o,r,l,d;n[6]===Symbol.for("react.memo_cache_sentinel")?(t=(0,T.cn)("-translate-x-1/2 absolute bottom-4 left-1/2 z-20 flex items-center gap-3 rounded-md border border-border bg-muted px-3 py-1.5 text-muted-foreground text-sm shadow-md transition-all duration-300"),e=(0,s.jsx)("span",{className:"h-4 w-4 animate-spin rounded-full border-2 border-muted-foreground border-t-transparent"}),n[6]=t,n[7]=e):(t=n[6],e=n[7]);let c="submitted"===x?"Thinking...":"Writing...";return n[8]!==c?(a=(0,s.jsx)("span",{children:c}),n[8]=c,n[9]=a):a=n[9],n[10]!==m.aiChat?(i=()=>m.aiChat.stop(),n[10]=m.aiChat,n[11]=i):i=n[11],n[12]===Symbol.for("react.memo_cache_sentinel")?(o=(0,s.jsx)(C.A,{className:"h-4 w-4"}),n[12]=o):o=n[12],n[13]===Symbol.for("react.memo_cache_sentinel")?(r=(0,s.jsx)("kbd",{className:"ml-1 rounded bg-border px-1 font-mono text-[10px] text-muted-foreground shadow-sm",children:"Esc"}),n[13]=r):r=n[13],n[14]!==i?(l=(0,s.jsxs)(W.$,{size:"sm",variant:"ghost",className:"flex items-center gap-1 text-xs",onClick:i,children:[o,"Stop",r]}),n[14]=i,n[15]=l):l=n[15],n[16]!==a||n[17]!==l?(d=(0,s.jsxs)("div",{className:t,children:[e,a,l]}),n[16]=a,n[17]=l,n[18]=d):d=n[18],d}if("comment"===l&&"ready"===x){let t,e,a,i,o,r;return n[19]===Symbol.for("react.memo_cache_sentinel")?(t=(0,T.cn)("-translate-x-1/2 absolute bottom-4 left-1/2 z-50 flex flex-col items-center gap-0 rounded-xl border border-border/50 bg-popover p-1 text-muted-foreground text-sm shadow-xl backdrop-blur-sm","p-3"),n[19]=t):t=n[19],n[20]!==p?(e=()=>p("accept"),n[20]=p,n[21]=e):e=n[21],n[22]!==u||n[23]!==e?(a=(0,s.jsx)(W.$,{size:"sm",disabled:u,onClick:e,children:"Accept"}),n[22]=u,n[23]=e,n[24]=a):a=n[24],n[25]!==p?(i=()=>p("reject"),n[25]=p,n[26]=i):i=n[26],n[27]!==u||n[28]!==i?(o=(0,s.jsx)(W.$,{size:"sm",disabled:u,onClick:i,children:"Reject"}),n[27]=u,n[28]=i,n[29]=o):o=n[29],n[30]!==a||n[31]!==o?(r=(0,s.jsx)("div",{className:t,children:(0,s.jsx)("div",{className:"flex w-full items-center justify-between gap-3",children:(0,s.jsxs)("div",{className:"flex items-center gap-5",children:[a,o]})})}),n[30]=a,n[31]=o,n[32]=r):r=n[32],r}return null}function R(t){return N.Qg.isText(t)&&!!t[S.t.comment]}},46296:(t,e,n)=>{n.r(e),n.d(e,{AIKit:()=>g,aiChatPlugin:()=>p});var s=n(50250),a=n(46639),i=n(50357),o=n(48674),r=n(14796),l=n(28268),d=n(38037),c=n(94929),x=n(32548),m=n(93775),u=n(51661);let p=a.WB.extend({options:{chatOptions:{api:"/api/ai/command",body:{}}},render:{afterContainer:d.AILoadingBar,afterEditable:d.AIMenu,node:c.AIAnchorElement},shortcuts:{show:{keys:"mod+j"}},useHooks:t=>{let{editor:e,getOption:n}=t;(0,x.useChat)();let d=(0,l.gO)(a.WB,"mode"),c=(0,l.gO)(a.WB,"toolName");(0,a.HM)({onChunk:t=>{let{chunk:l,isFirst:x,nodes:m,text:u}=t;x&&"insert"===d&&(e.tf.withoutSaving(()=>{e.tf.insertNodes({children:[{text:""}],type:(0,i.Ht)(e,o.t.aiChat)},{at:r.s2.next(e.selection.focus.path.slice(0,1))})}),e.setOption(a.WB,"streaming",!0)),"insert"===d&&m.length>0&&(0,s.r)(e,()=>{n("streaming")&&e.tf.withScrolling(()=>{(0,a.Fi)(e,l,{textProps:{[(0,i.Ht)(e,o.t.ai)]:!0}})})},{split:x}),"edit"===c&&"chat"===d&&(0,s.r)(e,()=>{(0,a.qv)(e,u)},{split:x})},onFinish:()=>{e.setOption(a.WB,"streaming",!1),e.setOption(a.WB,"_blockChunks",""),e.setOption(a.WB,"_blockPath",null),e.setOption(a.WB,"_mdxName",null)}})}}),g=[...m.CursorOverlayKit,...u.MarkdownKit,a.of.withComponent(c.AILeaf),p]},89742:(t,e,n)=>{n.d(e,{G7:()=>m,L$:()=>g,h_:()=>h,oI:()=>u,uB:()=>x,xL:()=>p});var s=n(98752),a=n(99019),i=n(15457),o=n(54568),r=n(99680);n(7620);var l=n(93606),d=n(96381);n(45471);var c=n(87536);function x(t){let e,n,s,d,x=(0,r.c)(8);return x[0]!==t?({className:e}=t,n=(0,i._)(t,["className"]),x[0]=t,x[1]=e,x[2]=n):(e=x[1],n=x[2]),x[3]!==e?(s=(0,c.cn)("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),x[3]=e,x[4]=s):s=x[4],x[5]!==n||x[6]!==s?(d=(0,o.jsx)(l.uB,(0,a._)({className:s,"data-slot":"command"},n)),x[5]=n,x[6]=s,x[7]=d):d=x[7],d}function m(t){let e,n,s,x,m,u=(0,r.c)(9);return u[0]!==t?({className:e}=t,n=(0,i._)(t,["className"]),u[0]=t,u[1]=e,u[2]=n):(e=u[1],n=u[2]),u[3]===Symbol.for("react.memo_cache_sentinel")?(s=(0,o.jsx)(d.A,{className:"size-4 shrink-0 opacity-50"}),u[3]=s):s=u[3],u[4]!==e?(x=(0,c.cn)("flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),u[4]=e,u[5]=x):x=u[5],u[6]!==n||u[7]!==x?(m=(0,o.jsxs)("div",{className:"flex h-9 items-center gap-2 border-b px-3","data-slot":"command-input-wrapper",children:[s,(0,o.jsx)(l.uB.Input,(0,a._)({className:x,"data-slot":"command-input"},n))]}),u[6]=n,u[7]=x,u[8]=m):m=u[8],m}function u(t){let e,n,s,d,x=(0,r.c)(8);return x[0]!==t?({className:e}=t,n=(0,i._)(t,["className"]),x[0]=t,x[1]=e,x[2]=n):(e=x[1],n=x[2]),x[3]!==e?(s=(0,c.cn)("max-h-[300px] scroll-py-1 overflow-y-auto overflow-x-hidden",e),x[3]=e,x[4]=s):s=x[4],x[5]!==n||x[6]!==s?(d=(0,o.jsx)(l.uB.List,(0,a._)({className:s,"data-slot":"command-list"},n)),x[5]=n,x[6]=s,x[7]=d):d=x[7],d}function p(t){let e,n,i=(0,r.c)(4);return i[0]!==t?(e=(0,s._)({},t),i[0]=t,i[1]=e):e=i[1],i[2]!==e?(n=(0,o.jsx)(l.uB.Empty,(0,a._)({className:"py-6 text-center text-sm","data-slot":"command-empty"},e)),i[2]=e,i[3]=n):n=i[3],n}function g(t){let e,n,s,d,x=(0,r.c)(8);return x[0]!==t?({className:e}=t,n=(0,i._)(t,["className"]),x[0]=t,x[1]=e,x[2]=n):(e=x[1],n=x[2]),x[3]!==e?(s=(0,c.cn)("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group-heading]]:text-xs",e),x[3]=e,x[4]=s):s=x[4],x[5]!==n||x[6]!==s?(d=(0,o.jsx)(l.uB.Group,(0,a._)({className:s,"data-slot":"command-group"},n)),x[5]=n,x[6]=s,x[7]=d):d=x[7],d}function h(t){let e,n,s,d,x=(0,r.c)(8);return x[0]!==t?({className:e}=t,n=(0,i._)(t,["className"]),x[0]=t,x[1]=e,x[2]=n):(e=x[1],n=x[2]),x[3]!==e?(s=(0,c.cn)("relative flex cursor-pointer select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden data-[disabled=true]:pointer-events-none data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg:not([class*='size-'])]:size-4 [&_svg:not([class*='text-'])]:text-muted-foreground [&_svg]:pointer-events-none [&_svg]:shrink-0",e),x[3]=e,x[4]=s):s=x[4],x[5]!==n||x[6]!==s?(d=(0,o.jsx)(l.uB.Item,(0,a._)({className:s,"data-slot":"command-item"},n)),x[5]=n,x[6]=s,x[7]=d):d=x[7],d}},93775:(t,e,n)=>{n.r(e),n.d(e,{CursorOverlayKit:()=>o});var s=n(54568),a=n(30589),i=n(22967);let o=[a.CB.configure({render:{afterEditable:()=>(0,s.jsx)(i.CursorOverlay,{})}})]},94929:(t,e,n)=>{n.r(e),n.d(e,{AIAnchorElement:()=>x,AILeaf:()=>c});var s=n(99019),a=n(5147),i=n(54568),o=n(99680),r=n(46639),l=n(28268),d=n(87536);function c(t){let e,n,a,c=(0,o.c)(7),x=(0,l.gO)(r.WB,"streaming");c[0]!==t.editor?(e=t.editor.getApi(r.WB).aiChat.node({streaming:!0}),c[0]=t.editor,c[1]=e):e=c[1];let m=e,u=(null==m?void 0:m[0])===t.text&&x&&'after:ml-1.5 after:inline-block after:h-3 after:w-3 after:rounded-full after:bg-primary after:align-middle after:content-[""]';return c[2]!==u?(n=(0,d.cn)("border-b-2 border-b-purple-100 bg-purple-50 text-purple-800","transition-all duration-200 ease-in-out",u),c[2]=u,c[3]=n):n=c[3],c[4]!==t||c[5]!==n?(a=(0,i.jsx)(l.uC,(0,s._)({className:n},t)),c[4]=t,c[5]=n,c[6]=a):a=c[6],a}function x(t){let e,n,r=(0,o.c)(3);return r[0]===Symbol.for("react.memo_cache_sentinel")?(e=(0,i.jsx)("div",{className:"h-[0.1px]"}),r[0]=e):e=r[0],r[1]!==t?(n=(0,i.jsx)(l.tc,(0,a._)((0,s._)({},t),{children:e})),r[1]=t,r[2]=n):n=r[2],n}}}]);